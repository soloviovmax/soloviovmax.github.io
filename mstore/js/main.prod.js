(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var AddProductItems = function () {
    function AddProductItems() {
        _classCallCheck(this, AddProductItems);

        // DOM
        this.mainItem = document.querySelector('.product__item-clone').children[0];
        this.parrent = document.querySelector('.feauture-product');
        this.btn = document.querySelector('.load-more-btn');

        // vars 
        this.firstLoadedItemsQty = 8;
        this.pressBtnLoadedItemsQty = 4;

        //  events
        this._firstLoadAddItems();
        this._pressBtnAddItems();
    }

    _createClass(AddProductItems, [{
        key: '_firstLoadAddItems',
        value: function _firstLoadAddItems() {
            var _this = this;

            var xhr = new XMLHttpRequest();

            xhr.open('GET', '../db.json');

            xhr.responseType = "json";

            xhr.addEventListener('load', function () {
                var data = xhr.response;
                var totalQtyItems = data.length - 1;
                var qtyItems = _this.firstLoadedItemsQty;

                _this._addItems(totalQtyItems, qtyItems, data);
            });
            xhr.send();
        }
    }, {
        key: '_pressBtnAddItems',
        value: function _pressBtnAddItems() {
            var _this2 = this;

            this.nowAdded = this.firstLoadedItemsQty;

            this.btn.addEventListener('click', function () {
                var xhr = new XMLHttpRequest();

                xhr.open('GET', '../db.json');

                xhr.responseType = "json";

                xhr.addEventListener('load', function () {
                    var data = xhr.response;
                    var totalQtyItems = data.length - 1 - _this2.nowAdded;
                    var qtyItems = _this2.pressBtnLoadedItemsQty;
                    _this2._addItems(totalQtyItems, qtyItems, data);

                    _this2.nowAdded += _this2.pressBtnLoadedItemsQty;
                });
                xhr.send();
            });
        }
    }, {
        key: '_addItems',
        value: function _addItems(totalQty, addQty, data) {

            for (var i = totalQty; i > totalQty - addQty; i--) {
                if (i === 0) {
                    this.btn.style.display = 'none';
                }
                var currentItem = this.mainItem.cloneNode(true);

                var img = currentItem.querySelector('.product__img'),
                    title = currentItem.querySelector('.product__title-link'),
                    price = currentItem.querySelector('.product__price'),
                    basketBtn = currentItem.querySelector('.product__details-button--basket'),
                    zoomBtn = currentItem.querySelector('.product__details-button--zoom');

                var dataItem = data[i];

                for (var key in dataItem) {
                    if (key === 'src') {
                        img.setAttribute('src', 'img/' + dataItem[key]);
                        zoomBtn.dataset.src = 'img/' + 'big-' + dataItem[key];
                    } else if (key === 'title') {
                        title.textContent = dataItem[key];
                    } else if (key === 'price') {
                        price.textContent = '$' + dataItem[key];
                        basketBtn.dataset.price = dataItem[key];
                    } else if (key === 'id') {
                        currentItem.dataset.id = dataItem[key];
                    } else if (key === 'oldPrice') {
                        var oldPriceSpan = document.createElement('span');
                        oldPriceSpan.textContent = '$' + dataItem[key];
                        oldPriceSpan.classList.add('product__old-price');
                        var descrWrap = currentItem.querySelector('.product-descr');
                        descrWrap.insertBefore(oldPriceSpan, descrWrap.children[2]);
                    } else if (key === 'label') {
                        currentItem.classList.add('product__item--label-' + dataItem[key]);
                    }
                }
                this.parrent.appendChild(currentItem);
            }
        }
    }]);

    return AddProductItems;
}();

exports.default = AddProductItems;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9hZGQtcHJvZHVjdC1pdGVtcy5qcyJdLCJuYW1lcyI6WyJBZGRQcm9kdWN0SXRlbXMiLCJtYWluSXRlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNoaWxkcmVuIiwicGFycmVudCIsImJ0biIsImZpcnN0TG9hZGVkSXRlbXNRdHkiLCJwcmVzc0J0bkxvYWRlZEl0ZW1zUXR5IiwiX2ZpcnN0TG9hZEFkZEl0ZW1zIiwiX3ByZXNzQnRuQWRkSXRlbXMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YSIsInJlc3BvbnNlIiwidG90YWxRdHlJdGVtcyIsImxlbmd0aCIsInF0eUl0ZW1zIiwiX2FkZEl0ZW1zIiwic2VuZCIsIm5vd0FkZGVkIiwidG90YWxRdHkiLCJhZGRRdHkiLCJpIiwic3R5bGUiLCJkaXNwbGF5IiwiY3VycmVudEl0ZW0iLCJjbG9uZU5vZGUiLCJpbWciLCJ0aXRsZSIsInByaWNlIiwiYmFza2V0QnRuIiwiem9vbUJ0biIsImRhdGFJdGVtIiwia2V5Iiwic2V0QXR0cmlidXRlIiwiZGF0YXNldCIsInNyYyIsInRleHRDb250ZW50IiwiaWQiLCJvbGRQcmljZVNwYW4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGVzY3JXcmFwIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLGU7QUFDakIsK0JBQWM7QUFBQTs7QUFDVjtBQUNBLGFBQUtDLFFBQUwsR0FBZ0JDLFNBQVNDLGFBQVQsQ0FBdUIsc0JBQXZCLEVBQStDQyxRQUEvQyxDQUF3RCxDQUF4RCxDQUFoQjtBQUNBLGFBQUtDLE9BQUwsR0FBZUgsU0FBU0MsYUFBVCxDQUF1QixtQkFBdkIsQ0FBZjtBQUNBLGFBQUtHLEdBQUwsR0FBV0osU0FBU0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FBWDs7QUFFQTtBQUNBLGFBQUtJLG1CQUFMLEdBQTJCLENBQTNCO0FBQ0EsYUFBS0Msc0JBQUwsR0FBOEIsQ0FBOUI7O0FBR0E7QUFDQSxhQUFLQyxrQkFBTDtBQUNBLGFBQUtDLGlCQUFMO0FBQ0g7Ozs7NkNBRW9CO0FBQUE7O0FBQ2pCLGdCQUFJQyxNQUFNLElBQUlDLGNBQUosRUFBVjs7QUFFQUQsZ0JBQUlFLElBQUosQ0FBUyxLQUFULEVBQWdCLFlBQWhCOztBQUVBRixnQkFBSUcsWUFBSixHQUFtQixNQUFuQjs7QUFFQUgsZ0JBQUlJLGdCQUFKLENBQXFCLE1BQXJCLEVBQTZCLFlBQU07QUFDL0Isb0JBQUlDLE9BQU9MLElBQUlNLFFBQWY7QUFDQSxvQkFBSUMsZ0JBQWlCRixLQUFLRyxNQUFMLEdBQWMsQ0FBbkM7QUFDQSxvQkFBSUMsV0FBVyxNQUFLYixtQkFBcEI7O0FBRUosc0JBQUtjLFNBQUwsQ0FBZUgsYUFBZixFQUE4QkUsUUFBOUIsRUFBd0NKLElBQXhDO0FBRUMsYUFQRDtBQVFBTCxnQkFBSVcsSUFBSjtBQUVIOzs7NENBRW1CO0FBQUE7O0FBQ2hCLGlCQUFLQyxRQUFMLEdBQWdCLEtBQUtoQixtQkFBckI7O0FBRUEsaUJBQUtELEdBQUwsQ0FBU1MsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtBQUNyQyxvQkFBSUosTUFBTSxJQUFJQyxjQUFKLEVBQVY7O0FBRUFELG9CQUFJRSxJQUFKLENBQVMsS0FBVCxFQUFnQixZQUFoQjs7QUFFQUYsb0JBQUlHLFlBQUosR0FBbUIsTUFBbkI7O0FBRUFILG9CQUFJSSxnQkFBSixDQUFxQixNQUFyQixFQUE2QixZQUFNO0FBQy9CLHdCQUFJQyxPQUFPTCxJQUFJTSxRQUFmO0FBQ0Esd0JBQUlDLGdCQUFpQkYsS0FBS0csTUFBTCxHQUFjLENBQWQsR0FBa0IsT0FBS0ksUUFBNUM7QUFDQSx3QkFBSUgsV0FBVyxPQUFLWixzQkFBcEI7QUFDSiwyQkFBS2EsU0FBTCxDQUFlSCxhQUFmLEVBQThCRSxRQUE5QixFQUF3Q0osSUFBeEM7O0FBRUEsMkJBQUtPLFFBQUwsSUFBaUIsT0FBS2Ysc0JBQXRCO0FBQ0MsaUJBUEQ7QUFRQUcsb0JBQUlXLElBQUo7QUFFSCxhQWpCRDtBQWtCSDs7O2tDQUVTRSxRLEVBQVVDLE0sRUFBUVQsSSxFQUFNOztBQUU5QixpQkFBSyxJQUFJVSxJQUFJRixRQUFiLEVBQXVCRSxJQUFLRixXQUFXQyxNQUF2QyxFQUFnREMsR0FBaEQsRUFBcUQ7QUFDakQsb0JBQUlBLE1BQU0sQ0FBVixFQUFhO0FBQ1QseUJBQUtwQixHQUFMLENBQVNxQixLQUFULENBQWVDLE9BQWYsR0FBeUIsTUFBekI7QUFDSDtBQUNELG9CQUFJQyxjQUFjLEtBQUs1QixRQUFMLENBQWM2QixTQUFkLENBQXdCLElBQXhCLENBQWxCOztBQUVBLG9CQUFJQyxNQUFNRixZQUFZMUIsYUFBWixDQUEwQixlQUExQixDQUFWO0FBQUEsb0JBQ0k2QixRQUFRSCxZQUFZMUIsYUFBWixDQUEwQixzQkFBMUIsQ0FEWjtBQUFBLG9CQUVJOEIsUUFBUUosWUFBWTFCLGFBQVosQ0FBMEIsaUJBQTFCLENBRlo7QUFBQSxvQkFHSStCLFlBQVlMLFlBQVkxQixhQUFaLENBQTBCLGtDQUExQixDQUhoQjtBQUFBLG9CQUlJZ0MsVUFBVU4sWUFBWTFCLGFBQVosQ0FBMEIsZ0NBQTFCLENBSmQ7O0FBTUEsb0JBQUlpQyxXQUFXcEIsS0FBS1UsQ0FBTCxDQUFmOztBQUVBLHFCQUFLLElBQUlXLEdBQVQsSUFBZ0JELFFBQWhCLEVBQTBCO0FBQ3RCLHdCQUFJQyxRQUFRLEtBQVosRUFBbUI7QUFDZk4sNEJBQUlPLFlBQUosQ0FBaUIsS0FBakIsRUFBeUIsU0FBU0YsU0FBU0MsR0FBVCxDQUFsQztBQUNBRixnQ0FBUUksT0FBUixDQUFnQkMsR0FBaEIsR0FBdUIsU0FBUyxNQUFULEdBQWtCSixTQUFTQyxHQUFULENBQXpDO0FBQ0gscUJBSEQsTUFHTyxJQUFJQSxRQUFRLE9BQVosRUFBcUI7QUFDeEJMLDhCQUFNUyxXQUFOLEdBQW9CTCxTQUFTQyxHQUFULENBQXBCO0FBQ0gscUJBRk0sTUFFQSxJQUFJQSxRQUFRLE9BQVosRUFBcUI7QUFDeEJKLDhCQUFNUSxXQUFOLEdBQW9CLE1BQU1MLFNBQVNDLEdBQVQsQ0FBMUI7QUFDQUgsa0NBQVVLLE9BQVYsQ0FBa0JOLEtBQWxCLEdBQTBCRyxTQUFTQyxHQUFULENBQTFCO0FBQ0gscUJBSE0sTUFHQSxJQUFJQSxRQUFRLElBQVosRUFBa0I7QUFDckJSLG9DQUFZVSxPQUFaLENBQW9CRyxFQUFwQixHQUF5Qk4sU0FBU0MsR0FBVCxDQUF6QjtBQUNILHFCQUZNLE1BRUEsSUFBSUEsUUFBUSxVQUFaLEVBQXdCO0FBQzNCLDRCQUFJTSxlQUFlekMsU0FBUzBDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBbkI7QUFDQUQscUNBQWFGLFdBQWIsR0FBMkIsTUFBTUwsU0FBU0MsR0FBVCxDQUFqQztBQUNBTSxxQ0FBYUUsU0FBYixDQUF1QkMsR0FBdkIsQ0FBMkIsb0JBQTNCO0FBQ0EsNEJBQUlDLFlBQVlsQixZQUFZMUIsYUFBWixDQUEwQixnQkFBMUIsQ0FBaEI7QUFDQTRDLGtDQUFVQyxZQUFWLENBQXVCTCxZQUF2QixFQUFxQ0ksVUFBVTNDLFFBQVYsQ0FBbUIsQ0FBbkIsQ0FBckM7QUFDSCxxQkFOTSxNQU1BLElBQUlpQyxRQUFRLE9BQVosRUFBcUI7QUFDeEJSLG9DQUFZZ0IsU0FBWixDQUFzQkMsR0FBdEIsQ0FBMEIsMEJBQTBCVixTQUFTQyxHQUFULENBQXBEO0FBQ0g7QUFFSjtBQUNELHFCQUFLaEMsT0FBTCxDQUFhNEMsV0FBYixDQUF5QnBCLFdBQXpCO0FBQ0g7QUFDSjs7Ozs7O2tCQW5HZ0I3QixlO0FBb0dwQiIsImZpbGUiOiJfYWRkLXByb2R1Y3QtaXRlbXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRQcm9kdWN0SXRlbXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8gRE9NXHJcbiAgICAgICAgdGhpcy5tYWluSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19pdGVtLWNsb25lJykuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgdGhpcy5wYXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXV0dXJlLXByb2R1Y3QnKTtcclxuICAgICAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkLW1vcmUtYnRuJyk7XHJcblxyXG4gICAgICAgIC8vIHZhcnMgXHJcbiAgICAgICAgdGhpcy5maXJzdExvYWRlZEl0ZW1zUXR5ID0gODtcclxuICAgICAgICB0aGlzLnByZXNzQnRuTG9hZGVkSXRlbXNRdHkgPSA0O1xyXG5cclxuXHJcbiAgICAgICAgLy8gIGV2ZW50c1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0TG9hZEFkZEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5fcHJlc3NCdG5BZGRJdGVtcygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9maXJzdExvYWRBZGRJdGVtcygpIHtcclxuICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCAnLi4vZGIuanNvbicpO1xyXG5cclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XHJcblxyXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgbGV0IHRvdGFsUXR5SXRlbXMgPSAoZGF0YS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgbGV0IHF0eUl0ZW1zID0gdGhpcy5maXJzdExvYWRlZEl0ZW1zUXR5O1xyXG5cclxuICAgICAgICB0aGlzLl9hZGRJdGVtcyh0b3RhbFF0eUl0ZW1zLCBxdHlJdGVtcywgZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIF9wcmVzc0J0bkFkZEl0ZW1zKCkge1xyXG4gICAgICAgIHRoaXMubm93QWRkZWQgPSB0aGlzLmZpcnN0TG9hZGVkSXRlbXNRdHk7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJy4uL2RiLmpzb24nKTtcclxuXHJcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBcImpzb25cIjtcclxuXHJcbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB4aHIucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG90YWxRdHlJdGVtcyA9IChkYXRhLmxlbmd0aCAtIDEgLSB0aGlzLm5vd0FkZGVkKTtcclxuICAgICAgICAgICAgICAgIGxldCBxdHlJdGVtcyA9IHRoaXMucHJlc3NCdG5Mb2FkZWRJdGVtc1F0eTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkSXRlbXModG90YWxRdHlJdGVtcywgcXR5SXRlbXMsIGRhdGEpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5ub3dBZGRlZCArPSB0aGlzLnByZXNzQnRuTG9hZGVkSXRlbXNRdHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfYWRkSXRlbXModG90YWxRdHksIGFkZFF0eSwgZGF0YSkge1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdG90YWxRdHk7IGkgPiAodG90YWxRdHkgLSBhZGRRdHkpOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRJdGVtID0gdGhpcy5tYWluSXRlbS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW1nID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2ltZycpLFxyXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fdGl0bGUtbGluaycpLFxyXG4gICAgICAgICAgICAgICAgcHJpY2UgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fcHJpY2UnKSxcclxuICAgICAgICAgICAgICAgIGJhc2tldEJ0biA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tYmFza2V0JyksXHJcbiAgICAgICAgICAgICAgICB6b29tQnRuID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS16b29tJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGF0YUl0ZW0gPSBkYXRhW2ldO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGFJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnc3JjJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICgnaW1nLycgKyBkYXRhSXRlbVtrZXldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgem9vbUJ0bi5kYXRhc2V0LnNyYyA9ICgnaW1nLycgKyAnYmlnLScgKyBkYXRhSXRlbVtrZXldKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndGl0bGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhSXRlbVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwcmljZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmljZS50ZXh0Q29udGVudCA9ICckJyArIGRhdGFJdGVtW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgYmFza2V0QnRuLmRhdGFzZXQucHJpY2UgPSBkYXRhSXRlbVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdpZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5kYXRhc2V0LmlkID0gZGF0YUl0ZW1ba2V5XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnb2xkUHJpY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZFByaWNlU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBvbGRQcmljZVNwYW4udGV4dENvbnRlbnQgPSAnJCcgKyBkYXRhSXRlbVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFByaWNlU3Bhbi5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19vbGQtcHJpY2UnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JXcmFwID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtZGVzY3InKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcldyYXAuaW5zZXJ0QmVmb3JlKG9sZFByaWNlU3BhbiwgZGVzY3JXcmFwLmNoaWxkcmVuWzJdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvZHVjdF9faXRlbS0tbGFiZWwtJyArIGRhdGFJdGVtW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJyZW50LmFwcGVuZENoaWxkKGN1cnJlbnRJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59OyJdfQ==
},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BurgerMenu = function () {
   function BurgerMenu() {
      _classCallCheck(this, BurgerMenu);

      // DOM
      this.btn = document.querySelector('.burger-btn');
      this.navList = document.querySelector('.fixed-nav .header-nav__list');
      this.navItem = document.querySelectorAll('.fixed-nav .header-nav__item');
      this.body = document.querySelector('body');
      this.header = document.querySelector('.header');
      this.maincontent = document.querySelector('.maincontent');
      this.footer = document.querySelector('.footer');

      //  events
      this._events();
   }

   _createClass(BurgerMenu, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         this.btn.addEventListener('click', function () {
            _this.navList.classList.add('header-nav__list--burger-active');

            var timeout = 50;

            var _loop = function _loop(i) {

               setTimeout(function () {
                  _this.navItem[i].classList.add('header-nav__item--burger-active');
               }, timeout);

               timeout += 50;
            };

            for (var i = 0; i < _this.navItem.length; i++) {
               _loop(i);
            };

            _this.body.classList.add('overflow-hidden');
            _this.header.classList.add('blur');
            _this.maincontent.classList.add('blur');
            _this.footer.classList.add('blur');
         });

         this.navList.addEventListener('click', function (e) {
            if (e.target === e.currentTarget) {
               _this.navList.classList.remove('header-nav__list--burger-active');

               for (var i = 0; i < _this.navItem.length; i++) {
                  _this.navItem[i].classList.remove('header-nav__item--burger-active');
               };

               _this.body.classList.remove('overflow-hidden');
               _this.header.classList.remove('blur');
               _this.maincontent.classList.remove('blur');
               _this.footer.classList.remove('blur');
            }
         });
      }
   }]);

   return BurgerMenu;
}();

exports.default = BurgerMenu;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9idXJnZXItbWVudS5qcyJdLCJuYW1lcyI6WyJCdXJnZXJNZW51IiwiYnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TGlzdCIsIm5hdkl0ZW0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm9keSIsImhlYWRlciIsIm1haW5jb250ZW50IiwiZm9vdGVyIiwiX2V2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0aW1lb3V0IiwiaSIsInNldFRpbWVvdXQiLCJsZW5ndGgiLCJlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsVTtBQUNsQix5QkFBYztBQUFBOztBQUNYO0FBQ0EsV0FBS0MsR0FBTCxHQUFXQyxTQUFTQyxhQUFULENBQXVCLGFBQXZCLENBQVg7QUFDQSxXQUFLQyxPQUFMLEdBQWVGLFNBQVNDLGFBQVQsQ0FBdUIsOEJBQXZCLENBQWY7QUFDQSxXQUFLRSxPQUFMLEdBQWVILFNBQVNJLGdCQUFULENBQTBCLDhCQUExQixDQUFmO0FBQ0EsV0FBS0MsSUFBTCxHQUFZTCxTQUFTQyxhQUFULENBQXVCLE1BQXZCLENBQVo7QUFDQSxXQUFLSyxNQUFMLEdBQWNOLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZDtBQUNBLFdBQUtNLFdBQUwsR0FBbUJQLFNBQVNDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FBbkI7QUFDQSxXQUFLTyxNQUFMLEdBQWNSLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZDs7QUFFQTtBQUNBLFdBQUtRLE9BQUw7QUFDRjs7OztnQ0FFUztBQUFBOztBQUNQLGNBQUtWLEdBQUwsQ0FBU1csZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtBQUN0QyxrQkFBS1IsT0FBTCxDQUFhUyxTQUFiLENBQXVCQyxHQUF2QixDQUEyQixpQ0FBM0I7O0FBRUEsZ0JBQUlDLFVBQVUsRUFBZDs7QUFIc0MsdUNBSTdCQyxDQUo2Qjs7QUFNbkNDLDBCQUFXLFlBQU07QUFDZCx3QkFBS1osT0FBTCxDQUFhVyxDQUFiLEVBQWdCSCxTQUFoQixDQUEwQkMsR0FBMUIsQ0FBOEIsaUNBQTlCO0FBQ0YsZ0JBRkQsRUFFR0MsT0FGSDs7QUFJQUEsMEJBQVcsRUFBWDtBQVZtQzs7QUFJdEMsaUJBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLE1BQUtYLE9BQUwsQ0FBYWEsTUFBakMsRUFBeUNGLEdBQXpDLEVBQThDO0FBQUEscUJBQXJDQSxDQUFxQztBQU83Qzs7QUFFRCxrQkFBS1QsSUFBTCxDQUFVTSxTQUFWLENBQW9CQyxHQUFwQixDQUF3QixpQkFBeEI7QUFDQSxrQkFBS04sTUFBTCxDQUFZSyxTQUFaLENBQXNCQyxHQUF0QixDQUEwQixNQUExQjtBQUNBLGtCQUFLTCxXQUFMLENBQWlCSSxTQUFqQixDQUEyQkMsR0FBM0IsQ0FBK0IsTUFBL0I7QUFDQSxrQkFBS0osTUFBTCxDQUFZRyxTQUFaLENBQXNCQyxHQUF0QixDQUEwQixNQUExQjtBQUNGLFVBakJEOztBQW1CQSxjQUFLVixPQUFMLENBQWFRLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLGFBQUs7QUFDekMsZ0JBQUlPLEVBQUVDLE1BQUYsS0FBYUQsRUFBRUUsYUFBbkIsRUFBa0M7QUFDL0IscUJBQUtqQixPQUFMLENBQWFTLFNBQWIsQ0FBdUJTLE1BQXZCLENBQThCLGlDQUE5Qjs7QUFFQSxvQkFBSyxJQUFJTixJQUFJLENBQWIsRUFBZ0JBLElBQUksTUFBS1gsT0FBTCxDQUFhYSxNQUFqQyxFQUF5Q0YsR0FBekMsRUFBOEM7QUFDM0Msd0JBQUtYLE9BQUwsQ0FBYVcsQ0FBYixFQUFnQkgsU0FBaEIsQ0FBMEJTLE1BQTFCLENBQWlDLGlDQUFqQztBQUNGOztBQUVELHFCQUFLZixJQUFMLENBQVVNLFNBQVYsQ0FBb0JTLE1BQXBCLENBQTJCLGlCQUEzQjtBQUNBLHFCQUFLZCxNQUFMLENBQVlLLFNBQVosQ0FBc0JTLE1BQXRCLENBQTZCLE1BQTdCO0FBQ0EscUJBQUtiLFdBQUwsQ0FBaUJJLFNBQWpCLENBQTJCUyxNQUEzQixDQUFrQyxNQUFsQztBQUNBLHFCQUFLWixNQUFMLENBQVlHLFNBQVosQ0FBc0JTLE1BQXRCLENBQTZCLE1BQTdCO0FBQ0Y7QUFDSCxVQWJEO0FBY0Y7Ozs7OztrQkFqRGlCdEIsVTtBQWtEcEIiLCJmaWxlIjoiX2J1cmdlci1tZW51LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVyZ2VyTWVudSB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAvLyBET01cclxuICAgICAgdGhpcy5idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpO1xyXG4gICAgICB0aGlzLm5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19saXN0Jyk7XHJcbiAgICAgIHRoaXMubmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maXhlZC1uYXYgLmhlYWRlci1uYXZfX2l0ZW0nKTtcclxuICAgICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcclxuICAgICAgdGhpcy5tYWluY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpO1xyXG4gICAgICB0aGlzLmZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXInKTtcclxuXHJcbiAgICAgIC8vICBldmVudHNcclxuICAgICAgdGhpcy5fZXZlbnRzKCk7XHJcbiAgIH1cclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHRoaXMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLm5hdkxpc3QuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9fbGlzdC0tYnVyZ2VyLWFjdGl2ZScpO1xyXG5cclxuICAgICAgICAgbGV0IHRpbWVvdXQgPSA1MDtcclxuICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5hdkl0ZW0ubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICB0aGlzLm5hdkl0ZW1baV0uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9faXRlbS0tYnVyZ2VyLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuXHJcbiAgICAgICAgICAgIHRpbWVvdXQgKz0gNTA7XHJcbiAgICAgICAgIH07XHJcblxyXG4gICAgICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2JsdXInKTtcclxuICAgICAgICAgdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XHJcbiAgICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2JsdXInKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLm5hdkxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXZMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1uYXZfX2xpc3QtLWJ1cmdlci1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYXZJdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMubmF2SXRlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19pdGVtLS1idXJnZXItYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgfVxyXG59OyJdfQ==
},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FixedHeader = function () {
   function FixedHeader() {
      _classCallCheck(this, FixedHeader);

      // DOM
      this.header = document.querySelector('.bottom-header');

      // Additional Vars
      this.offset = 1000;

      //  events
      this._events();
   }

   _createClass(FixedHeader, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         window.addEventListener('scroll', function (e) {
            if (window.pageYOffset > _this.offset) {
               _this.header.style.transform = 'translateY(0)';
               _this.header.classList.add('bottom-header--fixed');
            } else if (window.pageYOffset > _this.offset / 3 * 2) {
               _this.header.style.transform = 'translateY(-100%)';
            } else {
               _this.header.classList.remove('bottom-header--fixed');
               _this.header.style.transform = 'translateY(0)';
            }
         });
      }
   }]);

   return FixedHeader;
}();

exports.default = FixedHeader;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9maXhlZC1oZWFkZXIuanMiXSwibmFtZXMiOlsiRml4ZWRIZWFkZXIiLCJoZWFkZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvZmZzZXQiLCJfZXZlbnRzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhZ2VZT2Zmc2V0Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLFc7QUFDbEIsMEJBQWM7QUFBQTs7QUFDWDtBQUNBLFdBQUtDLE1BQUwsR0FBY0MsU0FBU0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FBZDs7QUFFQTtBQUNBLFdBQUtDLE1BQUwsR0FBYyxJQUFkOztBQUVBO0FBQ0EsV0FBS0MsT0FBTDtBQUNGOzs7O2dDQUVTO0FBQUE7O0FBQ1BDLGdCQUFPQyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQyxhQUFLO0FBQ3BDLGdCQUFJRCxPQUFPRSxXQUFQLEdBQXFCLE1BQUtKLE1BQTlCLEVBQXNDO0FBQ25DLHFCQUFLSCxNQUFMLENBQVlRLEtBQVosQ0FBa0JDLFNBQWxCLEdBQThCLGVBQTlCO0FBQ0EscUJBQUtULE1BQUwsQ0FBWVUsU0FBWixDQUFzQkMsR0FBdEIsQ0FBMEIsc0JBQTFCO0FBQ0YsYUFIRCxNQUdPLElBQUlOLE9BQU9FLFdBQVAsR0FBc0IsTUFBS0osTUFBTCxHQUFjLENBQWYsR0FBb0IsQ0FBN0MsRUFBZ0Q7QUFDcEQscUJBQUtILE1BQUwsQ0FBWVEsS0FBWixDQUFrQkMsU0FBbEIsR0FBOEIsbUJBQTlCO0FBQ0YsYUFGTSxNQUVBO0FBQ0oscUJBQUtULE1BQUwsQ0FBWVUsU0FBWixDQUFzQkUsTUFBdEIsQ0FBNkIsc0JBQTdCO0FBQ0EscUJBQUtaLE1BQUwsQ0FBWVEsS0FBWixDQUFrQkMsU0FBbEIsR0FBOEIsZUFBOUI7QUFDRjtBQUNILFVBVkQ7QUFXRjs7Ozs7O2tCQXhCaUJWLFc7QUF5QnBCIiwiZmlsZSI6Il9maXhlZC1oZWFkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGaXhlZEhlYWRlciB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAvLyBET01cclxuICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tLWhlYWRlcicpO1xyXG5cclxuICAgICAgLy8gQWRkaXRpb25hbCBWYXJzXHJcbiAgICAgIHRoaXMub2Zmc2V0ID0gMTAwMDtcclxuXHJcbiAgICAgIC8vICBldmVudHNcclxuICAgICAgdGhpcy5fZXZlbnRzKCk7XHJcbiAgIH1cclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcclxuICAgICAgICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHRoaXMub2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcclxuICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiAodGhpcy5vZmZzZXQgLyAzKSAqIDIpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTEwMCUpJztcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcbn07Il19
},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ProductItemsEvents = function () {
    function ProductItemsEvents() {
        _classCallCheck(this, ProductItemsEvents);

        // DOM
        this.itemsWrap = document.querySelector('.feauture-product');
        this.basketTotalPrice = document.querySelector('.user-panel__button-total-price');
        this.basketQty = document.querySelector('.user-panel__button-qty--basket');
        this.heartsQty = document.querySelector('.user-panel__button-qty--heart');
        this.imageZoomBtn = document.querySelector('.product__details-button--zoom');
        this.imgZoomWindow = document.querySelector('.img-zoom-window__img');

        // Additional Vars
        this.totalPrice = 0;
        this.totalQty = 0;
        this.totalLikes = 0;

        //  events
        this._events();
        this._loadBasketFromLocalStorege();
    }

    _createClass(ProductItemsEvents, [{
        key: '_events',
        value: function _events() {
            var _this = this;

            this.itemsWrap.addEventListener('click', function (e) {
                _this._addToBasket(e);
                _this._like(e);
                _this._zoomBtn(e);
                _this._stars(e);
            });
        }
    }, {
        key: '_addToBasket',
        value: function _addToBasket(e) {
            if (e.target.parentElement.dataset.price || e.target.dataset.price) {

                var target = null;
                if (e.target.tagName === 'I') {
                    target = e.target.parentElement;
                } else {
                    target = e.target;
                }

                var itemPrice = target.dataset.price;
                this.totalPrice += +itemPrice;
                this.totalQty++;

                this.basketTotalPrice.textContent = '$' + this.totalPrice;
                this.basketQty.textContent = this.totalQty;

                localStorage.setItem('basketTotalPrice', this.totalPrice);
                localStorage.setItem('basketQty', this.totalQty);
            };
        }
    }, {
        key: '_loadBasketFromLocalStorege',
        value: function _loadBasketFromLocalStorege() {
            if (localStorage.getItem('basketTotalPrice')) {
                this.totalPrice = +localStorage.getItem('basketTotalPrice');
                this.basketTotalPrice.textContent = this.totalPrice;
            }

            if (localStorage.getItem('basketQty')) {
                this.totalQty = +localStorage.getItem('basketQty');
                this.basketQty.textContent = this.totalQty;
            }
        }
    }, {
        key: '_like',
        value: function _like(e) {
            if (e.target.parentElement.classList.contains('product__details-button--heart')) {
                if (e.target.parentElement.classList.contains('product__details-button--heart-active')) {
                    e.target.parentElement.classList.remove('product__details-button--heart-active');
                    this.totalLikes--;
                    this.heartsQty.textContent = this.totalLikes;
                } else {
                    e.target.parentElement.classList.add('product__details-button--heart-active');
                    this.totalLikes++;
                    this.heartsQty.textContent = this.totalLikes;
                }
            };
        }
    }, {
        key: '_zoomBtn',
        value: function _zoomBtn(e) {
            if (e.target.parentElement.classList.contains('product__details-button--zoom')) {
                var imgSrc = e.target.parentElement.dataset.src;

                this.imgZoomWindow.setAttribute('src', imgSrc);
                this.imgZoomWindow.parentElement.classList.add('img-zoom-window--active');
            }

            this.imgZoomWindow.parentElement.addEventListener('click', function (e) {
                if (e.target) {
                    e.currentTarget.classList.remove('img-zoom-window--active');
                }
            });
        }
    }, {
        key: '_stars',
        value: function _stars(e) {
            if (e.target.parentElement.classList.contains('product__rating-button')) {
                var targetStar = e.target.parentElement;
                targetStar.classList.add('product__rating-button--active');

                if (targetStar.previousElementSibling && targetStar.previousElementSibling.classList.contains('product__rating-button--active')) {
                    this._removeClassForPreviousStars(targetStar, 'product__rating-button--active');
                };

                this._addClassForNextStars(targetStar, 'product__rating-button--active');
            }
        }
    }, {
        key: '_addClassForNextStars',
        value: function _addClassForNextStars(elem, activeClass) {
            while (elem = elem.nextElementSibling) {
                elem.classList.add(activeClass);
            };
        }
    }, {
        key: '_removeClassForPreviousStars',
        value: function _removeClassForPreviousStars(elem, activeClass) {
            do {
                elem = elem.previousElementSibling;
                elem.classList.remove(activeClass);
            } while (elem.previousElementSibling && elem.previousElementSibling.classList.contains(activeClass));
        }
    }]);

    return ProductItemsEvents;
}();

exports.default = ProductItemsEvents;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9wcm9kdWN0LWl0ZW1zLWV2ZW50cy5qcyJdLCJuYW1lcyI6WyJQcm9kdWN0SXRlbXNFdmVudHMiLCJpdGVtc1dyYXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiYXNrZXRUb3RhbFByaWNlIiwiYmFza2V0UXR5IiwiaGVhcnRzUXR5IiwiaW1hZ2Vab29tQnRuIiwiaW1nWm9vbVdpbmRvdyIsInRvdGFsUHJpY2UiLCJ0b3RhbFF0eSIsInRvdGFsTGlrZXMiLCJfZXZlbnRzIiwiX2xvYWRCYXNrZXRGcm9tTG9jYWxTdG9yZWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJfYWRkVG9CYXNrZXQiLCJfbGlrZSIsIl96b29tQnRuIiwiX3N0YXJzIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImRhdGFzZXQiLCJwcmljZSIsInRhZ05hbWUiLCJpdGVtUHJpY2UiLCJ0ZXh0Q29udGVudCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhZGQiLCJpbWdTcmMiLCJzcmMiLCJzZXRBdHRyaWJ1dGUiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0U3RhciIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJfcmVtb3ZlQ2xhc3NGb3JQcmV2aW91c1N0YXJzIiwiX2FkZENsYXNzRm9yTmV4dFN0YXJzIiwiZWxlbSIsImFjdGl2ZUNsYXNzIiwibmV4dEVsZW1lbnRTaWJsaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxrQjtBQUNqQixrQ0FBYztBQUFBOztBQUVWO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQkMsU0FBU0MsYUFBVCxDQUF1QixtQkFBdkIsQ0FBakI7QUFDQSxhQUFLQyxnQkFBTCxHQUF3QkYsU0FBU0MsYUFBVCxDQUF1QixpQ0FBdkIsQ0FBeEI7QUFDQSxhQUFLRSxTQUFMLEdBQWlCSCxTQUFTQyxhQUFULENBQXVCLGlDQUF2QixDQUFqQjtBQUNBLGFBQUtHLFNBQUwsR0FBaUJKLFNBQVNDLGFBQVQsQ0FBdUIsZ0NBQXZCLENBQWpCO0FBQ0EsYUFBS0ksWUFBTCxHQUFvQkwsU0FBU0MsYUFBVCxDQUF1QixnQ0FBdkIsQ0FBcEI7QUFDQSxhQUFLSyxhQUFMLEdBQXFCTixTQUFTQyxhQUFULENBQXVCLHVCQUF2QixDQUFyQjs7QUFFQTtBQUNBLGFBQUtNLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxhQUFLQyxRQUFMLEdBQWdCLENBQWhCO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixDQUFsQjs7QUFFQTtBQUNBLGFBQUtDLE9BQUw7QUFDQSxhQUFLQywyQkFBTDtBQUNIOzs7O2tDQUVTO0FBQUE7O0FBQ04saUJBQUtaLFNBQUwsQ0FBZWEsZ0JBQWYsQ0FBZ0MsT0FBaEMsRUFBeUMsVUFBQ0MsQ0FBRCxFQUFPO0FBQzVDLHNCQUFLQyxZQUFMLENBQWtCRCxDQUFsQjtBQUNBLHNCQUFNRSxLQUFOLENBQVlGLENBQVo7QUFDQSxzQkFBS0csUUFBTCxDQUFjSCxDQUFkO0FBQ0Esc0JBQUtJLE1BQUwsQ0FBWUosQ0FBWjtBQUNILGFBTEQ7QUFNSDs7O3FDQUVZQSxDLEVBQUc7QUFDWixnQkFBSUEsRUFBRUssTUFBRixDQUFTQyxhQUFULENBQXVCQyxPQUF2QixDQUErQkMsS0FBL0IsSUFBd0NSLEVBQUVLLE1BQUYsQ0FBU0UsT0FBVCxDQUFpQkMsS0FBN0QsRUFBb0U7O0FBRWhFLG9CQUFJSCxTQUFTLElBQWI7QUFDQSxvQkFBSUwsRUFBRUssTUFBRixDQUFTSSxPQUFULEtBQXFCLEdBQXpCLEVBQThCO0FBQzFCSiw2QkFBU0wsRUFBRUssTUFBRixDQUFTQyxhQUFsQjtBQUNILGlCQUZELE1BRU87QUFDSEQsNkJBQVNMLEVBQUVLLE1BQVg7QUFDSDs7QUFFRCxvQkFBSUssWUFBWUwsT0FBT0UsT0FBUCxDQUFlQyxLQUEvQjtBQUNBLHFCQUFLZCxVQUFMLElBQW1CLENBQUNnQixTQUFwQjtBQUNBLHFCQUFLZixRQUFMOztBQUVBLHFCQUFLTixnQkFBTCxDQUFzQnNCLFdBQXRCLEdBQW9DLE1BQU0sS0FBS2pCLFVBQS9DO0FBQ0EscUJBQUtKLFNBQUwsQ0FBZXFCLFdBQWYsR0FBNkIsS0FBS2hCLFFBQWxDOztBQUVBaUIsNkJBQWFDLE9BQWIsQ0FBcUIsa0JBQXJCLEVBQXlDLEtBQUtuQixVQUE5QztBQUNBa0IsNkJBQWFDLE9BQWIsQ0FBcUIsV0FBckIsRUFBa0MsS0FBS2xCLFFBQXZDO0FBQ0g7QUFDSjs7O3NEQUU2QjtBQUMxQixnQkFBSWlCLGFBQWFFLE9BQWIsQ0FBcUIsa0JBQXJCLENBQUosRUFBOEM7QUFDMUMscUJBQUtwQixVQUFMLEdBQWtCLENBQUNrQixhQUFhRSxPQUFiLENBQXFCLGtCQUFyQixDQUFuQjtBQUNBLHFCQUFLekIsZ0JBQUwsQ0FBc0JzQixXQUF0QixHQUFvQyxLQUFLakIsVUFBekM7QUFDSDs7QUFFRCxnQkFBSWtCLGFBQWFFLE9BQWIsQ0FBcUIsV0FBckIsQ0FBSixFQUF1QztBQUNuQyxxQkFBS25CLFFBQUwsR0FBZ0IsQ0FBQ2lCLGFBQWFFLE9BQWIsQ0FBcUIsV0FBckIsQ0FBakI7QUFDQSxxQkFBS3hCLFNBQUwsQ0FBZXFCLFdBQWYsR0FBNkIsS0FBS2hCLFFBQWxDO0FBQ0g7QUFDSjs7OzhCQUVLSyxDLEVBQUc7QUFDTCxnQkFBSUEsRUFBRUssTUFBRixDQUFTQyxhQUFULENBQXVCUyxTQUF2QixDQUFpQ0MsUUFBakMsQ0FBMEMsZ0NBQTFDLENBQUosRUFBaUY7QUFDN0Usb0JBQUloQixFQUFFSyxNQUFGLENBQVNDLGFBQVQsQ0FBdUJTLFNBQXZCLENBQWlDQyxRQUFqQyxDQUEwQyx1Q0FBMUMsQ0FBSixFQUF3RjtBQUNwRmhCLHNCQUFFSyxNQUFGLENBQVNDLGFBQVQsQ0FBdUJTLFNBQXZCLENBQWlDRSxNQUFqQyxDQUF3Qyx1Q0FBeEM7QUFDQSx5QkFBS3JCLFVBQUw7QUFDQSx5QkFBS0wsU0FBTCxDQUFlb0IsV0FBZixHQUE2QixLQUFLZixVQUFsQztBQUNILGlCQUpELE1BSU87QUFDSEksc0JBQUVLLE1BQUYsQ0FBU0MsYUFBVCxDQUF1QlMsU0FBdkIsQ0FBaUNHLEdBQWpDLENBQXFDLHVDQUFyQztBQUNBLHlCQUFLdEIsVUFBTDtBQUNBLHlCQUFLTCxTQUFMLENBQWVvQixXQUFmLEdBQTZCLEtBQUtmLFVBQWxDO0FBQ0g7QUFDSjtBQUNKOzs7aUNBRVFJLEMsRUFBRztBQUNSLGdCQUFJQSxFQUFFSyxNQUFGLENBQVNDLGFBQVQsQ0FBdUJTLFNBQXZCLENBQWlDQyxRQUFqQyxDQUEwQywrQkFBMUMsQ0FBSixFQUFnRjtBQUM1RSxvQkFBSUcsU0FBU25CLEVBQUVLLE1BQUYsQ0FBU0MsYUFBVCxDQUF1QkMsT0FBdkIsQ0FBK0JhLEdBQTVDOztBQUVBLHFCQUFLM0IsYUFBTCxDQUFtQjRCLFlBQW5CLENBQWdDLEtBQWhDLEVBQXVDRixNQUF2QztBQUNBLHFCQUFLMUIsYUFBTCxDQUFtQmEsYUFBbkIsQ0FBaUNTLFNBQWpDLENBQTJDRyxHQUEzQyxDQUErQyx5QkFBL0M7QUFDSDs7QUFFRCxpQkFBS3pCLGFBQUwsQ0FBbUJhLGFBQW5CLENBQWlDUCxnQkFBakMsQ0FBa0QsT0FBbEQsRUFBMkQsYUFBSztBQUM1RCxvQkFBSUMsRUFBRUssTUFBTixFQUFjO0FBQ1ZMLHNCQUFFc0IsYUFBRixDQUFnQlAsU0FBaEIsQ0FBMEJFLE1BQTFCLENBQWlDLHlCQUFqQztBQUNIO0FBQ0osYUFKRDtBQUtIOzs7K0JBRU1qQixDLEVBQUc7QUFDTixnQkFBSUEsRUFBRUssTUFBRixDQUFTQyxhQUFULENBQXVCUyxTQUF2QixDQUFpQ0MsUUFBakMsQ0FBMEMsd0JBQTFDLENBQUosRUFBeUU7QUFDckUsb0JBQUlPLGFBQWF2QixFQUFFSyxNQUFGLENBQVNDLGFBQTFCO0FBQ0FpQiwyQkFBV1IsU0FBWCxDQUFxQkcsR0FBckIsQ0FBeUIsZ0NBQXpCOztBQUVBLG9CQUFJSyxXQUFXQyxzQkFBWCxJQUFxQ0QsV0FBV0Msc0JBQVgsQ0FBa0NULFNBQWxDLENBQTRDQyxRQUE1QyxDQUFxRCxnQ0FBckQsQ0FBekMsRUFBZ0k7QUFDNUgseUJBQUtTLDRCQUFMLENBQWtDRixVQUFsQyxFQUE4QyxnQ0FBOUM7QUFDSDs7QUFFRCxxQkFBS0cscUJBQUwsQ0FBMkJILFVBQTNCLEVBQXVDLGdDQUF2QztBQUNIO0FBQ0o7Ozs4Q0FFcUJJLEksRUFBTUMsVyxFQUFhO0FBQ3JDLG1CQUFPRCxPQUFPQSxLQUFLRSxrQkFBbkIsRUFBdUM7QUFDbkNGLHFCQUFLWixTQUFMLENBQWVHLEdBQWYsQ0FBbUJVLFdBQW5CO0FBQ0g7QUFDSjs7O3FEQUU0QkQsSSxFQUFNQyxXLEVBQWE7QUFDNUMsZUFBRztBQUFFRCx1QkFBT0EsS0FBS0gsc0JBQVo7QUFDREcscUJBQUtaLFNBQUwsQ0FBZUUsTUFBZixDQUFzQlcsV0FBdEI7QUFDQyxhQUZMLFFBRWFELEtBQUtILHNCQUFMLElBQStCRyxLQUFLSCxzQkFBTCxDQUE0QlQsU0FBNUIsQ0FBc0NDLFFBQXRDLENBQStDWSxXQUEvQyxDQUY1QztBQUdIOzs7Ozs7a0JBcEhnQjNDLGtCO0FBcUhwQiIsImZpbGUiOiJfcHJvZHVjdC1pdGVtcy1ldmVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0SXRlbXNFdmVudHMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIC8vIERPTVxyXG4gICAgICAgIHRoaXMuaXRlbXNXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlYXV0dXJlLXByb2R1Y3QnKTtcclxuICAgICAgICB0aGlzLmJhc2tldFRvdGFsUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXRvdGFsLXByaWNlJyk7XHJcbiAgICAgICAgdGhpcy5iYXNrZXRRdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXF0eS0tYmFza2V0Jyk7XHJcbiAgICAgICAgdGhpcy5oZWFydHNRdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXF0eS0taGVhcnQnKTtcclxuICAgICAgICB0aGlzLmltYWdlWm9vbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tem9vbScpO1xyXG4gICAgICAgIHRoaXMuaW1nWm9vbVdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWctem9vbS13aW5kb3dfX2ltZycpO1xyXG5cclxuICAgICAgICAvLyBBZGRpdGlvbmFsIFZhcnNcclxuICAgICAgICB0aGlzLnRvdGFsUHJpY2UgPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxRdHkgPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxMaWtlcyA9IDA7XHJcblxyXG4gICAgICAgIC8vICBldmVudHNcclxuICAgICAgICB0aGlzLl9ldmVudHMoKTtcclxuICAgICAgICB0aGlzLl9sb2FkQmFza2V0RnJvbUxvY2FsU3RvcmVnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9ldmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtc1dyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRUb0Jhc2tldChlKTtcclxuICAgICAgICAgICAgdGhpcy4gX2xpa2UoZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3pvb21CdG4oZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJzKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfYWRkVG9CYXNrZXQoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJpY2UgfHwgZS50YXJnZXQuZGF0YXNldC5wcmljZSkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnSScpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW1QcmljZSA9IHRhcmdldC5kYXRhc2V0LnByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUHJpY2UgKz0gK2l0ZW1QcmljZTtcclxuICAgICAgICAgICAgdGhpcy50b3RhbFF0eSsrO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5iYXNrZXRUb3RhbFByaWNlLnRleHRDb250ZW50ID0gJyQnICsgdGhpcy50b3RhbFByaWNlO1xyXG4gICAgICAgICAgICB0aGlzLmJhc2tldFF0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxRdHk7XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFza2V0VG90YWxQcmljZScsIHRoaXMudG90YWxQcmljZSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYXNrZXRRdHknLCB0aGlzLnRvdGFsUXR5KVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIF9sb2FkQmFza2V0RnJvbUxvY2FsU3RvcmVnZSgpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhc2tldFRvdGFsUHJpY2UnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUHJpY2UgPSArbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhc2tldFRvdGFsUHJpY2UnKTtcclxuICAgICAgICAgICAgdGhpcy5iYXNrZXRUb3RhbFByaWNlLnRleHRDb250ZW50ID0gdGhpcy50b3RhbFByaWNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRRdHknKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUXR5ID0gK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRRdHknKTtcclxuICAgICAgICAgICAgdGhpcy5iYXNrZXRRdHkudGV4dENvbnRlbnQgPSB0aGlzLnRvdGFsUXR5O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2xpa2UoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0JykpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQtYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbExpa2VzLS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0c1F0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxMaWtlcztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbExpa2VzKys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0c1F0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxMaWtlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIF96b29tQnRuKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS16b29tJykpIHtcclxuICAgICAgICAgICAgbGV0IGltZ1NyYyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5zcmM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cuc2V0QXR0cmlidXRlKCdzcmMnLCBpbWdTcmMpO1xyXG4gICAgICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbWctem9vbS13aW5kb3ctLWFjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbWdab29tV2luZG93LnBhcmVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaW1nLXpvb20td2luZG93LS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc3RhcnMoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbicpKSB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRTdGFyID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgdGFyZ2V0U3Rhci5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXRTdGFyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgdGFyZ2V0U3Rhci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbi0tYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ2xhc3NGb3JQcmV2aW91c1N0YXJzKHRhcmdldFN0YXIsICdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2FkZENsYXNzRm9yTmV4dFN0YXJzKHRhcmdldFN0YXIsICdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9hZGRDbGFzc0Zvck5leHRTdGFycyhlbGVtLCBhY3RpdmVDbGFzcykge1xyXG4gICAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9OyAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIF9yZW1vdmVDbGFzc0ZvclByZXZpb3VzU3RhcnMoZWxlbSwgYWN0aXZlQ2xhc3MpIHtcclxuICAgICAgICBkbyB7IGVsZW0gPSBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZyAmJiBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKGFjdGl2ZUNsYXNzKSk7ICAgXHJcbiAgICB9O1xyXG59OyJdfQ==
},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Search = function () {
   function Search() {
      _classCallCheck(this, Search);

      // DOM
      this.serchWrap = document.querySelector('.user-panel__item--search');
      this.searchBtn = document.querySelector('.user-panel__button--search');
      this.searchForm = document.querySelector('.user-panel__search-form');

      this.formActiveClass = 'user-panel__search-form--active';
      //  events
      this._events();
   }

   _createClass(Search, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         this.serchWrap.addEventListener('click', function (e) {

            if (e.target === _this.searchBtn || e.target.parentElement === _this.searchBtn) {
               _this.searchForm.classList.toggle(_this.formActiveClass);
            }
         });

         window.addEventListener('scroll', function (e) {
            if (_this.searchForm.classList.contains(_this.formActiveClass)) {
               if (e) {
                  _this.searchForm.classList.remove(_this.formActiveClass);
               }
            }
         });
      }
   }]);

   return Search;
}();

exports.default = Search;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9zZWFyY2guanMiXSwibmFtZXMiOlsiU2VhcmNoIiwic2VyY2hXcmFwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoQnRuIiwic2VhcmNoRm9ybSIsImZvcm1BY3RpdmVDbGFzcyIsIl9ldmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJjb250YWlucyIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsTTtBQUNsQixxQkFBYztBQUFBOztBQUNYO0FBQ0EsV0FBS0MsU0FBTCxHQUFpQkMsU0FBU0MsYUFBVCxDQUF1QiwyQkFBdkIsQ0FBakI7QUFDQSxXQUFLQyxTQUFMLEdBQWlCRixTQUFTQyxhQUFULENBQXVCLDZCQUF2QixDQUFqQjtBQUNBLFdBQUtFLFVBQUwsR0FBa0JILFNBQVNDLGFBQVQsQ0FBdUIsMEJBQXZCLENBQWxCOztBQUVBLFdBQUtHLGVBQUwsR0FBdUIsaUNBQXZCO0FBQ0E7QUFDQSxXQUFLQyxPQUFMO0FBQ0Y7Ozs7Z0NBRVM7QUFBQTs7QUFDUCxjQUFLTixTQUFMLENBQWVPLGdCQUFmLENBQWdDLE9BQWhDLEVBQXlDLGFBQUs7O0FBRTNDLGdCQUFJQyxFQUFFQyxNQUFGLEtBQWEsTUFBS04sU0FBbEIsSUFBK0JLLEVBQUVDLE1BQUYsQ0FBU0MsYUFBVCxLQUEyQixNQUFLUCxTQUFuRSxFQUE4RTtBQUMzRSxxQkFBS0MsVUFBTCxDQUFnQk8sU0FBaEIsQ0FBMEJDLE1BQTFCLENBQWlDLE1BQUtQLGVBQXRDO0FBQ0Y7QUFDSCxVQUxEOztBQU9BUSxnQkFBT04sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsYUFBSztBQUNwQyxnQkFBSSxNQUFLSCxVQUFMLENBQWdCTyxTQUFoQixDQUEwQkcsUUFBMUIsQ0FBbUMsTUFBS1QsZUFBeEMsQ0FBSixFQUE4RDtBQUMzRCxtQkFBSUcsQ0FBSixFQUFPO0FBQ0osd0JBQUtKLFVBQUwsQ0FBZ0JPLFNBQWhCLENBQTBCSSxNQUExQixDQUFpQyxNQUFLVixlQUF0QztBQUNGO0FBQ0g7QUFDSCxVQU5EO0FBT0Y7Ozs7OztrQkEzQmlCTixNO0FBNEJwQiIsImZpbGUiOiJfc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIHtcclxuICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIC8vIERPTVxyXG4gICAgICB0aGlzLnNlcmNoV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19pdGVtLS1zZWFyY2gnKTtcclxuICAgICAgdGhpcy5zZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLS1zZWFyY2gnKTtcclxuICAgICAgdGhpcy5zZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX3NlYXJjaC1mb3JtJyk7XHJcblxyXG4gICAgICB0aGlzLmZvcm1BY3RpdmVDbGFzcyA9ICd1c2VyLXBhbmVsX19zZWFyY2gtZm9ybS0tYWN0aXZlJztcclxuICAgICAgLy8gIGV2ZW50c1xyXG4gICAgICB0aGlzLl9ldmVudHMoKTtcclxuICAgfTtcclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHRoaXMuc2VyY2hXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuc2VhcmNoQnRuIHx8IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQgPT09IHRoaXMuc2VhcmNoQnRuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5mb3JtQWN0aXZlQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICB9O1xyXG59OyJdfQ==
},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Subscribe = function () {
   function Subscribe() {
      _classCallCheck(this, Subscribe);

      // DOM
      this.subscribeForm = document.querySelector('.subscribe__form');
      this.subscribeBtn = this.subscribeForm.querySelector('.subscribe__form-btn');

      //  Event
      this._event();
      this._btnTargetAnimation();
   }

   _createClass(Subscribe, [{
      key: '_event',
      value: function _event() {
         this.subscribeForm.addEventListener('submit', function (e) {
            event.preventDefault();

            var email = event.target.email.value;

            email = JSON.stringify(email);

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'https://maxs-4ebe4.firebaseio.com/clients.json');
            xhr.send(email);

            setTimeout(function () {
               if (xhr.readyState == 4) {
                  console.log('!');
               }
            }, 1000);

            event.target.email.value = '';
         });
      }
   }, {
      key: '_btnTargetAnimation',
      value: function _btnTargetAnimation() {
         var _this = this;

         this.subscribeBtn.addEventListener('click', function (e) {
            var posX = e.offsetX + 'px',
                posY = e.offsetY + 'px';

            var targetAnimation = document.createElement('div');
            targetAnimation.classList.add('button-bubble__form-btn-terget-animation');
            targetAnimation.style.left = posX;
            targetAnimation.style.top = posY;
            _this.subscribeBtn.appendChild(targetAnimation);

            setTimeout(function () {
               var delEl = _this.subscribeBtn.children[0];
               _this.subscribeBtn.removeChild(delEl);
            }, 400);
         });
      }
   }]);

   return Subscribe;
}();

exports.default = Subscribe;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9zdWJzY3JpYmUuanMiXSwibmFtZXMiOlsiU3Vic2NyaWJlIiwic3Vic2NyaWJlRm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN1YnNjcmliZUJ0biIsIl9ldmVudCIsIl9idG5UYXJnZXRBbmltYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImVtYWlsIiwidGFyZ2V0IiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInNldFRpbWVvdXQiLCJyZWFkeVN0YXRlIiwiY29uc29sZSIsImxvZyIsInBvc1giLCJlIiwib2Zmc2V0WCIsInBvc1kiLCJvZmZzZXRZIiwidGFyZ2V0QW5pbWF0aW9uIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwibGVmdCIsInRvcCIsImFwcGVuZENoaWxkIiwiZGVsRWwiLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxTO0FBQ2xCLHdCQUFjO0FBQUE7O0FBQ1g7QUFDQSxXQUFLQyxhQUFMLEdBQXFCQyxTQUFTQyxhQUFULENBQXVCLGtCQUF2QixDQUFyQjtBQUNBLFdBQUtDLFlBQUwsR0FBb0IsS0FBS0gsYUFBTCxDQUFtQkUsYUFBbkIsQ0FBaUMsc0JBQWpDLENBQXBCOztBQUVBO0FBQ0EsV0FBS0UsTUFBTDtBQUNBLFdBQUtDLG1CQUFMO0FBQ0Y7Ozs7K0JBRVE7QUFDTixjQUFLTCxhQUFMLENBQW1CTSxnQkFBbkIsQ0FBb0MsUUFBcEMsRUFBOEMsYUFBSztBQUNoREMsa0JBQU1DLGNBQU47O0FBRUEsZ0JBQUlDLFFBQVFGLE1BQU1HLE1BQU4sQ0FBYUQsS0FBYixDQUFtQkUsS0FBL0I7O0FBRUFGLG9CQUFRRyxLQUFLQyxTQUFMLENBQWVKLEtBQWYsQ0FBUjs7QUFFQSxnQkFBSUssTUFBTSxJQUFJQyxjQUFKLEVBQVY7QUFDQUQsZ0JBQUlFLElBQUosQ0FBUyxNQUFULEVBQWlCLGdEQUFqQjtBQUNBRixnQkFBSUcsSUFBSixDQUFTUixLQUFUOztBQUVBUyx1QkFBVyxZQUFNO0FBQ2QsbUJBQUlKLElBQUlLLFVBQUosSUFBa0IsQ0FBdEIsRUFBeUI7QUFDdEJDLDBCQUFRQyxHQUFSLENBQVksY0FBWjtBQUNGO0FBQ0gsYUFKRCxFQUlHLElBSkg7O0FBTUFkLGtCQUFNRyxNQUFOLENBQWFELEtBQWIsQ0FBbUJFLEtBQW5CLEdBQTJCLEVBQTNCO0FBQ0YsVUFsQkQ7QUFtQkY7Ozs0Q0FFcUI7QUFBQTs7QUFDbkIsY0FBS1IsWUFBTCxDQUFrQkcsZ0JBQWxCLENBQW1DLE9BQW5DLEVBQTRDLGFBQUs7QUFDOUMsZ0JBQUlnQixPQUFPQyxFQUFFQyxPQUFGLEdBQVksSUFBdkI7QUFBQSxnQkFDSUMsT0FBT0YsRUFBRUcsT0FBRixHQUFZLElBRHZCOztBQUdBLGdCQUFJQyxrQkFBa0IxQixTQUFTMkIsYUFBVCxDQUF1QixLQUF2QixDQUF0QjtBQUNBRCw0QkFBZ0JFLFNBQWhCLENBQTBCQyxHQUExQixDQUE4QiwwQ0FBOUI7QUFDQUgsNEJBQWdCSSxLQUFoQixDQUFzQkMsSUFBdEIsR0FBNkJWLElBQTdCO0FBQ0FLLDRCQUFnQkksS0FBaEIsQ0FBc0JFLEdBQXRCLEdBQTRCUixJQUE1QjtBQUNBLGtCQUFLdEIsWUFBTCxDQUFrQitCLFdBQWxCLENBQThCUCxlQUE5Qjs7QUFFQVQsdUJBQVcsWUFBTTtBQUNkLG1CQUFJaUIsUUFBUSxNQUFLaEMsWUFBTCxDQUFrQmlDLFFBQWxCLENBQTJCLENBQTNCLENBQVo7QUFDQSxxQkFBS2pDLFlBQUwsQ0FBa0JrQyxXQUFsQixDQUE4QkYsS0FBOUI7QUFDRixhQUhELEVBR0csR0FISDtBQUlGLFVBZEQ7QUFlRjs7Ozs7O2tCQWpEaUJwQyxTO0FBa0RwQiIsImZpbGUiOiJfc3Vic2NyaWJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Vic2NyaWJlIHtcclxuICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIC8vIERPTVxyXG4gICAgICB0aGlzLnN1YnNjcmliZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Vic2NyaWJlX19mb3JtJyk7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlQnRuID0gdGhpcy5zdWJzY3JpYmVGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdWJzY3JpYmVfX2Zvcm0tYnRuJyk7XHJcblxyXG4gICAgICAvLyAgRXZlbnRcclxuICAgICAgdGhpcy5fZXZlbnQoKTtcclxuICAgICAgdGhpcy5fYnRuVGFyZ2V0QW5pbWF0aW9uKCk7XHJcbiAgIH07XHJcblxyXG4gICBfZXZlbnQoKSB7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcclxuICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGxldCBlbWFpbCA9IGV2ZW50LnRhcmdldC5lbWFpbC52YWx1ZTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGVtYWlsID0gSlNPTi5zdHJpbmdpZnkoZW1haWwpO1xyXG5cclxuICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL21heHMtNGViZTQuZmlyZWJhc2Vpby5jb20vY2xpZW50cy5qc29uJyk7XHJcbiAgICAgICAgIHhoci5zZW5kKGVtYWlsKTtcclxuXHJcbiAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RgtC/0YDQsNCy0LvQtdC90L3QviEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGV2ZW50LnRhcmdldC5lbWFpbC52YWx1ZSA9ICcnO1xyXG4gICAgICB9KTtcclxuICAgfTtcclxuXHJcbiAgIF9idG5UYXJnZXRBbmltYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgIGxldCBwb3NYID0gZS5vZmZzZXRYICsgJ3B4JyxcclxuICAgICAgICAgICAgIHBvc1kgPSBlLm9mZnNldFkgKyAncHgnO1xyXG5cclxuICAgICAgICAgbGV0IHRhcmdldEFuaW1hdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICB0YXJnZXRBbmltYXRpb24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLWJ1YmJsZV9fZm9ybS1idG4tdGVyZ2V0LWFuaW1hdGlvbicpO1xyXG4gICAgICAgICB0YXJnZXRBbmltYXRpb24uc3R5bGUubGVmdCA9IHBvc1g7XHJcbiAgICAgICAgIHRhcmdldEFuaW1hdGlvbi5zdHlsZS50b3AgPSBwb3NZO1xyXG4gICAgICAgICB0aGlzLnN1YnNjcmliZUJ0bi5hcHBlbmRDaGlsZCh0YXJnZXRBbmltYXRpb24pO1xyXG5cclxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkZWxFbCA9IHRoaXMuc3Vic2NyaWJlQnRuLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZUJ0bi5yZW1vdmVDaGlsZChkZWxFbCk7XHJcbiAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgIH0pO1xyXG4gICB9O1xyXG59OyJdfQ==
},{}],7:[function(require,module,exports){
'use strict';

var _addProductItems = require('./_add-product-items');

var _addProductItems2 = _interopRequireDefault(_addProductItems);

var _burgerMenu = require('./_burger-menu');

var _burgerMenu2 = _interopRequireDefault(_burgerMenu);

var _fixedHeader = require('./_fixed-header');

var _fixedHeader2 = _interopRequireDefault(_fixedHeader);

var _search = require('./_search');

var _search2 = _interopRequireDefault(_search);

var _productItemsEvents = require('./_product-items-events');

var _productItemsEvents2 = _interopRequireDefault(_productItemsEvents);

var _subscribe = require('./_subscribe');

var _subscribe2 = _interopRequireDefault(_subscribe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.addEventListener('DOMContentLoaded', init);

function init() {

    // Clone navigation
    function cloneNav() {
        var nav = document.querySelector('.header-nav__list').cloneNode(true);
        var cloneNavParrent = document.querySelector('.fixed-nav');

        cloneNavParrent.insertBefore(nav, cloneNavParrent[0]);
    };
    cloneNav();

    // Set margin top for top section
    function setMargin() {
        var header = document.querySelector('.header'),
            topSection = document.querySelector('.top-section');

        topSection.style.marginTop = header.offsetHeight + 'px';
    };
    setMargin();

    var addProductItems = new _addProductItems2.default();
    var burgerMenu = new _burgerMenu2.default();
    var fixedHeader = new _fixedHeader2.default();
    var search = new _search2.default();
    var productItemsEvents = new _productItemsEvents2.default();
    var subscribe = new _subscribe2.default();
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZha2VfYzFiOTIzOWEuanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXQiLCJjbG9uZU5hdiIsIm5hdiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsImNsb25lTmF2UGFycmVudCIsImluc2VydEJlZm9yZSIsInNldE1hcmdpbiIsImhlYWRlciIsInRvcFNlY3Rpb24iLCJzdHlsZSIsIm1hcmdpblRvcCIsIm9mZnNldEhlaWdodCIsImFkZFByb2R1Y3RJdGVtcyIsImJ1cmdlck1lbnUiLCJmaXhlZEhlYWRlciIsInNlYXJjaCIsInByb2R1Y3RJdGVtc0V2ZW50cyIsInN1YnNjcmliZSJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQVBBQSxPQUFPQyxnQkFBUCxDQUF3QixrQkFBeEIsRUFBNENDLElBQTVDOztBQVNBLFNBQVNBLElBQVQsR0FBZ0I7O0FBRVo7QUFDQSxhQUFTQyxRQUFULEdBQW9CO0FBQ2hCLFlBQUlDLE1BQU1DLFNBQVNDLGFBQVQsQ0FBdUIsbUJBQXZCLEVBQTRDQyxTQUE1QyxDQUFzRCxJQUF0RCxDQUFWO0FBQ0EsWUFBSUMsa0JBQWtCSCxTQUFTQyxhQUFULENBQXVCLFlBQXZCLENBQXRCOztBQUVBRSx3QkFBZ0JDLFlBQWhCLENBQTZCTCxHQUE3QixFQUFrQ0ksZ0JBQWdCLENBQWhCLENBQWxDO0FBQ0g7QUFDREw7O0FBRUE7QUFDQSxhQUFTTyxTQUFULEdBQXFCO0FBQ2pCLFlBQUlDLFNBQVNOLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBYjtBQUFBLFlBQ0lNLGFBQWFQLFNBQVNDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FEakI7O0FBR0FNLG1CQUFXQyxLQUFYLENBQWlCQyxTQUFqQixHQUE2QkgsT0FBT0ksWUFBUCxHQUFzQixJQUFuRDtBQUNIO0FBQ0RMOztBQUVBLFFBQU1NLGtCQUFrQiwrQkFBeEI7QUFDQSxRQUFNQyxhQUFhLDBCQUFuQjtBQUNBLFFBQU1DLGNBQWMsMkJBQXBCO0FBQ0EsUUFBTUMsU0FBUyxzQkFBZjtBQUNBLFFBQU1DLHFCQUFxQixrQ0FBM0I7QUFDQSxRQUFNQyxZQUFZLHlCQUFsQjtBQUNIIiwiZmlsZSI6ImZha2VfYzFiOTIzOWEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQpO1xyXG5cclxuaW1wb3J0IEFkZFByb2R1Y3RJdGVtcyBmcm9tICcuL19hZGQtcHJvZHVjdC1pdGVtcyc7XHJcbmltcG9ydCBCdXJnZXJNZW51IGZyb20gJy4vX2J1cmdlci1tZW51JztcclxuaW1wb3J0IEZpeGVkSGVhZGVyIGZyb20gJy4vX2ZpeGVkLWhlYWRlcic7XHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi9fc2VhcmNoJztcclxuaW1wb3J0IFByb2R1Y3RJdGVtc0V2ZW50cyBmcm9tICcuL19wcm9kdWN0LWl0ZW1zLWV2ZW50cyc7XHJcbmltcG9ydCBTdWJzY3JpYmUgZnJvbSAnLi9fc3Vic2NyaWJlJztcclxuXHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgIFxyXG4gICAgLy8gQ2xvbmUgbmF2aWdhdGlvblxyXG4gICAgZnVuY3Rpb24gY2xvbmVOYXYoKSB7XHJcbiAgICAgICAgbGV0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2X19saXN0JykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIGxldCBjbG9uZU5hdlBhcnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2Jyk7XHJcblxyXG4gICAgICAgIGNsb25lTmF2UGFycmVudC5pbnNlcnRCZWZvcmUobmF2LCBjbG9uZU5hdlBhcnJlbnRbMF0pO1xyXG4gICAgfTtcclxuICAgIGNsb25lTmF2KCk7XHJcblxyXG4gICAgLy8gU2V0IG1hcmdpbiB0b3AgZm9yIHRvcCBzZWN0aW9uXHJcbiAgICBmdW5jdGlvbiBzZXRNYXJnaW4oKSB7XHJcbiAgICAgICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKSxcclxuICAgICAgICAgICAgdG9wU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3Atc2VjdGlvbicpO1xyXG5cclxuICAgICAgICB0b3BTZWN0aW9uLnN0eWxlLm1hcmdpblRvcCA9IGhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgfTtcclxuICAgIHNldE1hcmdpbigpXHJcblxyXG4gICAgY29uc3QgYWRkUHJvZHVjdEl0ZW1zID0gbmV3IEFkZFByb2R1Y3RJdGVtcztcclxuICAgIGNvbnN0IGJ1cmdlck1lbnUgPSBuZXcgQnVyZ2VyTWVudTtcclxuICAgIGNvbnN0IGZpeGVkSGVhZGVyID0gbmV3IEZpeGVkSGVhZGVyO1xyXG4gICAgY29uc3Qgc2VhcmNoID0gbmV3IFNlYXJjaDtcclxuICAgIGNvbnN0IHByb2R1Y3RJdGVtc0V2ZW50cyA9IG5ldyBQcm9kdWN0SXRlbXNFdmVudHM7XHJcbiAgICBjb25zdCBzdWJzY3JpYmUgPSBuZXcgU3Vic2NyaWJlO1xyXG59OyJdfQ==
},{"./_add-product-items":1,"./_burger-menu":2,"./_fixed-header":3,"./_product-items-events":4,"./_search":5,"./_subscribe":6}]},{},[7])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxfRnJvbnRFbmRcXF9tc3RvcmVcXG5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrXFxfcHJlbHVkZS5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX2FkZC1wcm9kdWN0LWl0ZW1zLmpzIiwiRTovX0Zyb250RW5kL19tc3RvcmUvX3NyYy9qcy9fYnVyZ2VyLW1lbnUuanMiLCJFOi9fRnJvbnRFbmQvX21zdG9yZS9fc3JjL2pzL19maXhlZC1oZWFkZXIuanMiLCJFOi9fRnJvbnRFbmQvX21zdG9yZS9fc3JjL2pzL19wcm9kdWN0LWl0ZW1zLWV2ZW50cy5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX3NlYXJjaC5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX3N1YnNjcmliZS5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvZmFrZV9jMWI5MjM5YS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBBZGRQcm9kdWN0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWRkUHJvZHVjdEl0ZW1zKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkUHJvZHVjdEl0ZW1zKTtcblxuICAgICAgICAvLyBET01cbiAgICAgICAgdGhpcy5tYWluSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19pdGVtLWNsb25lJykuY2hpbGRyZW5bMF07XG4gICAgICAgIHRoaXMucGFycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF1dHVyZS1wcm9kdWN0Jyk7XG4gICAgICAgIHRoaXMuYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWQtbW9yZS1idG4nKTtcblxuICAgICAgICAvLyB2YXJzIFxuICAgICAgICB0aGlzLmZpcnN0TG9hZGVkSXRlbXNRdHkgPSA4O1xuICAgICAgICB0aGlzLnByZXNzQnRuTG9hZGVkSXRlbXNRdHkgPSA0O1xuXG4gICAgICAgIC8vICBldmVudHNcbiAgICAgICAgdGhpcy5fZmlyc3RMb2FkQWRkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5fcHJlc3NCdG5BZGRJdGVtcygpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBZGRQcm9kdWN0SXRlbXMsIFt7XG4gICAgICAgIGtleTogJ19maXJzdExvYWRBZGRJdGVtcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmlyc3RMb2FkQWRkSXRlbXMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAnLi4vZGIuanNvbicpO1xuXG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG5cbiAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbFF0eUl0ZW1zID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHZhciBxdHlJdGVtcyA9IF90aGlzLmZpcnN0TG9hZGVkSXRlbXNRdHk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5fYWRkSXRlbXModG90YWxRdHlJdGVtcywgcXR5SXRlbXMsIGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfcHJlc3NCdG5BZGRJdGVtcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlc3NCdG5BZGRJdGVtcygpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLm5vd0FkZGVkID0gdGhpcy5maXJzdExvYWRlZEl0ZW1zUXR5O1xuXG4gICAgICAgICAgICB0aGlzLmJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgJy4uL2RiLmpzb24nKTtcblxuICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBcImpzb25cIjtcblxuICAgICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsUXR5SXRlbXMgPSBkYXRhLmxlbmd0aCAtIDEgLSBfdGhpczIubm93QWRkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxdHlJdGVtcyA9IF90aGlzMi5wcmVzc0J0bkxvYWRlZEl0ZW1zUXR5O1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuX2FkZEl0ZW1zKHRvdGFsUXR5SXRlbXMsIHF0eUl0ZW1zLCBkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBfdGhpczIubm93QWRkZWQgKz0gX3RoaXMyLnByZXNzQnRuTG9hZGVkSXRlbXNRdHk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfYWRkSXRlbXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEl0ZW1zKHRvdGFsUXR5LCBhZGRRdHksIGRhdGEpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRvdGFsUXR5OyBpID4gdG90YWxRdHkgLSBhZGRRdHk7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbSA9IHRoaXMubWFpbkl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19pbWcnKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fdGl0bGUtbGluaycpLFxuICAgICAgICAgICAgICAgICAgICBwcmljZSA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19wcmljZScpLFxuICAgICAgICAgICAgICAgICAgICBiYXNrZXRCdG4gPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWJhc2tldCcpLFxuICAgICAgICAgICAgICAgICAgICB6b29tQnRuID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS16b29tJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSBkYXRhW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGFJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nLycgKyBkYXRhSXRlbVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21CdG4uZGF0YXNldC5zcmMgPSAnaW1nLycgKyAnYmlnLScgKyBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3RpdGxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3ByaWNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2UudGV4dENvbnRlbnQgPSAnJCcgKyBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFza2V0QnRuLmRhdGFzZXQucHJpY2UgPSBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0uZGF0YXNldC5pZCA9IGRhdGFJdGVtW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnb2xkUHJpY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkUHJpY2VTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkUHJpY2VTcGFuLnRleHRDb250ZW50ID0gJyQnICsgZGF0YUl0ZW1ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFByaWNlU3Bhbi5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19vbGQtcHJpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXNjcldyYXAgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1kZXNjcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JXcmFwLmluc2VydEJlZm9yZShvbGRQcmljZVNwYW4sIGRlc2NyV3JhcC5jaGlsZHJlblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbGFiZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19pdGVtLS1sYWJlbC0nICsgZGF0YUl0ZW1ba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJyZW50LmFwcGVuZENoaWxkKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBZGRQcm9kdWN0SXRlbXM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFkZFByb2R1Y3RJdGVtcztcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklsOWhaR1F0Y0hKdlpIVmpkQzFwZEdWdGN5NXFjeUpkTENKdVlXMWxjeUk2V3lKQlpHUlFjbTlrZFdOMFNYUmxiWE1pTENKdFlXbHVTWFJsYlNJc0ltUnZZM1Z0Wlc1MElpd2ljWFZsY25sVFpXeGxZM1J2Y2lJc0ltTm9hV3hrY21WdUlpd2ljR0Z5Y21WdWRDSXNJbUowYmlJc0ltWnBjbk4wVEc5aFpHVmtTWFJsYlhOUmRIa2lMQ0p3Y21WemMwSjBia3h2WVdSbFpFbDBaVzF6VVhSNUlpd2lYMlpwY25OMFRHOWhaRUZrWkVsMFpXMXpJaXdpWDNCeVpYTnpRblJ1UVdSa1NYUmxiWE1pTENKNGFISWlMQ0pZVFV4SWRIUndVbVZ4ZFdWemRDSXNJbTl3Wlc0aUxDSnlaWE53YjI1elpWUjVjR1VpTENKaFpHUkZkbVZ1ZEV4cGMzUmxibVZ5SWl3aVpHRjBZU0lzSW5KbGMzQnZibk5sSWl3aWRHOTBZV3hSZEhsSmRHVnRjeUlzSW14bGJtZDBhQ0lzSW5GMGVVbDBaVzF6SWl3aVgyRmtaRWwwWlcxeklpd2ljMlZ1WkNJc0ltNXZkMEZrWkdWa0lpd2lkRzkwWVd4UmRIa2lMQ0poWkdSUmRIa2lMQ0pwSWl3aWMzUjViR1VpTENKa2FYTndiR0Y1SWl3aVkzVnljbVZ1ZEVsMFpXMGlMQ0pqYkc5dVpVNXZaR1VpTENKcGJXY2lMQ0owYVhSc1pTSXNJbkJ5YVdObElpd2lZbUZ6YTJWMFFuUnVJaXdpZW05dmJVSjBiaUlzSW1SaGRHRkpkR1Z0SWl3aWEyVjVJaXdpYzJWMFFYUjBjbWxpZFhSbElpd2laR0YwWVhObGRDSXNJbk55WXlJc0luUmxlSFJEYjI1MFpXNTBJaXdpYVdRaUxDSnZiR1JRY21salpWTndZVzRpTENKamNtVmhkR1ZGYkdWdFpXNTBJaXdpWTJ4aGMzTk1hWE4wSWl3aVlXUmtJaXdpWkdWelkzSlhjbUZ3SWl3aWFXNXpaWEowUW1WbWIzSmxJaXdpWVhCd1pXNWtRMmhwYkdRaVhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3U1VGQmNVSkJMR1U3UVVGRGFrSXNLMEpCUVdNN1FVRkJRVHM3UVVGRFZqdEJRVU5CTEdGQlFVdERMRkZCUVV3c1IwRkJaMEpETEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzYzBKQlFYWkNMRVZCUVN0RFF5eFJRVUV2UXl4RFFVRjNSQ3hEUVVGNFJDeERRVUZvUWp0QlFVTkJMR0ZCUVV0RExFOUJRVXdzUjBGQlpVZ3NVMEZCVTBNc1lVRkJWQ3hEUVVGMVFpeHRRa0ZCZGtJc1EwRkJaanRCUVVOQkxHRkJRVXRITEVkQlFVd3NSMEZCVjBvc1UwRkJVME1zWVVGQlZDeERRVUYxUWl4blFrRkJka0lzUTBGQldEczdRVUZGUVR0QlFVTkJMR0ZCUVV0SkxHMUNRVUZNTEVkQlFUSkNMRU5CUVROQ08wRkJRMEVzWVVGQlMwTXNjMEpCUVV3c1IwRkJPRUlzUTBGQk9VSTdPMEZCUjBFN1FVRkRRU3hoUVVGTFF5eHJRa0ZCVER0QlFVTkJMR0ZCUVV0RExHbENRVUZNTzBGQlEwZzdPenM3TmtOQlJXOUNPMEZCUVVFN08wRkJRMnBDTEdkQ1FVRkpReXhOUVVGTkxFbEJRVWxETEdOQlFVb3NSVUZCVmpzN1FVRkZRVVFzWjBKQlFVbEZMRWxCUVVvc1EwRkJVeXhMUVVGVUxFVkJRV2RDTEZsQlFXaENPenRCUVVWQlJpeG5Ra0ZCU1Vjc1dVRkJTaXhIUVVGdFFpeE5RVUZ1UWpzN1FVRkZRVWdzWjBKQlFVbEpMR2RDUVVGS0xFTkJRWEZDTEUxQlFYSkNMRVZCUVRaQ0xGbEJRVTA3UVVGREwwSXNiMEpCUVVsRExFOUJRVTlNTEVsQlFVbE5MRkZCUVdZN1FVRkRRU3h2UWtGQlNVTXNaMEpCUVdsQ1JpeExRVUZMUnl4TlFVRk1MRWRCUVdNc1EwRkJia003UVVGRFFTeHZRa0ZCU1VNc1YwRkJWeXhOUVVGTFlpeHRRa0ZCY0VJN08wRkJSVW9zYzBKQlFVdGpMRk5CUVV3c1EwRkJaVWdzWVVGQlppeEZRVUU0UWtVc1VVRkJPVUlzUlVGQmQwTktMRWxCUVhoRE8wRkJSVU1zWVVGUVJEdEJRVkZCVEN4blFrRkJTVmNzU1VGQlNqdEJRVVZJT3pzN05FTkJSVzFDTzBGQlFVRTdPMEZCUTJoQ0xHbENRVUZMUXl4UlFVRk1MRWRCUVdkQ0xFdEJRVXRvUWl4dFFrRkJja0k3TzBGQlJVRXNhVUpCUVV0RUxFZEJRVXdzUTBGQlUxTXNaMEpCUVZRc1EwRkJNRUlzVDBGQk1VSXNSVUZCYlVNc1dVRkJUVHRCUVVOeVF5eHZRa0ZCU1Vvc1RVRkJUU3hKUVVGSlF5eGpRVUZLTEVWQlFWWTdPMEZCUlVGRUxHOUNRVUZKUlN4SlFVRktMRU5CUVZNc1MwRkJWQ3hGUVVGblFpeFpRVUZvUWpzN1FVRkZRVVlzYjBKQlFVbEhMRmxCUVVvc1IwRkJiVUlzVFVGQmJrSTdPMEZCUlVGSUxHOUNRVUZKU1N4blFrRkJTaXhEUVVGeFFpeE5RVUZ5UWl4RlFVRTJRaXhaUVVGTk8wRkJReTlDTEhkQ1FVRkpReXhQUVVGUFRDeEpRVUZKVFN4UlFVRm1PMEZCUTBFc2QwSkJRVWxETEdkQ1FVRnBRa1lzUzBGQlMwY3NUVUZCVEN4SFFVRmpMRU5CUVdRc1IwRkJhMElzVDBGQlMwa3NVVUZCTlVNN1FVRkRRU3gzUWtGQlNVZ3NWMEZCVnl4UFFVRkxXaXh6UWtGQmNFSTdRVUZEU2l3eVFrRkJTMkVzVTBGQlRDeERRVUZsU0N4aFFVRm1MRVZCUVRoQ1JTeFJRVUU1UWl4RlFVRjNRMG9zU1VGQmVFTTdPMEZCUlVFc01rSkJRVXRQTEZGQlFVd3NTVUZCYVVJc1QwRkJTMllzYzBKQlFYUkNPMEZCUTBNc2FVSkJVRVE3UVVGUlFVY3NiMEpCUVVsWExFbEJRVW83UVVGRlNDeGhRV3BDUkR0QlFXdENTRHM3TzJ0RFFVVlRSU3hSTEVWQlFWVkRMRTBzUlVGQlVWUXNTU3hGUVVGTk96dEJRVVU1UWl4cFFrRkJTeXhKUVVGSlZTeEpRVUZKUml4UlFVRmlMRVZCUVhWQ1JTeEpRVUZMUml4WFFVRlhReXhOUVVGMlF5eEZRVUZuUkVNc1IwRkJhRVFzUlVGQmNVUTdRVUZEYWtRc2IwSkJRVWxCTEUxQlFVMHNRMEZCVml4RlFVRmhPMEZCUTFRc2VVSkJRVXR3UWl4SFFVRk1MRU5CUVZOeFFpeExRVUZVTEVOQlFXVkRMRTlCUVdZc1IwRkJlVUlzVFVGQmVrSTdRVUZEU0R0QlFVTkVMRzlDUVVGSlF5eGpRVUZqTEV0QlFVczFRaXhSUVVGTUxFTkJRV00yUWl4VFFVRmtMRU5CUVhkQ0xFbEJRWGhDTEVOQlFXeENPenRCUVVWQkxHOUNRVUZKUXl4TlFVRk5SaXhaUVVGWk1VSXNZVUZCV2l4RFFVRXdRaXhsUVVFeFFpeERRVUZXTzBGQlFVRXNiMEpCUTBrMlFpeFJRVUZSU0N4WlFVRlpNVUlzWVVGQldpeERRVUV3UWl4elFrRkJNVUlzUTBGRVdqdEJRVUZCTEc5Q1FVVkpPRUlzVVVGQlVVb3NXVUZCV1RGQ0xHRkJRVm9zUTBGQk1FSXNhVUpCUVRGQ0xFTkJSbG83UVVGQlFTeHZRa0ZIU1N0Q0xGbEJRVmxNTEZsQlFWa3hRaXhoUVVGYUxFTkJRVEJDTEd0RFFVRXhRaXhEUVVob1FqdEJRVUZCTEc5Q1FVbEpaME1zVlVGQlZVNHNXVUZCV1RGQ0xHRkJRVm9zUTBGQk1FSXNaME5CUVRGQ0xFTkJTbVE3TzBGQlRVRXNiMEpCUVVscFF5eFhRVUZYY0VJc1MwRkJTMVVzUTBGQlRDeERRVUZtT3p0QlFVVkJMSEZDUVVGTExFbEJRVWxYTEVkQlFWUXNTVUZCWjBKRUxGRkJRV2hDTEVWQlFUQkNPMEZCUTNSQ0xIZENRVUZKUXl4UlFVRlJMRXRCUVZvc1JVRkJiVUk3UVVGRFprNHNORUpCUVVsUExGbEJRVW9zUTBGQmFVSXNTMEZCYWtJc1JVRkJlVUlzVTBGQlUwWXNVMEZCVTBNc1IwRkJWQ3hEUVVGc1F6dEJRVU5CUml4blEwRkJVVWtzVDBGQlVpeERRVUZuUWtNc1IwRkJhRUlzUjBGQmRVSXNVMEZCVXl4TlFVRlVMRWRCUVd0Q1NpeFRRVUZUUXl4SFFVRlVMRU5CUVhwRE8wRkJRMGdzY1VKQlNFUXNUVUZIVHl4SlFVRkpRU3hSUVVGUkxFOUJRVm9zUlVGQmNVSTdRVUZEZUVKTUxEaENRVUZOVXl4WFFVRk9MRWRCUVc5Q1RDeFRRVUZUUXl4SFFVRlVMRU5CUVhCQ08wRkJRMGdzY1VKQlJrMHNUVUZGUVN4SlFVRkpRU3hSUVVGUkxFOUJRVm9zUlVGQmNVSTdRVUZEZUVKS0xEaENRVUZOVVN4WFFVRk9MRWRCUVc5Q0xFMUJRVTFNTEZOQlFWTkRMRWRCUVZRc1EwRkJNVUk3UVVGRFFVZ3NhME5CUVZWTExFOUJRVllzUTBGQmEwSk9MRXRCUVd4Q0xFZEJRVEJDUnl4VFFVRlRReXhIUVVGVUxFTkJRVEZDTzBGQlEwZ3NjVUpCU0Uwc1RVRkhRU3hKUVVGSlFTeFJRVUZSTEVsQlFWb3NSVUZCYTBJN1FVRkRja0pTTEc5RFFVRlpWU3hQUVVGYUxFTkJRVzlDUnl4RlFVRndRaXhIUVVGNVFrNHNVMEZCVTBNc1IwRkJWQ3hEUVVGNlFqdEJRVU5JTEhGQ1FVWk5MRTFCUlVFc1NVRkJTVUVzVVVGQlVTeFZRVUZhTEVWQlFYZENPMEZCUXpOQ0xEUkNRVUZKVFN4bFFVRmxla01zVTBGQlV6QkRMR0ZCUVZRc1EwRkJkVUlzVFVGQmRrSXNRMEZCYmtJN1FVRkRRVVFzY1VOQlFXRkdMRmRCUVdJc1IwRkJNa0lzVFVGQlRVd3NVMEZCVTBNc1IwRkJWQ3hEUVVGcVF6dEJRVU5CVFN4eFEwRkJZVVVzVTBGQllpeERRVUYxUWtNc1IwRkJka0lzUTBGQk1rSXNiMEpCUVROQ08wRkJRMEVzTkVKQlFVbERMRmxCUVZsc1FpeFpRVUZaTVVJc1lVRkJXaXhEUVVFd1FpeG5Ra0ZCTVVJc1EwRkJhRUk3UVVGRFFUUkRMR3REUVVGVlF5eFpRVUZXTEVOQlFYVkNUQ3haUVVGMlFpeEZRVUZ4UTBrc1ZVRkJWVE5ETEZGQlFWWXNRMEZCYlVJc1EwRkJia0lzUTBGQmNrTTdRVUZEU0N4eFFrRk9UU3hOUVUxQkxFbEJRVWxwUXl4UlFVRlJMRTlCUVZvc1JVRkJjVUk3UVVGRGVFSlNMRzlEUVVGWlowSXNVMEZCV2l4RFFVRnpRa01zUjBGQmRFSXNRMEZCTUVJc01FSkJRVEJDVml4VFFVRlRReXhIUVVGVUxFTkJRWEJFTzBGQlEwZzdRVUZGU2p0QlFVTkVMSEZDUVVGTGFFTXNUMEZCVEN4RFFVRmhORU1zVjBGQllpeERRVUY1UW5CQ0xGZEJRWHBDTzBGQlEwZzdRVUZEU2pzN096czdPMnRDUVc1SFowSTNRaXhsTzBGQmIwZHdRaUlzSW1acGJHVWlPaUpmWVdSa0xYQnliMlIxWTNRdGFYUmxiWE11YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SmxlSEJ2Y25RZ1pHVm1ZWFZzZENCamJHRnpjeUJCWkdSUWNtOWtkV04wU1hSbGJYTWdlMXh5WEc0Z0lDQWdZMjl1YzNSeWRXTjBiM0lvS1NCN1hISmNiaUFnSUNBZ0lDQWdMeThnUkU5TlhISmNiaUFnSUNBZ0lDQWdkR2hwY3k1dFlXbHVTWFJsYlNBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1d2NtOWtkV04wWDE5cGRHVnRMV05zYjI1bEp5a3VZMmhwYkdSeVpXNWJNRjA3WEhKY2JpQWdJQ0FnSUNBZ2RHaHBjeTV3WVhKeVpXNTBJRDBnWkc5amRXMWxiblF1Y1hWbGNubFRaV3hsWTNSdmNpZ25MbVpsWVhWMGRYSmxMWEJ5YjJSMVkzUW5LVHRjY2x4dUlDQWdJQ0FnSUNCMGFHbHpMbUowYmlBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1c2IyRmtMVzF2Y21VdFluUnVKeWs3WEhKY2JseHlYRzRnSUNBZ0lDQWdJQzh2SUhaaGNuTWdYSEpjYmlBZ0lDQWdJQ0FnZEdocGN5NW1hWEp6ZEV4dllXUmxaRWwwWlcxelVYUjVJRDBnT0R0Y2NseHVJQ0FnSUNBZ0lDQjBhR2x6TG5CeVpYTnpRblJ1VEc5aFpHVmtTWFJsYlhOUmRIa2dQU0EwTzF4eVhHNWNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0x5OGdJR1YyWlc1MGMxeHlYRzRnSUNBZ0lDQWdJSFJvYVhNdVgyWnBjbk4wVEc5aFpFRmtaRWwwWlcxektDazdYSEpjYmlBZ0lDQWdJQ0FnZEdocGN5NWZjSEpsYzNOQ2RHNUJaR1JKZEdWdGN5Z3BPMXh5WEc0Z0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUY5bWFYSnpkRXh2WVdSQlpHUkpkR1Z0Y3lncElIdGNjbHh1SUNBZ0lDQWdJQ0JzWlhRZ2VHaHlJRDBnYm1WM0lGaE5URWgwZEhCU1pYRjFaWE4wS0NrN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUhob2NpNXZjR1Z1S0NkSFJWUW5MQ0FuTGk0dlpHSXVhbk52YmljcE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNCNGFISXVjbVZ6Y0c5dWMyVlVlWEJsSUQwZ1hDSnFjMjl1WENJN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUhob2NpNWhaR1JGZG1WdWRFeHBjM1JsYm1WeUtDZHNiMkZrSnl3Z0tDa2dQVDRnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JzWlhRZ1pHRjBZU0E5SUhob2NpNXlaWE53YjI1elpUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2JHVjBJSFJ2ZEdGc1VYUjVTWFJsYlhNZ1BTQW9aR0YwWVM1c1pXNW5kR2dnTFNBeEtUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2JHVjBJSEYwZVVsMFpXMXpJRDBnZEdocGN5NW1hWEp6ZEV4dllXUmxaRWwwWlcxelVYUjVPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQjBhR2x6TGw5aFpHUkpkR1Z0Y3loMGIzUmhiRkYwZVVsMFpXMXpMQ0J4ZEhsSmRHVnRjeXdnWkdGMFlTazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lGeHlYRzRnSUNBZ0lDQWdJSDBwTzF4eVhHNGdJQ0FnSUNBZ0lIaG9jaTV6Wlc1a0tDazdYSEpjYmlBZ0lDQWdJQ0FnWEhKY2JpQWdJQ0I5TzF4eVhHNWNjbHh1SUNBZ0lGOXdjbVZ6YzBKMGJrRmtaRWwwWlcxektDa2dlMXh5WEc0Z0lDQWdJQ0FnSUhSb2FYTXVibTkzUVdSa1pXUWdQU0IwYUdsekxtWnBjbk4wVEc5aFpHVmtTWFJsYlhOUmRIazdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lIUm9hWE11WW5SdUxtRmtaRVYyWlc1MFRHbHpkR1Z1WlhJb0oyTnNhV05ySnl3Z0tDa2dQVDRnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JzWlhRZ2VHaHlJRDBnYm1WM0lGaE5URWgwZEhCU1pYRjFaWE4wS0NrN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjRhSEl1YjNCbGJpZ25SMFZVSnl3Z0p5NHVMMlJpTG1wemIyNG5LVHRjY2x4dVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUhob2NpNXlaWE53YjI1elpWUjVjR1VnUFNCY0ltcHpiMjVjSWp0Y2NseHVYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIaG9jaTVoWkdSRmRtVnVkRXhwYzNSbGJtVnlLQ2RzYjJGa0p5d2dLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiR1YwSUdSaGRHRWdQU0I0YUhJdWNtVnpjRzl1YzJVN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnNaWFFnZEc5MFlXeFJkSGxKZEdWdGN5QTlJQ2hrWVhSaExteGxibWQwYUNBdElERWdMU0IwYUdsekxtNXZkMEZrWkdWa0tUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR3hsZENCeGRIbEpkR1Z0Y3lBOUlIUm9hWE11Y0hKbGMzTkNkRzVNYjJGa1pXUkpkR1Z0YzFGMGVUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVmWVdSa1NYUmxiWE1vZEc5MFlXeFJkSGxKZEdWdGN5d2djWFI1U1hSbGJYTXNJR1JoZEdFcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NXViM2RCWkdSbFpDQXJQU0IwYUdsekxuQnlaWE56UW5SdVRHOWhaR1ZrU1hSbGJYTlJkSGs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSDBwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I0YUhJdWMyVnVaQ2dwTzF4eVhHNGdJQ0FnSUNBZ0lGeHlYRzRnSUNBZ0lDQWdJSDBwTzF4eVhHNGdJQ0FnZlR0Y2NseHVYSEpjYmlBZ0lDQmZZV1JrU1hSbGJYTW9kRzkwWVd4UmRIa3NJR0ZrWkZGMGVTd2daR0YwWVNrZ2UxeHlYRzVjY2x4dUlDQWdJQ0FnSUNCbWIzSWdLR3hsZENCcElEMGdkRzkwWVd4UmRIazdJR2tnUGlBb2RHOTBZV3hSZEhrZ0xTQmhaR1JSZEhrcE95QnBMUzBwSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tHa2dQVDA5SURBcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVluUnVMbk4wZVd4bExtUnBjM0JzWVhrZ1BTQW5ibTl1WlNjN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYkdWMElHTjFjbkpsYm5SSmRHVnRJRDBnZEdocGN5NXRZV2x1U1hSbGJTNWpiRzl1WlU1dlpHVW9kSEoxWlNrN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnNaWFFnYVcxbklEMGdZM1Z5Y21WdWRFbDBaVzB1Y1hWbGNubFRaV3hsWTNSdmNpZ25MbkJ5YjJSMVkzUmZYMmx0WnljcExGeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2wwYkdVZ1BTQmpkWEp5Wlc1MFNYUmxiUzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3VjSEp2WkhWamRGOWZkR2wwYkdVdGJHbHVheWNwTEZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2NISnBZMlVnUFNCamRYSnlaVzUwU1hSbGJTNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdWNISnZaSFZqZEY5ZmNISnBZMlVuS1N4Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHSmhjMnRsZEVKMGJpQTlJR04xY25KbGJuUkpkR1Z0TG5GMVpYSjVVMlZzWldOMGIzSW9KeTV3Y205a2RXTjBYMTlrWlhSaGFXeHpMV0oxZEhSdmJpMHRZbUZ6YTJWMEp5a3NYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0I2YjI5dFFuUnVJRDBnWTNWeWNtVnVkRWwwWlcwdWNYVmxjbmxUWld4bFkzUnZjaWduTG5CeWIyUjFZM1JmWDJSbGRHRnBiSE10WW5WMGRHOXVMUzE2YjI5dEp5azdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JzWlhRZ1pHRjBZVWwwWlcwZ1BTQmtZWFJoVzJsZE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdabTl5SUNoc1pYUWdhMlY1SUdsdUlHUmhkR0ZKZEdWdEtTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb2EyVjVJRDA5UFNBbmMzSmpKeWtnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR2x0Wnk1elpYUkJkSFJ5YVdKMWRHVW9KM055WXljc0lDZ25hVzFuTHljZ0t5QmtZWFJoU1hSbGJWdHJaWGxkS1NrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZW05dmJVSjBiaTVrWVhSaGMyVjBMbk55WXlBOUlDZ25hVzFuTHljZ0t5QW5ZbWxuTFNjZ0t5QmtZWFJoU1hSbGJWdHJaWGxkS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9hMlY1SUQwOVBTQW5kR2wwYkdVbktTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RHbDBiR1V1ZEdWNGRFTnZiblJsYm5RZ1BTQmtZWFJoU1hSbGJWdHJaWGxkTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZTQmxiSE5sSUdsbUlDaHJaWGtnUFQwOUlDZHdjbWxqWlNjcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCd2NtbGpaUzUwWlhoMFEyOXVkR1Z1ZENBOUlDY2tKeUFySUdSaGRHRkpkR1Z0VzJ0bGVWMDdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1ltRnphMlYwUW5SdUxtUmhkR0Z6WlhRdWNISnBZMlVnUFNCa1lYUmhTWFJsYlZ0clpYbGRPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZlNCbGJITmxJR2xtSUNoclpYa2dQVDA5SUNkcFpDY3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmpkWEp5Wlc1MFNYUmxiUzVrWVhSaGMyVjBMbWxrSUQwZ1pHRjBZVWwwWlcxYmEyVjVYVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0JwWmlBb2EyVjVJRDA5UFNBbmIyeGtVSEpwWTJVbktTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2JHVjBJRzlzWkZCeWFXTmxVM0JoYmlBOUlHUnZZM1Z0Wlc1MExtTnlaV0YwWlVWc1pXMWxiblFvSjNOd1lXNG5LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnZiR1JRY21salpWTndZVzR1ZEdWNGRFTnZiblJsYm5RZ1BTQW5KQ2NnS3lCa1lYUmhTWFJsYlZ0clpYbGRPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHOXNaRkJ5YVdObFUzQmhiaTVqYkdGemMweHBjM1F1WVdSa0tDZHdjbTlrZFdOMFgxOXZiR1F0Y0hKcFkyVW5LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnNaWFFnWkdWelkzSlhjbUZ3SUQwZ1kzVnljbVZ1ZEVsMFpXMHVjWFZsY25sVFpXeGxZM1J2Y2lnbkxuQnliMlIxWTNRdFpHVnpZM0luS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JrWlhOamNsZHlZWEF1YVc1elpYSjBRbVZtYjNKbEtHOXNaRkJ5YVdObFUzQmhiaXdnWkdWelkzSlhjbUZ3TG1Ob2FXeGtjbVZ1V3pKZEtUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQnBaaUFvYTJWNUlEMDlQU0FuYkdGaVpXd25LU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZM1Z5Y21WdWRFbDBaVzB1WTJ4aGMzTk1hWE4wTG1Ga1pDZ25jSEp2WkhWamRGOWZhWFJsYlMwdGJHRmlaV3d0SnlBcklHUmhkR0ZKZEdWdFcydGxlVjBwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZWeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTV3WVhKeVpXNTBMbUZ3Y0dWdVpFTm9hV3hrS0dOMWNuSmxiblJKZEdWdEtUdGNjbHh1SUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0I5TzF4eVhHNTlPeUpkZlE9PSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBCdXJnZXJNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgZnVuY3Rpb24gQnVyZ2VyTWVudSgpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdXJnZXJNZW51KTtcblxuICAgICAgLy8gRE9NXG4gICAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyk7XG4gICAgICB0aGlzLm5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19saXN0Jyk7XG4gICAgICB0aGlzLm5hdkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19pdGVtJyk7XG4gICAgICB0aGlzLmJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcbiAgICAgIHRoaXMubWFpbmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbmNvbnRlbnQnKTtcbiAgICAgIHRoaXMuZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpO1xuXG4gICAgICAvLyAgZXZlbnRzXG4gICAgICB0aGlzLl9ldmVudHMoKTtcbiAgIH1cblxuICAgX2NyZWF0ZUNsYXNzKEJ1cmdlck1lbnUsIFt7XG4gICAgICBrZXk6ICdfZXZlbnRzJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgdGhpcy5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5uYXZMaXN0LmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1uYXZfX2xpc3QtLWJ1cmdlci1hY3RpdmUnKTtcblxuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSA1MDtcblxuICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuXG4gICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLm5hdkl0ZW1baV0uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9faXRlbS0tYnVyZ2VyLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG5cbiAgICAgICAgICAgICAgIHRpbWVvdXQgKz0gNTA7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLm5hdkl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgIF9sb29wKGkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgX3RoaXMuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgICAgIF90aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XG4gICAgICAgICAgICBfdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XG4gICAgICAgICAgICBfdGhpcy5mb290ZXIuY2xhc3NMaXN0LmFkZCgnYmx1cicpO1xuICAgICAgICAgfSk7XG5cbiAgICAgICAgIHRoaXMubmF2TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgX3RoaXMubmF2TGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19saXN0LS1idXJnZXItYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMubmF2SXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgX3RoaXMubmF2SXRlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19pdGVtLS1idXJnZXItYWN0aXZlJyk7XG4gICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICBfdGhpcy5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICAgICAgICAgX3RoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcbiAgICAgICAgICAgICAgIF90aGlzLm1haW5jb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcbiAgICAgICAgICAgICAgIF90aGlzLmZvb3Rlci5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgIH1dKTtcblxuICAgcmV0dXJuIEJ1cmdlck1lbnU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1cmdlck1lbnU7XG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbDlpZFhKblpYSXRiV1Z1ZFM1cWN5SmRMQ0p1WVcxbGN5STZXeUpDZFhKblpYSk5aVzUxSWl3aVluUnVJaXdpWkc5amRXMWxiblFpTENKeGRXVnllVk5sYkdWamRHOXlJaXdpYm1GMlRHbHpkQ0lzSW01aGRrbDBaVzBpTENKeGRXVnllVk5sYkdWamRHOXlRV3hzSWl3aVltOWtlU0lzSW1obFlXUmxjaUlzSW0xaGFXNWpiMjUwWlc1MElpd2labTl2ZEdWeUlpd2lYMlYyWlc1MGN5SXNJbUZrWkVWMlpXNTBUR2x6ZEdWdVpYSWlMQ0pqYkdGemMweHBjM1FpTENKaFpHUWlMQ0owYVcxbGIzVjBJaXdpYVNJc0luTmxkRlJwYldWdmRYUWlMQ0pzWlc1bmRHZ2lMQ0psSWl3aWRHRnlaMlYwSWl3aVkzVnljbVZ1ZEZSaGNtZGxkQ0lzSW5KbGJXOTJaU0pkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096dEpRVUZ4UWtFc1ZUdEJRVU5zUWl4NVFrRkJZenRCUVVGQk96dEJRVU5ZTzBGQlEwRXNWMEZCUzBNc1IwRkJUQ3hIUVVGWFF5eFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xHRkJRWFpDTEVOQlFWZzdRVUZEUVN4WFFVRkxReXhQUVVGTUxFZEJRV1ZHTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzT0VKQlFYWkNMRU5CUVdZN1FVRkRRU3hYUVVGTFJTeFBRVUZNTEVkQlFXVklMRk5CUVZOSkxHZENRVUZVTEVOQlFUQkNMRGhDUVVFeFFpeERRVUZtTzBGQlEwRXNWMEZCUzBNc1NVRkJUQ3hIUVVGWlRDeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xFMUJRWFpDTEVOQlFWbzdRVUZEUVN4WFFVRkxTeXhOUVVGTUxFZEJRV05PTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzVTBGQmRrSXNRMEZCWkR0QlFVTkJMRmRCUVV0TkxGZEJRVXdzUjBGQmJVSlFMRk5CUVZORExHRkJRVlFzUTBGQmRVSXNZMEZCZGtJc1EwRkJia0k3UVVGRFFTeFhRVUZMVHl4TlFVRk1MRWRCUVdOU0xGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc1UwRkJka0lzUTBGQlpEczdRVUZGUVR0QlFVTkJMRmRCUVV0UkxFOUJRVXc3UVVGRFJqczdPenRuUTBGRlV6dEJRVUZCT3p0QlFVTlFMR05CUVV0V0xFZEJRVXdzUTBGQlUxY3NaMEpCUVZRc1EwRkJNRUlzVDBGQk1VSXNSVUZCYlVNc1dVRkJUVHRCUVVOMFF5eHJRa0ZCUzFJc1QwRkJUQ3hEUVVGaFV5eFRRVUZpTEVOQlFYVkNReXhIUVVGMlFpeERRVUV5UWl4cFEwRkJNMEk3TzBGQlJVRXNaMEpCUVVsRExGVkJRVlVzUlVGQlpEczdRVUZJYzBNc2RVTkJTVGRDUXl4RFFVbzJRanM3UVVGTmJrTkRMREJDUVVGWExGbEJRVTA3UVVGRFpDeDNRa0ZCUzFvc1QwRkJUQ3hEUVVGaFZ5eERRVUZpTEVWQlFXZENTQ3hUUVVGb1FpeERRVUV3UWtNc1IwRkJNVUlzUTBGQk9FSXNhVU5CUVRsQ08wRkJRMFlzWjBKQlJrUXNSVUZGUjBNc1QwRkdTRHM3UVVGSlFVRXNNRUpCUVZjc1JVRkJXRHRCUVZadFF6czdRVUZKZEVNc2FVSkJRVXNzU1VGQlNVTXNTVUZCU1N4RFFVRmlMRVZCUVdkQ1FTeEpRVUZKTEUxQlFVdFlMRTlCUVV3c1EwRkJZV0VzVFVGQmFrTXNSVUZCZVVOR0xFZEJRWHBETEVWQlFUaERPMEZCUVVFc2NVSkJRWEpEUVN4RFFVRnhRenRCUVU4M1F6czdRVUZGUkN4clFrRkJTMVFzU1VGQlRDeERRVUZWVFN4VFFVRldMRU5CUVc5Q1F5eEhRVUZ3UWl4RFFVRjNRaXhwUWtGQmVFSTdRVUZEUVN4clFrRkJTMDRzVFVGQlRDeERRVUZaU3l4VFFVRmFMRU5CUVhOQ1F5eEhRVUYwUWl4RFFVRXdRaXhOUVVFeFFqdEJRVU5CTEd0Q1FVRkxUQ3hYUVVGTUxFTkJRV2xDU1N4VFFVRnFRaXhEUVVFeVFrTXNSMEZCTTBJc1EwRkJLMElzVFVGQkwwSTdRVUZEUVN4clFrRkJTMG9zVFVGQlRDeERRVUZaUnl4VFFVRmFMRU5CUVhOQ1F5eEhRVUYwUWl4RFFVRXdRaXhOUVVFeFFqdEJRVU5HTEZWQmFrSkVPenRCUVcxQ1FTeGpRVUZMVml4UFFVRk1MRU5CUVdGUkxHZENRVUZpTEVOQlFUaENMRTlCUVRsQ0xFVkJRWFZETEdGQlFVczdRVUZEZWtNc1owSkJRVWxQTEVWQlFVVkRMRTFCUVVZc1MwRkJZVVFzUlVGQlJVVXNZVUZCYmtJc1JVRkJhME03UVVGREwwSXNjVUpCUVV0cVFpeFBRVUZNTEVOQlFXRlRMRk5CUVdJc1EwRkJkVUpUTEUxQlFYWkNMRU5CUVRoQ0xHbERRVUU1UWpzN1FVRkZRU3h2UWtGQlN5eEpRVUZKVGl4SlFVRkpMRU5CUVdJc1JVRkJaMEpCTEVsQlFVa3NUVUZCUzFnc1QwRkJUQ3hEUVVGaFlTeE5RVUZxUXl4RlFVRjVRMFlzUjBGQmVrTXNSVUZCT0VNN1FVRkRNME1zZDBKQlFVdFlMRTlCUVV3c1EwRkJZVmNzUTBGQllpeEZRVUZuUWtnc1UwRkJhRUlzUTBGQk1FSlRMRTFCUVRGQ0xFTkJRV2xETEdsRFFVRnFRenRCUVVOR096dEJRVVZFTEhGQ1FVRkxaaXhKUVVGTUxFTkJRVlZOTEZOQlFWWXNRMEZCYjBKVExFMUJRWEJDTEVOQlFUSkNMR2xDUVVFelFqdEJRVU5CTEhGQ1FVRkxaQ3hOUVVGTUxFTkJRVmxMTEZOQlFWb3NRMEZCYzBKVExFMUJRWFJDTEVOQlFUWkNMRTFCUVRkQ08wRkJRMEVzY1VKQlFVdGlMRmRCUVV3c1EwRkJhVUpKTEZOQlFXcENMRU5CUVRKQ1V5eE5RVUV6UWl4RFFVRnJReXhOUVVGc1F6dEJRVU5CTEhGQ1FVRkxXaXhOUVVGTUxFTkJRVmxITEZOQlFWb3NRMEZCYzBKVExFMUJRWFJDTEVOQlFUWkNMRTFCUVRkQ08wRkJRMFk3UVVGRFNDeFZRV0pFTzBGQlkwWTdPenM3T3p0clFrRnFSR2xDZEVJc1ZUdEJRV3RFY0VJaUxDSm1hV3hsSWpvaVgySjFjbWRsY2kxdFpXNTFMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVpYaHdiM0owSUdSbFptRjFiSFFnWTJ4aGMzTWdRblZ5WjJWeVRXVnVkU0I3WEhKY2JpQWdJR052Ym5OMGNuVmpkRzl5S0NrZ2UxeHlYRzRnSUNBZ0lDQXZMeUJFVDAxY2NseHVJQ0FnSUNBZ2RHaHBjeTVpZEc0Z1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVluVnlaMlZ5TFdKMGJpY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtNWhka3hwYzNRZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVptbDRaV1F0Ym1GMklDNW9aV0ZrWlhJdGJtRjJYMTlzYVhOMEp5azdYSEpjYmlBZ0lDQWdJSFJvYVhNdWJtRjJTWFJsYlNBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0pCYkd3b0p5NW1hWGhsWkMxdVlYWWdMbWhsWVdSbGNpMXVZWFpmWDJsMFpXMG5LVHRjY2x4dUlDQWdJQ0FnZEdocGN5NWliMlI1SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZjaWduWW05a2VTY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtaGxZV1JsY2lBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1b1pXRmtaWEluS1R0Y2NseHVJQ0FnSUNBZ2RHaHBjeTV0WVdsdVkyOXVkR1Z1ZENBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1dFlXbHVZMjl1ZEdWdWRDY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtWnZiM1JsY2lBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1bWIyOTBaWEluS1R0Y2NseHVYSEpjYmlBZ0lDQWdJQzh2SUNCbGRtVnVkSE5jY2x4dUlDQWdJQ0FnZEdocGN5NWZaWFpsYm5SektDazdYSEpjYmlBZ0lIMWNjbHh1WEhKY2JpQWdJRjlsZG1WdWRITW9LU0I3WEhKY2JpQWdJQ0FnSUhSb2FYTXVZblJ1TG1Ga1pFVjJaVzUwVEdsemRHVnVaWElvSjJOc2FXTnJKeXdnS0NrZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNCMGFHbHpMbTVoZGt4cGMzUXVZMnhoYzNOTWFYTjBMbUZrWkNnbmFHVmhaR1Z5TFc1aGRsOWZiR2x6ZEMwdFluVnlaMlZ5TFdGamRHbDJaU2NwTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQ0FnYkdWMElIUnBiV1Z2ZFhRZ1BTQTFNRHRjY2x4dUlDQWdJQ0FnSUNBZ1ptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQjBhR2x6TG01aGRrbDBaVzB1YkdWdVozUm9PeUJwS3lzcElIdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSE5sZEZScGJXVnZkWFFvS0NrZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtNWhka2wwWlcxYmFWMHVZMnhoYzNOTWFYTjBMbUZrWkNnbmFHVmhaR1Z5TFc1aGRsOWZhWFJsYlMwdFluVnlaMlZ5TFdGamRHbDJaU2NwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5TENCMGFXMWxiM1YwS1R0Y2NseHVYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUnBiV1Z2ZFhRZ0t6MGdOVEE3WEhKY2JpQWdJQ0FnSUNBZ0lIMDdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lDQjBhR2x6TG1KdlpIa3VZMnhoYzNOTWFYTjBMbUZrWkNnbmIzWmxjbVpzYjNjdGFHbGtaR1Z1SnlrN1hISmNiaUFnSUNBZ0lDQWdJSFJvYVhNdWFHVmhaR1Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdJQ0FnZEdocGN5NXRZV2x1WTI5dWRHVnVkQzVqYkdGemMweHBjM1F1WVdSa0tDZGliSFZ5SnlrN1hISmNiaUFnSUNBZ0lDQWdJSFJvYVhNdVptOXZkR1Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdmU2s3WEhKY2JseHlYRzRnSUNBZ0lDQjBhR2x6TG01aGRreHBjM1F1WVdSa1JYWmxiblJNYVhOMFpXNWxjaWduWTJ4cFkyc25MQ0JsSUQwK0lIdGNjbHh1SUNBZ0lDQWdJQ0FnYVdZZ0tHVXVkR0Z5WjJWMElEMDlQU0JsTG1OMWNuSmxiblJVWVhKblpYUXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1dVlYWk1hWE4wTG1Oc1lYTnpUR2x6ZEM1eVpXMXZkbVVvSjJobFlXUmxjaTF1WVhaZlgyeHBjM1F0TFdKMWNtZGxjaTFoWTNScGRtVW5LVHRjY2x4dVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdadmNpQW9iR1YwSUdrZ1BTQXdPeUJwSUR3Z2RHaHBjeTV1WVhaSmRHVnRMbXhsYm1kMGFEc2dhU3NyS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11Ym1GMlNYUmxiVnRwWFM1amJHRnpjMHhwYzNRdWNtVnRiM1psS0Nkb1pXRmtaWEl0Ym1GMlgxOXBkR1Z0TFMxaWRYSm5aWEl0WVdOMGFYWmxKeWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSDA3WEhKY2JseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbUp2WkhrdVkyeGhjM05NYVhOMExuSmxiVzkyWlNnbmIzWmxjbVpzYjNjdGFHbGtaR1Z1SnlrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVhR1ZoWkdWeUxtTnNZWE56VEdsemRDNXlaVzF2ZG1Vb0oySnNkWEluS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NXRZV2x1WTI5dWRHVnVkQzVqYkdGemMweHBjM1F1Y21WdGIzWmxLQ2RpYkhWeUp5azdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11Wm05dmRHVnlMbU5zWVhOelRHbHpkQzV5WlcxdmRtVW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNCOUtUdGNjbHh1SUNBZ2ZWeHlYRzU5T3lKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICBmdW5jdGlvbiBGaXhlZEhlYWRlcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaXhlZEhlYWRlcik7XG5cbiAgICAgIC8vIERPTVxuICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tLWhlYWRlcicpO1xuXG4gICAgICAvLyBBZGRpdGlvbmFsIFZhcnNcbiAgICAgIHRoaXMub2Zmc2V0ID0gMTAwMDtcblxuICAgICAgLy8gIGV2ZW50c1xuICAgICAgdGhpcy5fZXZlbnRzKCk7XG4gICB9XG5cbiAgIF9jcmVhdGVDbGFzcyhGaXhlZEhlYWRlciwgW3tcbiAgICAgIGtleTogJ19ldmVudHMnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG4gICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiBfdGhpcy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgICAgICAgICBfdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gX3RoaXMub2Zmc2V0IC8gMyAqIDIpIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTAwJSknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b20taGVhZGVyLS1maXhlZCcpO1xuICAgICAgICAgICAgICAgX3RoaXMuaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgfV0pO1xuXG4gICByZXR1cm4gRml4ZWRIZWFkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpeGVkSGVhZGVyO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5bWFYaGxaQzFvWldGa1pYSXVhbk1pWFN3aWJtRnRaWE1pT2xzaVJtbDRaV1JJWldGa1pYSWlMQ0pvWldGa1pYSWlMQ0prYjJOMWJXVnVkQ0lzSW5GMVpYSjVVMlZzWldOMGIzSWlMQ0p2Wm1aelpYUWlMQ0pmWlhabGJuUnpJaXdpZDJsdVpHOTNJaXdpWVdSa1JYWmxiblJNYVhOMFpXNWxjaUlzSW5CaFoyVlpUMlptYzJWMElpd2ljM1I1YkdVaUxDSjBjbUZ1YzJadmNtMGlMQ0pqYkdGemMweHBjM1FpTENKaFpHUWlMQ0p5WlcxdmRtVWlYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN1NVRkJjVUpCTEZjN1FVRkRiRUlzTUVKQlFXTTdRVUZCUVRzN1FVRkRXRHRCUVVOQkxGZEJRVXRETEUxQlFVd3NSMEZCWTBNc1UwRkJVME1zWVVGQlZDeERRVUYxUWl4blFrRkJka0lzUTBGQlpEczdRVUZGUVR0QlFVTkJMRmRCUVV0RExFMUJRVXdzUjBGQll5eEpRVUZrT3p0QlFVVkJPMEZCUTBFc1YwRkJTME1zVDBGQlREdEJRVU5HT3pzN08yZERRVVZUTzBGQlFVRTdPMEZCUTFCRExHZENRVUZQUXl4blFrRkJVQ3hEUVVGM1FpeFJRVUY0UWl4RlFVRnJReXhoUVVGTE8wRkJRM0JETEdkQ1FVRkpSQ3hQUVVGUFJTeFhRVUZRTEVkQlFYRkNMRTFCUVV0S0xFMUJRVGxDTEVWQlFYTkRPMEZCUTI1RExIRkNRVUZMU0N4TlFVRk1MRU5CUVZsUkxFdEJRVm9zUTBGQmEwSkRMRk5CUVd4Q0xFZEJRVGhDTEdWQlFUbENPMEZCUTBFc2NVSkJRVXRVTEUxQlFVd3NRMEZCV1ZVc1UwRkJXaXhEUVVGelFrTXNSMEZCZEVJc1EwRkJNRUlzYzBKQlFURkNPMEZCUTBZc1lVRklSQ3hOUVVkUExFbEJRVWxPTEU5QlFVOUZMRmRCUVZBc1IwRkJjMElzVFVGQlMwb3NUVUZCVEN4SFFVRmpMRU5CUVdZc1IwRkJiMElzUTBGQk4wTXNSVUZCWjBRN1FVRkRjRVFzY1VKQlFVdElMRTFCUVV3c1EwRkJXVkVzUzBGQldpeERRVUZyUWtNc1UwRkJiRUlzUjBGQk9FSXNiVUpCUVRsQ08wRkJRMFlzWVVGR1RTeE5RVVZCTzBGQlEwb3NjVUpCUVV0VUxFMUJRVXdzUTBGQldWVXNVMEZCV2l4RFFVRnpRa1VzVFVGQmRFSXNRMEZCTmtJc2MwSkJRVGRDTzBGQlEwRXNjVUpCUVV0YUxFMUJRVXdzUTBGQldWRXNTMEZCV2l4RFFVRnJRa01zVTBGQmJFSXNSMEZCT0VJc1pVRkJPVUk3UVVGRFJqdEJRVU5JTEZWQlZrUTdRVUZYUmpzN096czdPMnRDUVhoQ2FVSldMRmM3UVVGNVFuQkNJaXdpWm1sc1pTSTZJbDltYVhobFpDMW9aV0ZrWlhJdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCR2FYaGxaRWhsWVdSbGNpQjdYSEpjYmlBZ0lHTnZibk4wY25WamRHOXlLQ2tnZTF4eVhHNGdJQ0FnSUNBdkx5QkVUMDFjY2x4dUlDQWdJQ0FnZEdocGN5NW9aV0ZrWlhJZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVltOTBkRzl0TFdobFlXUmxjaWNwTzF4eVhHNWNjbHh1SUNBZ0lDQWdMeThnUVdSa2FYUnBiMjVoYkNCV1lYSnpYSEpjYmlBZ0lDQWdJSFJvYVhNdWIyWm1jMlYwSUQwZ01UQXdNRHRjY2x4dVhISmNiaUFnSUNBZ0lDOHZJQ0JsZG1WdWRITmNjbHh1SUNBZ0lDQWdkR2hwY3k1ZlpYWmxiblJ6S0NrN1hISmNiaUFnSUgxY2NseHVYSEpjYmlBZ0lGOWxkbVZ1ZEhNb0tTQjdYSEpjYmlBZ0lDQWdJSGRwYm1SdmR5NWhaR1JGZG1WdWRFeHBjM1JsYm1WeUtDZHpZM0p2Ykd3bkxDQmxJRDArSUh0Y2NseHVJQ0FnSUNBZ0lDQWdhV1lnS0hkcGJtUnZkeTV3WVdkbFdVOW1abk5sZENBK0lIUm9hWE11YjJabWMyVjBLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWFHVmhaR1Z5TG5OMGVXeGxMblJ5WVc1elptOXliU0E5SUNkMGNtRnVjMnhoZEdWWktEQXBKenRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1b1pXRmtaWEl1WTJ4aGMzTk1hWE4wTG1Ga1pDZ25ZbTkwZEc5dExXaGxZV1JsY2kwdFptbDRaV1FuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2gzYVc1a2IzY3VjR0ZuWlZsUFptWnpaWFFnUGlBb2RHaHBjeTV2Wm1aelpYUWdMeUF6S1NBcUlESXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1b1pXRmtaWEl1YzNSNWJHVXVkSEpoYm5ObWIzSnRJRDBnSjNSeVlXNXpiR0YwWlZrb0xURXdNQ1VwSnp0Y2NseHVJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVvWldGa1pYSXVZMnhoYzNOTWFYTjBMbkpsYlc5MlpTZ25ZbTkwZEc5dExXaGxZV1JsY2kwdFptbDRaV1FuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NW9aV0ZrWlhJdWMzUjViR1V1ZEhKaGJuTm1iM0p0SUQwZ0ozUnlZVzV6YkdGMFpWa29NQ2tuTzF4eVhHNGdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJSDBwTzF4eVhHNGdJQ0I5WEhKY2JuMDdJbDE5IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBQcm9kdWN0SXRlbXNFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvZHVjdEl0ZW1zRXZlbnRzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvZHVjdEl0ZW1zRXZlbnRzKTtcblxuICAgICAgICAvLyBET01cbiAgICAgICAgdGhpcy5pdGVtc1dyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdXR1cmUtcHJvZHVjdCcpO1xuICAgICAgICB0aGlzLmJhc2tldFRvdGFsUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXRvdGFsLXByaWNlJyk7XG4gICAgICAgIHRoaXMuYmFza2V0UXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX2J1dHRvbi1xdHktLWJhc2tldCcpO1xuICAgICAgICB0aGlzLmhlYXJ0c1F0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19idXR0b24tcXR5LS1oZWFydCcpO1xuICAgICAgICB0aGlzLmltYWdlWm9vbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tem9vbScpO1xuICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1nLXpvb20td2luZG93X19pbWcnKTtcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIFZhcnNcbiAgICAgICAgdGhpcy50b3RhbFByaWNlID0gMDtcbiAgICAgICAgdGhpcy50b3RhbFF0eSA9IDA7XG4gICAgICAgIHRoaXMudG90YWxMaWtlcyA9IDA7XG5cbiAgICAgICAgLy8gIGV2ZW50c1xuICAgICAgICB0aGlzLl9ldmVudHMoKTtcbiAgICAgICAgdGhpcy5fbG9hZEJhc2tldEZyb21Mb2NhbFN0b3JlZ2UoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUHJvZHVjdEl0ZW1zRXZlbnRzLCBbe1xuICAgICAgICBrZXk6ICdfZXZlbnRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FkZFRvQmFza2V0KGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9saWtlKGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl96b29tQnRuKGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9zdGFycyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfYWRkVG9CYXNrZXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFRvQmFza2V0KGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJpY2UgfHwgZS50YXJnZXQuZGF0YXNldC5wcmljZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJJykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpdGVtUHJpY2UgPSB0YXJnZXQuZGF0YXNldC5wcmljZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsUHJpY2UgKz0gK2l0ZW1QcmljZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsUXR5Kys7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2tldFRvdGFsUHJpY2UudGV4dENvbnRlbnQgPSAnJCcgKyB0aGlzLnRvdGFsUHJpY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNrZXRRdHkudGV4dENvbnRlbnQgPSB0aGlzLnRvdGFsUXR5O1xuXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jhc2tldFRvdGFsUHJpY2UnLCB0aGlzLnRvdGFsUHJpY2UpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYXNrZXRRdHknLCB0aGlzLnRvdGFsUXR5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19sb2FkQmFza2V0RnJvbUxvY2FsU3RvcmVnZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9hZEJhc2tldEZyb21Mb2NhbFN0b3JlZ2UoKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhc2tldFRvdGFsUHJpY2UnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxQcmljZSA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFza2V0VG90YWxQcmljZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFza2V0VG90YWxQcmljZS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxQcmljZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRRdHknKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxRdHkgPSArbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhc2tldFF0eScpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFza2V0UXR5LnRleHRDb250ZW50ID0gdGhpcy50b3RhbFF0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX2xpa2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2xpa2UoZSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQnKSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsTGlrZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFydHNRdHkudGV4dENvbnRlbnQgPSB0aGlzLnRvdGFsTGlrZXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxMaWtlcysrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0c1F0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxMaWtlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfem9vbUJ0bicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfem9vbUJ0bihlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS16b29tJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nU3JjID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnNyYztcblxuICAgICAgICAgICAgICAgIHRoaXMuaW1nWm9vbVdpbmRvdy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZ1NyYyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWdab29tV2luZG93LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW1nLXpvb20td2luZG93LS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pbWdab29tV2luZG93LnBhcmVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaW1nLXpvb20td2luZG93LS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3N0YXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFycyhlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRTdGFyID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB0YXJnZXRTdGFyLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24tLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFN0YXIucHJldmlvdXNFbGVtZW50U2libGluZyAmJiB0YXJnZXRTdGFyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVDbGFzc0ZvclByZXZpb3VzU3RhcnModGFyZ2V0U3RhciwgJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24tLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDbGFzc0Zvck5leHRTdGFycyh0YXJnZXRTdGFyLCAncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbi0tYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19hZGRDbGFzc0Zvck5leHRTdGFycycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQ2xhc3NGb3JOZXh0U3RhcnMoZWxlbSwgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3JlbW92ZUNsYXNzRm9yUHJldmlvdXNTdGFycycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlQ2xhc3NGb3JQcmV2aW91c1N0YXJzKGVsZW0sIGFjdGl2ZUNsYXNzKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgfSB3aGlsZSAoZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoYWN0aXZlQ2xhc3MpKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQcm9kdWN0SXRlbXNFdmVudHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb2R1Y3RJdGVtc0V2ZW50cztcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklsOXdjbTlrZFdOMExXbDBaVzF6TFdWMlpXNTBjeTVxY3lKZExDSnVZVzFsY3lJNld5SlFjbTlrZFdOMFNYUmxiWE5GZG1WdWRITWlMQ0pwZEdWdGMxZHlZWEFpTENKa2IyTjFiV1Z1ZENJc0luRjFaWEo1VTJWc1pXTjBiM0lpTENKaVlYTnJaWFJVYjNSaGJGQnlhV05sSWl3aVltRnphMlYwVVhSNUlpd2lhR1ZoY25SelVYUjVJaXdpYVcxaFoyVmFiMjl0UW5SdUlpd2lhVzFuV205dmJWZHBibVJ2ZHlJc0luUnZkR0ZzVUhKcFkyVWlMQ0owYjNSaGJGRjBlU0lzSW5SdmRHRnNUR2xyWlhNaUxDSmZaWFpsYm5Seklpd2lYMnh2WVdSQ1lYTnJaWFJHY205dFRHOWpZV3hUZEc5eVpXZGxJaXdpWVdSa1JYWmxiblJNYVhOMFpXNWxjaUlzSW1VaUxDSmZZV1JrVkc5Q1lYTnJaWFFpTENKZmJHbHJaU0lzSWw5NmIyOXRRblJ1SWl3aVgzTjBZWEp6SWl3aWRHRnlaMlYwSWl3aWNHRnlaVzUwUld4bGJXVnVkQ0lzSW1SaGRHRnpaWFFpTENKd2NtbGpaU0lzSW5SaFowNWhiV1VpTENKcGRHVnRVSEpwWTJVaUxDSjBaWGgwUTI5dWRHVnVkQ0lzSW14dlkyRnNVM1J2Y21GblpTSXNJbk5sZEVsMFpXMGlMQ0puWlhSSmRHVnRJaXdpWTJ4aGMzTk1hWE4wSWl3aVkyOXVkR0ZwYm5NaUxDSnlaVzF2ZG1VaUxDSmhaR1FpTENKcGJXZFRjbU1pTENKemNtTWlMQ0p6WlhSQmRIUnlhV0oxZEdVaUxDSmpkWEp5Wlc1MFZHRnlaMlYwSWl3aWRHRnlaMlYwVTNSaGNpSXNJbkJ5WlhacGIzVnpSV3hsYldWdWRGTnBZbXhwYm1jaUxDSmZjbVZ0YjNabFEyeGhjM05HYjNKUWNtVjJhVzkxYzFOMFlYSnpJaXdpWDJGa1pFTnNZWE56Um05eVRtVjRkRk4wWVhKeklpd2laV3hsYlNJc0ltRmpkR2wyWlVOc1lYTnpJaXdpYm1WNGRFVnNaVzFsYm5SVGFXSnNhVzVuSWwwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPMGxCUVhGQ1FTeHJRanRCUVVOcVFpeHJRMEZCWXp0QlFVRkJPenRCUVVWV08wRkJRMEVzWVVGQlMwTXNVMEZCVEN4SFFVRnBRa01zVTBGQlUwTXNZVUZCVkN4RFFVRjFRaXh0UWtGQmRrSXNRMEZCYWtJN1FVRkRRU3hoUVVGTFF5eG5Ra0ZCVEN4SFFVRjNRa1lzVTBGQlUwTXNZVUZCVkN4RFFVRjFRaXhwUTBGQmRrSXNRMEZCZUVJN1FVRkRRU3hoUVVGTFJTeFRRVUZNTEVkQlFXbENTQ3hUUVVGVFF5eGhRVUZVTEVOQlFYVkNMR2xEUVVGMlFpeERRVUZxUWp0QlFVTkJMR0ZCUVV0SExGTkJRVXdzUjBGQmFVSktMRk5CUVZORExHRkJRVlFzUTBGQmRVSXNaME5CUVhaQ0xFTkJRV3BDTzBGQlEwRXNZVUZCUzBrc1dVRkJUQ3hIUVVGdlFrd3NVMEZCVTBNc1lVRkJWQ3hEUVVGMVFpeG5RMEZCZGtJc1EwRkJjRUk3UVVGRFFTeGhRVUZMU3l4aFFVRk1MRWRCUVhGQ1RpeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xIVkNRVUYyUWl4RFFVRnlRanM3UVVGRlFUdEJRVU5CTEdGQlFVdE5MRlZCUVV3c1IwRkJhMElzUTBGQmJFSTdRVUZEUVN4aFFVRkxReXhSUVVGTUxFZEJRV2RDTEVOQlFXaENPMEZCUTBFc1lVRkJTME1zVlVGQlRDeEhRVUZyUWl4RFFVRnNRanM3UVVGRlFUdEJRVU5CTEdGQlFVdERMRTlCUVV3N1FVRkRRU3hoUVVGTFF5d3lRa0ZCVER0QlFVTklPenM3TzJ0RFFVVlRPMEZCUVVFN08wRkJRMDRzYVVKQlFVdGFMRk5CUVV3c1EwRkJaV0VzWjBKQlFXWXNRMEZCWjBNc1QwRkJhRU1zUlVGQmVVTXNWVUZCUTBNc1EwRkJSQ3hGUVVGUE8wRkJRelZETEhOQ1FVRkxReXhaUVVGTUxFTkJRV3RDUkN4RFFVRnNRanRCUVVOQkxITkNRVUZOUlN4TFFVRk9MRU5CUVZsR0xFTkJRVm83UVVGRFFTeHpRa0ZCUzBjc1VVRkJUQ3hEUVVGalNDeERRVUZrTzBGQlEwRXNjMEpCUVV0SkxFMUJRVXdzUTBGQldVb3NRMEZCV2p0QlFVTklMR0ZCVEVRN1FVRk5TRHM3TzNGRFFVVlpRU3hETEVWQlFVYzdRVUZEV2l4blFrRkJTVUVzUlVGQlJVc3NUVUZCUml4RFFVRlRReXhoUVVGVUxFTkJRWFZDUXl4UFFVRjJRaXhEUVVFclFrTXNTMEZCTDBJc1NVRkJkME5TTEVWQlFVVkxMRTFCUVVZc1EwRkJVMFVzVDBGQlZDeERRVUZwUWtNc1MwRkJOMFFzUlVGQmIwVTdPMEZCUldoRkxHOUNRVUZKU0N4VFFVRlRMRWxCUVdJN1FVRkRRU3h2UWtGQlNVd3NSVUZCUlVzc1RVRkJSaXhEUVVGVFNTeFBRVUZVTEV0QlFYRkNMRWRCUVhwQ0xFVkJRVGhDTzBGQlF6RkNTaXcyUWtGQlUwd3NSVUZCUlVzc1RVRkJSaXhEUVVGVFF5eGhRVUZzUWp0QlFVTklMR2xDUVVaRUxFMUJSVTg3UVVGRFNFUXNOa0pCUVZOTUxFVkJRVVZMTEUxQlFWZzdRVUZEU0RzN1FVRkZSQ3h2UWtGQlNVc3NXVUZCV1V3c1QwRkJUMFVzVDBGQlVDeERRVUZsUXl4TFFVRXZRanRCUVVOQkxIRkNRVUZMWkN4VlFVRk1MRWxCUVcxQ0xFTkJRVU5uUWl4VFFVRndRanRCUVVOQkxIRkNRVUZMWml4UlFVRk1PenRCUVVWQkxIRkNRVUZMVGl4blFrRkJUQ3hEUVVGelFuTkNMRmRCUVhSQ0xFZEJRVzlETEUxQlFVMHNTMEZCUzJwQ0xGVkJRUzlETzBGQlEwRXNjVUpCUVV0S0xGTkJRVXdzUTBGQlpYRkNMRmRCUVdZc1IwRkJOa0lzUzBGQlMyaENMRkZCUVd4RE96dEJRVVZCYVVJc05rSkJRV0ZETEU5QlFXSXNRMEZCY1VJc2EwSkJRWEpDTEVWQlFYbERMRXRCUVV0dVFpeFZRVUU1UXp0QlFVTkJhMElzTmtKQlFXRkRMRTlCUVdJc1EwRkJjVUlzVjBGQmNrSXNSVUZCYTBNc1MwRkJTMnhDTEZGQlFYWkRPMEZCUTBnN1FVRkRTanM3TzNORVFVVTJRanRCUVVNeFFpeG5Ra0ZCU1dsQ0xHRkJRV0ZGTEU5QlFXSXNRMEZCY1VJc2EwSkJRWEpDTEVOQlFVb3NSVUZCT0VNN1FVRkRNVU1zY1VKQlFVdHdRaXhWUVVGTUxFZEJRV3RDTEVOQlFVTnJRaXhoUVVGaFJTeFBRVUZpTEVOQlFYRkNMR3RDUVVGeVFpeERRVUZ1UWp0QlFVTkJMSEZDUVVGTGVrSXNaMEpCUVV3c1EwRkJjMEp6UWl4WFFVRjBRaXhIUVVGdlF5eExRVUZMYWtJc1ZVRkJla003UVVGRFNEczdRVUZGUkN4blFrRkJTV3RDTEdGQlFXRkZMRTlCUVdJc1EwRkJjVUlzVjBGQmNrSXNRMEZCU2l4RlFVRjFRenRCUVVOdVF5eHhRa0ZCUzI1Q0xGRkJRVXdzUjBGQlowSXNRMEZCUTJsQ0xHRkJRV0ZGTEU5QlFXSXNRMEZCY1VJc1YwRkJja0lzUTBGQmFrSTdRVUZEUVN4eFFrRkJTM2hDTEZOQlFVd3NRMEZCWlhGQ0xGZEJRV1lzUjBGQk5rSXNTMEZCUzJoQ0xGRkJRV3hETzBGQlEwZzdRVUZEU2pzN096aENRVVZMU3l4RExFVkJRVWM3UVVGRFRDeG5Ra0ZCU1VFc1JVRkJSVXNzVFVGQlJpeERRVUZUUXl4aFFVRlVMRU5CUVhWQ1V5eFRRVUYyUWl4RFFVRnBRME1zVVVGQmFrTXNRMEZCTUVNc1owTkJRVEZETEVOQlFVb3NSVUZCYVVZN1FVRkROMFVzYjBKQlFVbG9RaXhGUVVGRlN5eE5RVUZHTEVOQlFWTkRMR0ZCUVZRc1EwRkJkVUpUTEZOQlFYWkNMRU5CUVdsRFF5eFJRVUZxUXl4RFFVRXdReXgxUTBGQk1VTXNRMEZCU2l4RlFVRjNSanRCUVVOd1JtaENMSE5DUVVGRlN5eE5RVUZHTEVOQlFWTkRMR0ZCUVZRc1EwRkJkVUpUTEZOQlFYWkNMRU5CUVdsRFJTeE5RVUZxUXl4RFFVRjNReXgxUTBGQmVFTTdRVUZEUVN4NVFrRkJTM0pDTEZWQlFVdzdRVUZEUVN4NVFrRkJTMHdzVTBGQlRDeERRVUZsYjBJc1YwRkJaaXhIUVVFMlFpeExRVUZMWml4VlFVRnNRenRCUVVOSUxHbENRVXBFTEUxQlNVODdRVUZEU0Vrc2MwSkJRVVZMTEUxQlFVWXNRMEZCVTBNc1lVRkJWQ3hEUVVGMVFsTXNVMEZCZGtJc1EwRkJhVU5ITEVkQlFXcERMRU5CUVhGRExIVkRRVUZ5UXp0QlFVTkJMSGxDUVVGTGRFSXNWVUZCVER0QlFVTkJMSGxDUVVGTFRDeFRRVUZNTEVOQlFXVnZRaXhYUVVGbUxFZEJRVFpDTEV0QlFVdG1MRlZCUVd4RE8wRkJRMGc3UVVGRFNqdEJRVU5LT3pzN2FVTkJSVkZKTEVNc1JVRkJSenRCUVVOU0xHZENRVUZKUVN4RlFVRkZTeXhOUVVGR0xFTkJRVk5ETEdGQlFWUXNRMEZCZFVKVExGTkJRWFpDTEVOQlFXbERReXhSUVVGcVF5eERRVUV3UXl3clFrRkJNVU1zUTBGQlNpeEZRVUZuUmp0QlFVTTFSU3h2UWtGQlNVY3NVMEZCVTI1Q0xFVkJRVVZMTEUxQlFVWXNRMEZCVTBNc1lVRkJWQ3hEUVVGMVFrTXNUMEZCZGtJc1EwRkJLMEpoTEVkQlFUVkRPenRCUVVWQkxIRkNRVUZMTTBJc1lVRkJUQ3hEUVVGdFFqUkNMRmxCUVc1Q0xFTkJRV2RETEV0QlFXaERMRVZCUVhWRFJpeE5RVUYyUXp0QlFVTkJMSEZDUVVGTE1VSXNZVUZCVEN4RFFVRnRRbUVzWVVGQmJrSXNRMEZCYVVOVExGTkJRV3BETEVOQlFUSkRSeXhIUVVFelF5eERRVUVyUXl4NVFrRkJMME03UVVGRFNEczdRVUZGUkN4cFFrRkJTM3BDTEdGQlFVd3NRMEZCYlVKaExHRkJRVzVDTEVOQlFXbERVQ3huUWtGQmFrTXNRMEZCYTBRc1QwRkJiRVFzUlVGQk1rUXNZVUZCU3p0QlFVTTFSQ3h2UWtGQlNVTXNSVUZCUlVzc1RVRkJUaXhGUVVGak8wRkJRMVpNTEhOQ1FVRkZjMElzWVVGQlJpeERRVUZuUWxBc1UwRkJhRUlzUTBGQk1FSkZMRTFCUVRGQ0xFTkJRV2xETEhsQ1FVRnFRenRCUVVOSU8wRkJRMG9zWVVGS1JEdEJRVXRJT3pzN0swSkJSVTFxUWl4RExFVkJRVWM3UVVGRFRpeG5Ra0ZCU1VFc1JVRkJSVXNzVFVGQlJpeERRVUZUUXl4aFFVRlVMRU5CUVhWQ1V5eFRRVUYyUWl4RFFVRnBRME1zVVVGQmFrTXNRMEZCTUVNc2QwSkJRVEZETEVOQlFVb3NSVUZCZVVVN1FVRkRja1VzYjBKQlFVbFBMR0ZCUVdGMlFpeEZRVUZGU3l4TlFVRkdMRU5CUVZORExHRkJRVEZDTzBGQlEwRnBRaXd5UWtGQlYxSXNVMEZCV0N4RFFVRnhRa2NzUjBGQmNrSXNRMEZCZVVJc1owTkJRWHBDT3p0QlFVVkJMRzlDUVVGSlN5eFhRVUZYUXl4elFrRkJXQ3hKUVVGeFEwUXNWMEZCVjBNc2MwSkJRVmdzUTBGQmEwTlVMRk5CUVd4RExFTkJRVFJEUXl4UlFVRTFReXhEUVVGeFJDeG5RMEZCY2tRc1EwRkJla01zUlVGQlowazdRVUZETlVnc2VVSkJRVXRUTERSQ1FVRk1MRU5CUVd0RFJpeFZRVUZzUXl4RlFVRTRReXhuUTBGQk9VTTdRVUZEU0RzN1FVRkZSQ3h4UWtGQlMwY3NjVUpCUVV3c1EwRkJNa0pJTEZWQlFUTkNMRVZCUVhWRExHZERRVUYyUXp0QlFVTklPMEZCUTBvN096czRRMEZGY1VKSkxFa3NSVUZCVFVNc1Z5eEZRVUZoTzBGQlEzSkRMRzFDUVVGUFJDeFBRVUZQUVN4TFFVRkxSU3hyUWtGQmJrSXNSVUZCZFVNN1FVRkRia05HTEhGQ1FVRkxXaXhUUVVGTUxFTkJRV1ZITEVkQlFXWXNRMEZCYlVKVkxGZEJRVzVDTzBGQlEwZzdRVUZEU2pzN08zRkVRVVUwUWtRc1NTeEZRVUZOUXl4WExFVkJRV0U3UVVGRE5VTXNaVUZCUnp0QlFVRkZSQ3gxUWtGQlQwRXNTMEZCUzBnc2MwSkJRVm83UVVGRFJFY3NjVUpCUVV0YUxGTkJRVXdzUTBGQlpVVXNUVUZCWml4RFFVRnpRbGNzVjBGQmRFSTdRVUZEUXl4aFFVWk1MRkZCUldGRUxFdEJRVXRJTEhOQ1FVRk1MRWxCUVN0Q1J5eExRVUZMU0N4elFrRkJUQ3hEUVVFMFFsUXNVMEZCTlVJc1EwRkJjME5ETEZGQlFYUkRMRU5CUVN0RFdTeFhRVUV2UXl4RFFVWTFRenRCUVVkSU96czdPenM3YTBKQmNFaG5Rak5ETEd0Q08wRkJjVWh3UWlJc0ltWnBiR1VpT2lKZmNISnZaSFZqZEMxcGRHVnRjeTFsZG1WdWRITXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKbGVIQnZjblFnWkdWbVlYVnNkQ0JqYkdGemN5QlFjbTlrZFdOMFNYUmxiWE5GZG1WdWRITWdlMXh5WEc0Z0lDQWdZMjl1YzNSeWRXTjBiM0lvS1NCN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUM4dklFUlBUVnh5WEc0Z0lDQWdJQ0FnSUhSb2FYTXVhWFJsYlhOWGNtRndJRDBnWkc5amRXMWxiblF1Y1hWbGNubFRaV3hsWTNSdmNpZ25MbVpsWVhWMGRYSmxMWEJ5YjJSMVkzUW5LVHRjY2x4dUlDQWdJQ0FnSUNCMGFHbHpMbUpoYzJ0bGRGUnZkR0ZzVUhKcFkyVWdQU0JrYjJOMWJXVnVkQzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3VkWE5sY2kxd1lXNWxiRjlmWW5WMGRHOXVMWFJ2ZEdGc0xYQnlhV05sSnlrN1hISmNiaUFnSUNBZ0lDQWdkR2hwY3k1aVlYTnJaWFJSZEhrZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdWRYTmxjaTF3WVc1bGJGOWZZblYwZEc5dUxYRjBlUzB0WW1GemEyVjBKeWs3WEhKY2JpQWdJQ0FnSUNBZ2RHaHBjeTVvWldGeWRITlJkSGtnUFNCa2IyTjFiV1Z1ZEM1eGRXVnllVk5sYkdWamRHOXlLQ2N1ZFhObGNpMXdZVzVsYkY5ZlluVjBkRzl1TFhGMGVTMHRhR1ZoY25RbktUdGNjbHh1SUNBZ0lDQWdJQ0IwYUdsekxtbHRZV2RsV205dmJVSjBiaUE5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTV3Y205a2RXTjBYMTlrWlhSaGFXeHpMV0oxZEhSdmJpMHRlbTl2YlNjcE8xeHlYRzRnSUNBZ0lDQWdJSFJvYVhNdWFXMW5XbTl2YlZkcGJtUnZkeUE5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTVwYldjdGVtOXZiUzEzYVc1a2IzZGZYMmx0WnljcE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBdkx5QkJaR1JwZEdsdmJtRnNJRlpoY25OY2NseHVJQ0FnSUNBZ0lDQjBhR2x6TG5SdmRHRnNVSEpwWTJVZ1BTQXdPMXh5WEc0Z0lDQWdJQ0FnSUhSb2FYTXVkRzkwWVd4UmRIa2dQU0F3TzF4eVhHNGdJQ0FnSUNBZ0lIUm9hWE11ZEc5MFlXeE1hV3RsY3lBOUlEQTdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lDOHZJQ0JsZG1WdWRITmNjbHh1SUNBZ0lDQWdJQ0IwYUdsekxsOWxkbVZ1ZEhNb0tUdGNjbHh1SUNBZ0lDQWdJQ0IwYUdsekxsOXNiMkZrUW1GemEyVjBSbkp2YlV4dlkyRnNVM1J2Y21WblpTZ3BPMXh5WEc0Z0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUY5bGRtVnVkSE1vS1NCN1hISmNiaUFnSUNBZ0lDQWdkR2hwY3k1cGRHVnRjMWR5WVhBdVlXUmtSWFpsYm5STWFYTjBaVzVsY2lnblkyeHBZMnNuTENBb1pTa2dQVDRnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxsOWhaR1JVYjBKaGMydGxkQ2hsS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NGdYMnhwYTJVb1pTazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WDNwdmIyMUNkRzRvWlNrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVYM04wWVhKektHVXBPMXh5WEc0Z0lDQWdJQ0FnSUgwcE8xeHlYRzRnSUNBZ2ZUdGNjbHh1WEhKY2JpQWdJQ0JmWVdSa1ZHOUNZWE5yWlhRb1pTa2dlMXh5WEc0Z0lDQWdJQ0FnSUdsbUlDaGxMblJoY21kbGRDNXdZWEpsYm5SRmJHVnRaVzUwTG1SaGRHRnpaWFF1Y0hKcFkyVWdmSHdnWlM1MFlYSm5aWFF1WkdGMFlYTmxkQzV3Y21salpTa2dlMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYkdWMElIUmhjbWRsZENBOUlHNTFiR3c3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNobExuUmhjbWRsZEM1MFlXZE9ZVzFsSUQwOVBTQW5TU2NwSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUmhjbWRsZENBOUlHVXVkR0Z5WjJWMExuQmhjbVZ1ZEVWc1pXMWxiblE3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwWVhKblpYUWdQU0JsTG5SaGNtZGxkRHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYkdWMElHbDBaVzFRY21salpTQTlJSFJoY21kbGRDNWtZWFJoYzJWMExuQnlhV05sTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxuUnZkR0ZzVUhKcFkyVWdLejBnSzJsMFpXMVFjbWxqWlR0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NTBiM1JoYkZGMGVTc3JPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWlZWE5yWlhSVWIzUmhiRkJ5YVdObExuUmxlSFJEYjI1MFpXNTBJRDBnSnlRbklDc2dkR2hwY3k1MGIzUmhiRkJ5YVdObE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbUpoYzJ0bGRGRjBlUzUwWlhoMFEyOXVkR1Z1ZENBOUlIUm9hWE11ZEc5MFlXeFJkSGs3WEhKY2JseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCc2IyTmhiRk4wYjNKaFoyVXVjMlYwU1hSbGJTZ25ZbUZ6YTJWMFZHOTBZV3hRY21salpTY3NJSFJvYVhNdWRHOTBZV3hRY21salpTazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lHeHZZMkZzVTNSdmNtRm5aUzV6WlhSSmRHVnRLQ2RpWVhOclpYUlJkSGtuTENCMGFHbHpMblJ2ZEdGc1VYUjVLVnh5WEc0Z0lDQWdJQ0FnSUgwN1hISmNiaUFnSUNCOU8xeHlYRzVjY2x4dUlDQWdJRjlzYjJGa1FtRnphMlYwUm5KdmJVeHZZMkZzVTNSdmNtVm5aU2dwSUh0Y2NseHVJQ0FnSUNBZ0lDQnBaaUFvYkc5allXeFRkRzl5WVdkbExtZGxkRWwwWlcwb0oySmhjMnRsZEZSdmRHRnNVSEpwWTJVbktTa2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5SdmRHRnNVSEpwWTJVZ1BTQXJiRzlqWVd4VGRHOXlZV2RsTG1kbGRFbDBaVzBvSjJKaGMydGxkRlJ2ZEdGc1VISnBZMlVuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWlZWE5yWlhSVWIzUmhiRkJ5YVdObExuUmxlSFJEYjI1MFpXNTBJRDBnZEdocGN5NTBiM1JoYkZCeWFXTmxPMXh5WEc0Z0lDQWdJQ0FnSUgxY2NseHVYSEpjYmlBZ0lDQWdJQ0FnYVdZZ0tHeHZZMkZzVTNSdmNtRm5aUzVuWlhSSmRHVnRLQ2RpWVhOclpYUlJkSGtuS1NrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMblJ2ZEdGc1VYUjVJRDBnSzJ4dlkyRnNVM1J2Y21GblpTNW5aWFJKZEdWdEtDZGlZWE5yWlhSUmRIa25LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1aVlYTnJaWFJSZEhrdWRHVjRkRU52Ym5SbGJuUWdQU0IwYUdsekxuUnZkR0ZzVVhSNU8xeHlYRzRnSUNBZ0lDQWdJSDFjY2x4dUlDQWdJSDA3WEhKY2JseHlYRzRnSUNBZ1gyeHBhMlVvWlNrZ2UxeHlYRzRnSUNBZ0lDQWdJR2xtSUNobExuUmhjbWRsZEM1d1lYSmxiblJGYkdWdFpXNTBMbU5zWVhOelRHbHpkQzVqYjI1MFlXbHVjeWduY0hKdlpIVmpkRjlmWkdWMFlXbHNjeTFpZFhSMGIyNHRMV2hsWVhKMEp5a3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0dVdWRHRnlaMlYwTG5CaGNtVnVkRVZzWlcxbGJuUXVZMnhoYzNOTWFYTjBMbU52Ym5SaGFXNXpLQ2R3Y205a2RXTjBYMTlrWlhSaGFXeHpMV0oxZEhSdmJpMHRhR1ZoY25RdFlXTjBhWFpsSnlrcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR1V1ZEdGeVoyVjBMbkJoY21WdWRFVnNaVzFsYm5RdVkyeGhjM05NYVhOMExuSmxiVzkyWlNnbmNISnZaSFZqZEY5ZlpHVjBZV2xzY3kxaWRYUjBiMjR0TFdobFlYSjBMV0ZqZEdsMlpTY3BPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NTBiM1JoYkV4cGEyVnpMUzA3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWhsWVhKMGMxRjBlUzUwWlhoMFEyOXVkR1Z1ZENBOUlIUm9hWE11ZEc5MFlXeE1hV3RsY3p0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlNCbGJITmxJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdVdWRHRnlaMlYwTG5CaGNtVnVkRVZzWlcxbGJuUXVZMnhoYzNOTWFYTjBMbUZrWkNnbmNISnZaSFZqZEY5ZlpHVjBZV2xzY3kxaWRYUjBiMjR0TFdobFlYSjBMV0ZqZEdsMlpTY3BPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NTBiM1JoYkV4cGEyVnpLeXM3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWhsWVhKMGMxRjBlUzUwWlhoMFEyOXVkR1Z1ZENBOUlIUm9hWE11ZEc5MFlXeE1hV3RsY3p0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNBZ0lIMDdYSEpjYmlBZ0lDQjlPMXh5WEc1Y2NseHVJQ0FnSUY5NmIyOXRRblJ1S0dVcElIdGNjbHh1SUNBZ0lDQWdJQ0JwWmlBb1pTNTBZWEpuWlhRdWNHRnlaVzUwUld4bGJXVnVkQzVqYkdGemMweHBjM1F1WTI5dWRHRnBibk1vSjNCeWIyUjFZM1JmWDJSbGRHRnBiSE10WW5WMGRHOXVMUzE2YjI5dEp5a3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdiR1YwSUdsdFoxTnlZeUE5SUdVdWRHRnlaMlYwTG5CaGNtVnVkRVZzWlcxbGJuUXVaR0YwWVhObGRDNXpjbU03WEhKY2JseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWx0WjFwdmIyMVhhVzVrYjNjdWMyVjBRWFIwY21saWRYUmxLQ2R6Y21NbkxDQnBiV2RUY21NcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWx0WjFwdmIyMVhhVzVrYjNjdWNHRnlaVzUwUld4bGJXVnVkQzVqYkdGemMweHBjM1F1WVdSa0tDZHBiV2N0ZW05dmJTMTNhVzVrYjNjdExXRmpkR2wyWlNjcE8xeHlYRzRnSUNBZ0lDQWdJSDFjY2x4dVhISmNiaUFnSUNBZ0lDQWdkR2hwY3k1cGJXZGFiMjl0VjJsdVpHOTNMbkJoY21WdWRFVnNaVzFsYm5RdVlXUmtSWFpsYm5STWFYTjBaVzVsY2lnblkyeHBZMnNuTENCbElEMCtJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0dVdWRHRnlaMlYwS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmxMbU4xY25KbGJuUlVZWEpuWlhRdVkyeGhjM05NYVhOMExuSmxiVzkyWlNnbmFXMW5MWHB2YjIwdGQybHVaRzkzTFMxaFkzUnBkbVVuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNBZ0lIMHBPMXh5WEc0Z0lDQWdmVHRjY2x4dVhISmNiaUFnSUNCZmMzUmhjbk1vWlNrZ2UxeHlYRzRnSUNBZ0lDQWdJR2xtSUNobExuUmhjbWRsZEM1d1lYSmxiblJGYkdWdFpXNTBMbU5zWVhOelRHbHpkQzVqYjI1MFlXbHVjeWduY0hKdlpIVmpkRjlmY21GMGFXNW5MV0oxZEhSdmJpY3BLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR3hsZENCMFlYSm5aWFJUZEdGeUlEMGdaUzUwWVhKblpYUXVjR0Z5Wlc1MFJXeGxiV1Z1ZER0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdGeVoyVjBVM1JoY2k1amJHRnpjMHhwYzNRdVlXUmtLQ2R3Y205a2RXTjBYMTl5WVhScGJtY3RZblYwZEc5dUxTMWhZM1JwZG1VbktUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMFlYSm5aWFJUZEdGeUxuQnlaWFpwYjNWelJXeGxiV1Z1ZEZOcFlteHBibWNnSmlZZ2RHRnlaMlYwVTNSaGNpNXdjbVYyYVc5MWMwVnNaVzFsYm5SVGFXSnNhVzVuTG1Oc1lYTnpUR2x6ZEM1amIyNTBZV2x1Y3lnbmNISnZaSFZqZEY5ZmNtRjBhVzVuTFdKMWRIUnZiaTB0WVdOMGFYWmxKeWtwZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVmY21WdGIzWmxRMnhoYzNOR2IzSlFjbVYyYVc5MWMxTjBZWEp6S0hSaGNtZGxkRk4wWVhJc0lDZHdjbTlrZFdOMFgxOXlZWFJwYm1jdFluVjBkRzl1TFMxaFkzUnBkbVVuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlR0Y2NseHVYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WDJGa1pFTnNZWE56Um05eVRtVjRkRk4wWVhKektIUmhjbWRsZEZOMFlYSXNJQ2R3Y205a2RXTjBYMTl5WVhScGJtY3RZblYwZEc5dUxTMWhZM1JwZG1VbktUdGNjbHh1SUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0I5TzF4eVhHNWNjbHh1SUNBZ0lGOWhaR1JEYkdGemMwWnZjazVsZUhSVGRHRnljeWhsYkdWdExDQmhZM1JwZG1WRGJHRnpjeWtnZTF4eVhHNGdJQ0FnSUNBZ0lIZG9hV3hsSUNobGJHVnRJRDBnWld4bGJTNXVaWGgwUld4bGJXVnVkRk5wWW14cGJtY3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdaV3hsYlM1amJHRnpjMHhwYzNRdVlXUmtLR0ZqZEdsMlpVTnNZWE56S1R0Y2NseHVJQ0FnSUNBZ0lDQjlPeUFnSUNBZ1hISmNiaUFnSUNCOU8xeHlYRzVjY2x4dUlDQWdJRjl5WlcxdmRtVkRiR0Z6YzBadmNsQnlaWFpwYjNWelUzUmhjbk1vWld4bGJTd2dZV04wYVhabFEyeGhjM01wSUh0Y2NseHVJQ0FnSUNBZ0lDQmtieUI3SUdWc1pXMGdQU0JsYkdWdExuQnlaWFpwYjNWelJXeGxiV1Z1ZEZOcFlteHBibWM3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR1ZzWlcwdVkyeGhjM05NYVhOMExuSmxiVzkyWlNoaFkzUnBkbVZEYkdGemN5azdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIMGdkMmhwYkdVZ0tHVnNaVzB1Y0hKbGRtbHZkWE5GYkdWdFpXNTBVMmxpYkdsdVp5QW1KaUJsYkdWdExuQnlaWFpwYjNWelJXeGxiV1Z1ZEZOcFlteHBibWN1WTJ4aGMzTk1hWE4wTG1OdmJuUmhhVzV6S0dGamRHbDJaVU5zWVhOektTazdJQ0FnWEhKY2JpQWdJQ0I5TzF4eVhHNTlPeUpkZlE9PSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gICBmdW5jdGlvbiBTZWFyY2goKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VhcmNoKTtcblxuICAgICAgLy8gRE9NXG4gICAgICB0aGlzLnNlcmNoV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19pdGVtLS1zZWFyY2gnKTtcbiAgICAgIHRoaXMuc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX2J1dHRvbi0tc2VhcmNoJyk7XG4gICAgICB0aGlzLnNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fc2VhcmNoLWZvcm0nKTtcblxuICAgICAgdGhpcy5mb3JtQWN0aXZlQ2xhc3MgPSAndXNlci1wYW5lbF9fc2VhcmNoLWZvcm0tLWFjdGl2ZSc7XG4gICAgICAvLyAgZXZlbnRzXG4gICAgICB0aGlzLl9ldmVudHMoKTtcbiAgIH1cblxuICAgX2NyZWF0ZUNsYXNzKFNlYXJjaCwgW3tcbiAgICAgIGtleTogJ19ldmVudHMnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG4gICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICB0aGlzLnNlcmNoV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gX3RoaXMuc2VhcmNoQnRuIHx8IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQgPT09IF90aGlzLnNlYXJjaEJ0bikge1xuICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKF90aGlzLmZvcm1BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICB9KTtcblxuICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoX3RoaXMuZm9ybUFjdGl2ZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaEZvcm0uY2xhc3NMaXN0LnJlbW92ZShfdGhpcy5mb3JtQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgfSk7XG4gICAgICB9XG4gICB9XSk7XG5cbiAgIHJldHVybiBTZWFyY2g7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDtcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklsOXpaV0Z5WTJndWFuTWlYU3dpYm1GdFpYTWlPbHNpVTJWaGNtTm9JaXdpYzJWeVkyaFhjbUZ3SWl3aVpHOWpkVzFsYm5RaUxDSnhkV1Z5ZVZObGJHVmpkRzl5SWl3aWMyVmhjbU5vUW5SdUlpd2ljMlZoY21Ob1JtOXliU0lzSW1admNtMUJZM1JwZG1WRGJHRnpjeUlzSWw5bGRtVnVkSE1pTENKaFpHUkZkbVZ1ZEV4cGMzUmxibVZ5SWl3aVpTSXNJblJoY21kbGRDSXNJbkJoY21WdWRFVnNaVzFsYm5RaUxDSmpiR0Z6YzB4cGMzUWlMQ0owYjJkbmJHVWlMQ0ozYVc1a2IzY2lMQ0pqYjI1MFlXbHVjeUlzSW5KbGJXOTJaU0pkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096dEpRVUZ4UWtFc1RUdEJRVU5zUWl4eFFrRkJZenRCUVVGQk96dEJRVU5ZTzBGQlEwRXNWMEZCUzBNc1UwRkJUQ3hIUVVGcFFrTXNVMEZCVTBNc1lVRkJWQ3hEUVVGMVFpd3lRa0ZCZGtJc1EwRkJha0k3UVVGRFFTeFhRVUZMUXl4VFFVRk1MRWRCUVdsQ1JpeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xEWkNRVUYyUWl4RFFVRnFRanRCUVVOQkxGZEJRVXRGTEZWQlFVd3NSMEZCYTBKSUxGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc01FSkJRWFpDTEVOQlFXeENPenRCUVVWQkxGZEJRVXRITEdWQlFVd3NSMEZCZFVJc2FVTkJRWFpDTzBGQlEwRTdRVUZEUVN4WFFVRkxReXhQUVVGTU8wRkJRMFk3T3pzN1owTkJSVk03UVVGQlFUczdRVUZEVUN4alFVRkxUaXhUUVVGTUxFTkJRV1ZQTEdkQ1FVRm1MRU5CUVdkRExFOUJRV2hETEVWQlFYbERMR0ZCUVVzN08wRkJSVE5ETEdkQ1FVRkpReXhGUVVGRlF5eE5RVUZHTEV0QlFXRXNUVUZCUzA0c1UwRkJiRUlzU1VGQkswSkxMRVZCUVVWRExFMUJRVVlzUTBGQlUwTXNZVUZCVkN4TFFVRXlRaXhOUVVGTFVDeFRRVUZ1UlN4RlFVRTRSVHRCUVVNelJTeHhRa0ZCUzBNc1ZVRkJUQ3hEUVVGblFrOHNVMEZCYUVJc1EwRkJNRUpETEUxQlFURkNMRU5CUVdsRExFMUJRVXRRTEdWQlFYUkRPMEZCUTBZN1FVRkRTQ3hWUVV4RU96dEJRVTlCVVN4blFrRkJUMDRzWjBKQlFWQXNRMEZCZDBJc1VVRkJlRUlzUlVGQmEwTXNZVUZCU3p0QlFVTndReXhuUWtGQlNTeE5RVUZMU0N4VlFVRk1MRU5CUVdkQ1R5eFRRVUZvUWl4RFFVRXdRa2NzVVVGQk1VSXNRMEZCYlVNc1RVRkJTMVFzWlVGQmVFTXNRMEZCU2l4RlFVRTRSRHRCUVVNelJDeHRRa0ZCU1Vjc1EwRkJTaXhGUVVGUE8wRkJRMG9zZDBKQlFVdEtMRlZCUVV3c1EwRkJaMEpQTEZOQlFXaENMRU5CUVRCQ1NTeE5RVUV4UWl4RFFVRnBReXhOUVVGTFZpeGxRVUYwUXp0QlFVTkdPMEZCUTBnN1FVRkRTQ3hWUVU1RU8wRkJUMFk3T3pzN096dHJRa0V6UW1sQ1RpeE5PMEZCTkVKd1FpSXNJbVpwYkdVaU9pSmZjMlZoY21Ob0xtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpWlhod2IzSjBJR1JsWm1GMWJIUWdZMnhoYzNNZ1UyVmhjbU5vSUh0Y2NseHVJQ0FnWTI5dWMzUnlkV04wYjNJb0tTQjdYSEpjYmlBZ0lDQWdJQzh2SUVSUFRWeHlYRzRnSUNBZ0lDQjBhR2x6TG5ObGNtTm9WM0poY0NBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1MWMyVnlMWEJoYm1Wc1gxOXBkR1Z0TFMxelpXRnlZMmduS1R0Y2NseHVJQ0FnSUNBZ2RHaHBjeTV6WldGeVkyaENkRzRnUFNCa2IyTjFiV1Z1ZEM1eGRXVnllVk5sYkdWamRHOXlLQ2N1ZFhObGNpMXdZVzVsYkY5ZlluVjBkRzl1TFMxelpXRnlZMmduS1R0Y2NseHVJQ0FnSUNBZ2RHaHBjeTV6WldGeVkyaEdiM0p0SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZjaWduTG5WelpYSXRjR0Z1Wld4ZlgzTmxZWEpqYUMxbWIzSnRKeWs3WEhKY2JseHlYRzRnSUNBZ0lDQjBhR2x6TG1admNtMUJZM1JwZG1WRGJHRnpjeUE5SUNkMWMyVnlMWEJoYm1Wc1gxOXpaV0Z5WTJndFptOXliUzB0WVdOMGFYWmxKenRjY2x4dUlDQWdJQ0FnTHk4Z0lHVjJaVzUwYzF4eVhHNGdJQ0FnSUNCMGFHbHpMbDlsZG1WdWRITW9LVHRjY2x4dUlDQWdmVHRjY2x4dVhISmNiaUFnSUY5bGRtVnVkSE1vS1NCN1hISmNiaUFnSUNBZ0lIUm9hWE11YzJWeVkyaFhjbUZ3TG1Ga1pFVjJaVzUwVEdsemRHVnVaWElvSjJOc2FXTnJKeXdnWlNBOVBpQjdYSEpjYmlBZ0lDQWdJQ0FnSUZ4eVhHNGdJQ0FnSUNBZ0lDQnBaaUFvWlM1MFlYSm5aWFFnUFQwOUlIUm9hWE11YzJWaGNtTm9RblJ1SUh4OElHVXVkR0Z5WjJWMExuQmhjbVZ1ZEVWc1pXMWxiblFnUFQwOUlIUm9hWE11YzJWaGNtTm9RblJ1S1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVjMlZoY21Ob1JtOXliUzVqYkdGemMweHBjM1F1ZEc5bloyeGxLSFJvYVhNdVptOXliVUZqZEdsMlpVTnNZWE56S1R0Y2NseHVJQ0FnSUNBZ0lDQWdmVnh5WEc0Z0lDQWdJQ0I5S1R0Y2NseHVYSEpjYmlBZ0lDQWdJSGRwYm1SdmR5NWhaR1JGZG1WdWRFeHBjM1JsYm1WeUtDZHpZM0p2Ykd3bkxDQmxJRDArSUh0Y2NseHVJQ0FnSUNBZ0lDQWdhV1lnS0hSb2FYTXVjMlZoY21Ob1JtOXliUzVqYkdGemMweHBjM1F1WTI5dWRHRnBibk1vZEdocGN5NW1iM0p0UVdOMGFYWmxRMnhoYzNNcEtTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2hsS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11YzJWaGNtTm9SbTl5YlM1amJHRnpjMHhwYzNRdWNtVnRiM1psS0hSb2FYTXVabTl5YlVGamRHbDJaVU5zWVhOektUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHlYRzRnSUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUgwcE8xeHlYRzRnSUNCOU8xeHlYRzU5T3lKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgZnVuY3Rpb24gU3Vic2NyaWJlKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnNjcmliZSk7XG5cbiAgICAgIC8vIERPTVxuICAgICAgdGhpcy5zdWJzY3JpYmVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1YnNjcmliZV9fZm9ybScpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVCdG4gPSB0aGlzLnN1YnNjcmliZUZvcm0ucXVlcnlTZWxlY3RvcignLnN1YnNjcmliZV9fZm9ybS1idG4nKTtcblxuICAgICAgLy8gIEV2ZW50XG4gICAgICB0aGlzLl9ldmVudCgpO1xuICAgICAgdGhpcy5fYnRuVGFyZ2V0QW5pbWF0aW9uKCk7XG4gICB9XG5cbiAgIF9jcmVhdGVDbGFzcyhTdWJzY3JpYmUsIFt7XG4gICAgICBrZXk6ICdfZXZlbnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudCgpIHtcbiAgICAgICAgIHRoaXMuc3Vic2NyaWJlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdmFyIGVtYWlsID0gZXZlbnQudGFyZ2V0LmVtYWlsLnZhbHVlO1xuXG4gICAgICAgICAgICBlbWFpbCA9IEpTT04uc3RyaW5naWZ5KGVtYWlsKTtcblxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCAnaHR0cHM6Ly9tYXhzLTRlYmU0LmZpcmViYXNlaW8uY29tL2NsaWVudHMuanNvbicpO1xuICAgICAgICAgICAgeGhyLnNlbmQoZW1haWwpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RgtC/0YDQsNCy0LvQtdC90L3QviEnKTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICBldmVudC50YXJnZXQuZW1haWwudmFsdWUgPSAnJztcbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgfSwge1xuICAgICAga2V5OiAnX2J0blRhcmdldEFuaW1hdGlvbicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2J0blRhcmdldEFuaW1hdGlvbigpIHtcbiAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgIHRoaXMuc3Vic2NyaWJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBwb3NYID0gZS5vZmZzZXRYICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBwb3NZID0gZS5vZmZzZXRZICsgJ3B4JztcblxuICAgICAgICAgICAgdmFyIHRhcmdldEFuaW1hdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGFyZ2V0QW5pbWF0aW9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1idWJibGVfX2Zvcm0tYnRuLXRlcmdldC1hbmltYXRpb24nKTtcbiAgICAgICAgICAgIHRhcmdldEFuaW1hdGlvbi5zdHlsZS5sZWZ0ID0gcG9zWDtcbiAgICAgICAgICAgIHRhcmdldEFuaW1hdGlvbi5zdHlsZS50b3AgPSBwb3NZO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlQnRuLmFwcGVuZENoaWxkKHRhcmdldEFuaW1hdGlvbik7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgdmFyIGRlbEVsID0gX3RoaXMuc3Vic2NyaWJlQnRuLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlQnRuLnJlbW92ZUNoaWxkKGRlbEVsKTtcbiAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgIH1dKTtcblxuICAgcmV0dXJuIFN1YnNjcmliZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3Vic2NyaWJlO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5emRXSnpZM0pwWW1VdWFuTWlYU3dpYm1GdFpYTWlPbHNpVTNWaWMyTnlhV0psSWl3aWMzVmljMk55YVdKbFJtOXliU0lzSW1SdlkzVnRaVzUwSWl3aWNYVmxjbmxUWld4bFkzUnZjaUlzSW5OMVluTmpjbWxpWlVKMGJpSXNJbDlsZG1WdWRDSXNJbDlpZEc1VVlYSm5aWFJCYm1sdFlYUnBiMjRpTENKaFpHUkZkbVZ1ZEV4cGMzUmxibVZ5SWl3aVpYWmxiblFpTENKd2NtVjJaVzUwUkdWbVlYVnNkQ0lzSW1WdFlXbHNJaXdpZEdGeVoyVjBJaXdpZG1Gc2RXVWlMQ0pLVTA5T0lpd2ljM1J5YVc1bmFXWjVJaXdpZUdoeUlpd2lXRTFNU0hSMGNGSmxjWFZsYzNRaUxDSnZjR1Z1SWl3aWMyVnVaQ0lzSW5ObGRGUnBiV1Z2ZFhRaUxDSnlaV0ZrZVZOMFlYUmxJaXdpWTI5dWMyOXNaU0lzSW14dlp5SXNJbkJ2YzFnaUxDSmxJaXdpYjJabWMyVjBXQ0lzSW5CdmMxa2lMQ0p2Wm1aelpYUlpJaXdpZEdGeVoyVjBRVzVwYldGMGFXOXVJaXdpWTNKbFlYUmxSV3hsYldWdWRDSXNJbU5zWVhOelRHbHpkQ0lzSW1Ga1pDSXNJbk4wZVd4bElpd2liR1ZtZENJc0luUnZjQ0lzSW1Gd2NHVnVaRU5vYVd4a0lpd2laR1ZzUld3aUxDSmphR2xzWkhKbGJpSXNJbkpsYlc5MlpVTm9hV3hrSWwwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPMGxCUVhGQ1FTeFRPMEZCUTJ4Q0xIZENRVUZqTzBGQlFVRTdPMEZCUTFnN1FVRkRRU3hYUVVGTFF5eGhRVUZNTEVkQlFYRkNReXhUUVVGVFF5eGhRVUZVTEVOQlFYVkNMR3RDUVVGMlFpeERRVUZ5UWp0QlFVTkJMRmRCUVV0RExGbEJRVXdzUjBGQmIwSXNTMEZCUzBnc1lVRkJUQ3hEUVVGdFFrVXNZVUZCYmtJc1EwRkJhVU1zYzBKQlFXcERMRU5CUVhCQ096dEJRVVZCTzBGQlEwRXNWMEZCUzBVc1RVRkJURHRCUVVOQkxGZEJRVXRETEcxQ1FVRk1PMEZCUTBZN096czdLMEpCUlZFN1FVRkRUaXhqUVVGTFRDeGhRVUZNTEVOQlFXMUNUU3huUWtGQmJrSXNRMEZCYjBNc1VVRkJjRU1zUlVGQk9FTXNZVUZCU3p0QlFVTm9SRU1zYTBKQlFVMURMR05CUVU0N08wRkJSVUVzWjBKQlFVbERMRkZCUVZGR0xFMUJRVTFITEUxQlFVNHNRMEZCWVVRc1MwRkJZaXhEUVVGdFFrVXNTMEZCTDBJN08wRkJSVUZHTEc5Q1FVRlJSeXhMUVVGTFF5eFRRVUZNTEVOQlFXVktMRXRCUVdZc1EwRkJVanM3UVVGRlFTeG5Ra0ZCU1Vzc1RVRkJUU3hKUVVGSlF5eGpRVUZLTEVWQlFWWTdRVUZEUVVRc1owSkJRVWxGTEVsQlFVb3NRMEZCVXl4TlFVRlVMRVZCUVdsQ0xHZEVRVUZxUWp0QlFVTkJSaXhuUWtGQlNVY3NTVUZCU2l4RFFVRlRVaXhMUVVGVU96dEJRVVZCVXl4MVFrRkJWeXhaUVVGTk8wRkJRMlFzYlVKQlFVbEtMRWxCUVVsTExGVkJRVW9zU1VGQmEwSXNRMEZCZEVJc1JVRkJlVUk3UVVGRGRFSkRMREJDUVVGUlF5eEhRVUZTTEVOQlFWa3NZMEZCV2p0QlFVTkdPMEZCUTBnc1lVRktSQ3hGUVVsSExFbEJTa2c3TzBGQlRVRmtMR3RDUVVGTlJ5eE5RVUZPTEVOQlFXRkVMRXRCUVdJc1EwRkJiVUpGTEV0QlFXNUNMRWRCUVRKQ0xFVkJRVE5DTzBGQlEwWXNWVUZzUWtRN1FVRnRRa1k3T3pzMFEwRkZjVUk3UVVGQlFUczdRVUZEYmtJc1kwRkJTMUlzV1VGQlRDeERRVUZyUWtjc1owSkJRV3hDTEVOQlFXMURMRTlCUVc1RExFVkJRVFJETEdGQlFVczdRVUZET1VNc1owSkJRVWxuUWl4UFFVRlBReXhGUVVGRlF5eFBRVUZHTEVkQlFWa3NTVUZCZGtJN1FVRkJRU3huUWtGRFNVTXNUMEZCVDBZc1JVRkJSVWNzVDBGQlJpeEhRVUZaTEVsQlJIWkNPenRCUVVkQkxHZENRVUZKUXl4clFrRkJhMEl4UWl4VFFVRlRNa0lzWVVGQlZDeERRVUYxUWl4TFFVRjJRaXhEUVVGMFFqdEJRVU5CUkN3MFFrRkJaMEpGTEZOQlFXaENMRU5CUVRCQ1F5eEhRVUV4UWl4RFFVRTRRaXd3UTBGQk9VSTdRVUZEUVVnc05FSkJRV2RDU1N4TFFVRm9RaXhEUVVGelFrTXNTVUZCZEVJc1IwRkJOa0pXTEVsQlFUZENPMEZCUTBGTExEUkNRVUZuUWtrc1MwRkJhRUlzUTBGQmMwSkZMRWRCUVhSQ0xFZEJRVFJDVWl4SlFVRTFRanRCUVVOQkxHdENRVUZMZEVJc1dVRkJUQ3hEUVVGclFpdENMRmRCUVd4Q0xFTkJRVGhDVUN4bFFVRTVRanM3UVVGRlFWUXNkVUpCUVZjc1dVRkJUVHRCUVVOa0xHMUNRVUZKYVVJc1VVRkJVU3hOUVVGTGFFTXNXVUZCVEN4RFFVRnJRbWxETEZGQlFXeENMRU5CUVRKQ0xFTkJRVE5DTEVOQlFWbzdRVUZEUVN4eFFrRkJTMnBETEZsQlFVd3NRMEZCYTBKclF5eFhRVUZzUWl4RFFVRTRRa1lzUzBGQk9VSTdRVUZEUml4aFFVaEVMRVZCUjBjc1IwRklTRHRCUVVsR0xGVkJaRVE3UVVGbFJqczdPenM3TzJ0Q1FXcEVhVUp3UXl4VE8wRkJhMFJ3UWlJc0ltWnBiR1VpT2lKZmMzVmljMk55YVdKbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpWlhod2IzSjBJR1JsWm1GMWJIUWdZMnhoYzNNZ1UzVmljMk55YVdKbElIdGNjbHh1SUNBZ1kyOXVjM1J5ZFdOMGIzSW9LU0I3WEhKY2JpQWdJQ0FnSUM4dklFUlBUVnh5WEc0Z0lDQWdJQ0IwYUdsekxuTjFZbk5qY21saVpVWnZjbTBnUFNCa2IyTjFiV1Z1ZEM1eGRXVnllVk5sYkdWamRHOXlLQ2N1YzNWaWMyTnlhV0psWDE5bWIzSnRKeWs3WEhKY2JpQWdJQ0FnSUhSb2FYTXVjM1ZpYzJOeWFXSmxRblJ1SUQwZ2RHaHBjeTV6ZFdKelkzSnBZbVZHYjNKdExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1emRXSnpZM0pwWW1WZlgyWnZjbTB0WW5SdUp5azdYSEpjYmx4eVhHNGdJQ0FnSUNBdkx5QWdSWFpsYm5SY2NseHVJQ0FnSUNBZ2RHaHBjeTVmWlhabGJuUW9LVHRjY2x4dUlDQWdJQ0FnZEdocGN5NWZZblJ1VkdGeVoyVjBRVzVwYldGMGFXOXVLQ2s3WEhKY2JpQWdJSDA3WEhKY2JseHlYRzRnSUNCZlpYWmxiblFvS1NCN1hISmNiaUFnSUNBZ0lIUm9hWE11YzNWaWMyTnlhV0psUm05eWJTNWhaR1JGZG1WdWRFeHBjM1JsYm1WeUtDZHpkV0p0YVhRbkxDQmxJRDArSUh0Y2NseHVJQ0FnSUNBZ0lDQWdaWFpsYm5RdWNISmxkbVZ1ZEVSbFptRjFiSFFvS1R0Y2NseHVJQ0FnSUNBZ0lDQWdYSEpjYmlBZ0lDQWdJQ0FnSUd4bGRDQmxiV0ZwYkNBOUlHVjJaVzUwTG5SaGNtZGxkQzVsYldGcGJDNTJZV3gxWlR0Y2NseHVJQ0FnSUNBZ0lDQWdYSEpjYmlBZ0lDQWdJQ0FnSUdWdFlXbHNJRDBnU2xOUFRpNXpkSEpwYm1kcFpua29aVzFoYVd3cE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ2JHVjBJSGhvY2lBOUlHNWxkeUJZVFV4SWRIUndVbVZ4ZFdWemRDZ3BPMXh5WEc0Z0lDQWdJQ0FnSUNCNGFISXViM0JsYmlnblVFOVRWQ2NzSUNkb2RIUndjem92TDIxaGVITXROR1ZpWlRRdVptbHlaV0poYzJWcGJ5NWpiMjB2WTJ4cFpXNTBjeTVxYzI5dUp5azdYSEpjYmlBZ0lDQWdJQ0FnSUhob2NpNXpaVzVrS0dWdFlXbHNLVHRjY2x4dVhISmNiaUFnSUNBZ0lDQWdJSE5sZEZScGJXVnZkWFFvS0NrZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvZUdoeUxuSmxZV1I1VTNSaGRHVWdQVDBnTkNrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmpiMjV6YjJ4bExteHZaeWduMEo3Umd0Qy8wWURRc05DeTBMdlF0ZEM5MEwzUXZpRW5LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh5WEc0Z0lDQWdJQ0FnSUNCOUxDQXhNREF3S1R0Y2NseHVJQ0FnSUNBZ0lDQWdYSEpjYmlBZ0lDQWdJQ0FnSUdWMlpXNTBMblJoY21kbGRDNWxiV0ZwYkM1MllXeDFaU0E5SUNjbk8xeHlYRzRnSUNBZ0lDQjlLVHRjY2x4dUlDQWdmVHRjY2x4dVhISmNiaUFnSUY5aWRHNVVZWEpuWlhSQmJtbHRZWFJwYjI0b0tTQjdYSEpjYmlBZ0lDQWdJSFJvYVhNdWMzVmljMk55YVdKbFFuUnVMbUZrWkVWMlpXNTBUR2x6ZEdWdVpYSW9KMk5zYVdOckp5d2daU0E5UGlCN1hISmNiaUFnSUNBZ0lDQWdJR3hsZENCd2IzTllJRDBnWlM1dlptWnpaWFJZSUNzZ0ozQjRKeXhjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJSEJ2YzFrZ1BTQmxMbTltWm5ObGRGa2dLeUFuY0hnbk8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ2JHVjBJSFJoY21kbGRFRnVhVzFoZEdsdmJpQTlJR1J2WTNWdFpXNTBMbU55WldGMFpVVnNaVzFsYm5Rb0oyUnBkaWNwTzF4eVhHNGdJQ0FnSUNBZ0lDQjBZWEpuWlhSQmJtbHRZWFJwYjI0dVkyeGhjM05NYVhOMExtRmtaQ2duWW5WMGRHOXVMV0oxWW1Kc1pWOWZabTl5YlMxaWRHNHRkR1Z5WjJWMExXRnVhVzFoZEdsdmJpY3BPMXh5WEc0Z0lDQWdJQ0FnSUNCMFlYSm5aWFJCYm1sdFlYUnBiMjR1YzNSNWJHVXViR1ZtZENBOUlIQnZjMWc3WEhKY2JpQWdJQ0FnSUNBZ0lIUmhjbWRsZEVGdWFXMWhkR2x2Ymk1emRIbHNaUzUwYjNBZ1BTQndiM05aTzF4eVhHNGdJQ0FnSUNBZ0lDQjBhR2x6TG5OMVluTmpjbWxpWlVKMGJpNWhjSEJsYm1SRGFHbHNaQ2gwWVhKblpYUkJibWx0WVhScGIyNHBPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdjMlYwVkdsdFpXOTFkQ2dvS1NBOVBpQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lHeGxkQ0JrWld4RmJDQTlJSFJvYVhNdWMzVmljMk55YVdKbFFuUnVMbU5vYVd4a2NtVnVXekJkTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxuTjFZbk5qY21saVpVSjBiaTV5WlcxdmRtVkRhR2xzWkNoa1pXeEZiQ2s3WEhKY2JpQWdJQ0FnSUNBZ0lIMHNJRFF3TUNrN1hISmNiaUFnSUNBZ0lIMHBPMXh5WEc0Z0lDQjlPMXh5WEc1OU95SmRmUT09IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2FkZFByb2R1Y3RJdGVtcyA9IHJlcXVpcmUoJy4vX2FkZC1wcm9kdWN0LWl0ZW1zJyk7XG5cbnZhciBfYWRkUHJvZHVjdEl0ZW1zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZFByb2R1Y3RJdGVtcyk7XG5cbnZhciBfYnVyZ2VyTWVudSA9IHJlcXVpcmUoJy4vX2J1cmdlci1tZW51Jyk7XG5cbnZhciBfYnVyZ2VyTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXJnZXJNZW51KTtcblxudmFyIF9maXhlZEhlYWRlciA9IHJlcXVpcmUoJy4vX2ZpeGVkLWhlYWRlcicpO1xuXG52YXIgX2ZpeGVkSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpeGVkSGVhZGVyKTtcblxudmFyIF9zZWFyY2ggPSByZXF1aXJlKCcuL19zZWFyY2gnKTtcblxudmFyIF9zZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VhcmNoKTtcblxudmFyIF9wcm9kdWN0SXRlbXNFdmVudHMgPSByZXF1aXJlKCcuL19wcm9kdWN0LWl0ZW1zLWV2ZW50cycpO1xuXG52YXIgX3Byb2R1Y3RJdGVtc0V2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9kdWN0SXRlbXNFdmVudHMpO1xuXG52YXIgX3N1YnNjcmliZSA9IHJlcXVpcmUoJy4vX3N1YnNjcmliZScpO1xuXG52YXIgX3N1YnNjcmliZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdWJzY3JpYmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQpO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuXG4gICAgLy8gQ2xvbmUgbmF2aWdhdGlvblxuICAgIGZ1bmN0aW9uIGNsb25lTmF2KCkge1xuICAgICAgICB2YXIgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1uYXZfX2xpc3QnKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIHZhciBjbG9uZU5hdlBhcnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2Jyk7XG5cbiAgICAgICAgY2xvbmVOYXZQYXJyZW50Lmluc2VydEJlZm9yZShuYXYsIGNsb25lTmF2UGFycmVudFswXSk7XG4gICAgfTtcbiAgICBjbG9uZU5hdigpO1xuXG4gICAgLy8gU2V0IG1hcmdpbiB0b3AgZm9yIHRvcCBzZWN0aW9uXG4gICAgZnVuY3Rpb24gc2V0TWFyZ2luKCkge1xuICAgICAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLFxuICAgICAgICAgICAgdG9wU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3Atc2VjdGlvbicpO1xuXG4gICAgICAgIHRvcFNlY3Rpb24uc3R5bGUubWFyZ2luVG9wID0gaGVhZGVyLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgfTtcbiAgICBzZXRNYXJnaW4oKTtcblxuICAgIHZhciBhZGRQcm9kdWN0SXRlbXMgPSBuZXcgX2FkZFByb2R1Y3RJdGVtczIuZGVmYXVsdCgpO1xuICAgIHZhciBidXJnZXJNZW51ID0gbmV3IF9idXJnZXJNZW51Mi5kZWZhdWx0KCk7XG4gICAgdmFyIGZpeGVkSGVhZGVyID0gbmV3IF9maXhlZEhlYWRlcjIuZGVmYXVsdCgpO1xuICAgIHZhciBzZWFyY2ggPSBuZXcgX3NlYXJjaDIuZGVmYXVsdCgpO1xuICAgIHZhciBwcm9kdWN0SXRlbXNFdmVudHMgPSBuZXcgX3Byb2R1Y3RJdGVtc0V2ZW50czIuZGVmYXVsdCgpO1xuICAgIHZhciBzdWJzY3JpYmUgPSBuZXcgX3N1YnNjcmliZTIuZGVmYXVsdCgpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltWmhhMlZmWXpGaU9USXpPV0V1YW5NaVhTd2libUZ0WlhNaU9sc2lkMmx1Wkc5M0lpd2lZV1JrUlhabGJuUk1hWE4wWlc1bGNpSXNJbWx1YVhRaUxDSmpiRzl1WlU1aGRpSXNJbTVoZGlJc0ltUnZZM1Z0Wlc1MElpd2ljWFZsY25sVFpXeGxZM1J2Y2lJc0ltTnNiMjVsVG05a1pTSXNJbU5zYjI1bFRtRjJVR0Z5Y21WdWRDSXNJbWx1YzJWeWRFSmxabTl5WlNJc0luTmxkRTFoY21kcGJpSXNJbWhsWVdSbGNpSXNJblJ2Y0ZObFkzUnBiMjRpTENKemRIbHNaU0lzSW0xaGNtZHBibFJ2Y0NJc0ltOW1abk5sZEVobGFXZG9kQ0lzSW1Ga1pGQnliMlIxWTNSSmRHVnRjeUlzSW1KMWNtZGxjazFsYm5VaUxDSm1hWGhsWkVobFlXUmxjaUlzSW5ObFlYSmphQ0lzSW5CeWIyUjFZM1JKZEdWdGMwVjJaVzUwY3lJc0luTjFZbk5qY21saVpTSmRMQ0p0WVhCd2FXNW5jeUk2SWpzN1FVRkZRVHM3T3p0QlFVTkJPenM3TzBGQlEwRTdPenM3UVVGRFFUczdPenRCUVVOQk96czdPMEZCUTBFN096czdPenRCUVZCQlFTeFBRVUZQUXl4blFrRkJVQ3hEUVVGM1FpeHJRa0ZCZUVJc1JVRkJORU5ETEVsQlFUVkRPenRCUVZOQkxGTkJRVk5CTEVsQlFWUXNSMEZCWjBJN08wRkJSVm83UVVGRFFTeGhRVUZUUXl4UlFVRlVMRWRCUVc5Q08wRkJRMmhDTEZsQlFVbERMRTFCUVUxRExGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc2JVSkJRWFpDTEVWQlFUUkRReXhUUVVFMVF5eERRVUZ6UkN4SlFVRjBSQ3hEUVVGV08wRkJRMEVzV1VGQlNVTXNhMEpCUVd0Q1NDeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xGbEJRWFpDTEVOQlFYUkNPenRCUVVWQlJTeDNRa0ZCWjBKRExGbEJRV2hDTEVOQlFUWkNUQ3hIUVVFM1FpeEZRVUZyUTBrc1owSkJRV2RDTEVOQlFXaENMRU5CUVd4RE8wRkJRMGc3UVVGRFJFdzdPMEZCUlVFN1FVRkRRU3hoUVVGVFR5eFRRVUZVTEVkQlFYRkNPMEZCUTJwQ0xGbEJRVWxETEZOQlFWTk9MRk5CUVZORExHRkJRVlFzUTBGQmRVSXNVMEZCZGtJc1EwRkJZanRCUVVGQkxGbEJRMGxOTEdGQlFXRlFMRk5CUVZORExHRkJRVlFzUTBGQmRVSXNZMEZCZGtJc1EwRkVha0k3TzBGQlIwRk5MRzFDUVVGWFF5eExRVUZZTEVOQlFXbENReXhUUVVGcVFpeEhRVUUyUWtnc1QwRkJUMGtzV1VGQlVDeEhRVUZ6UWl4SlFVRnVSRHRCUVVOSU8wRkJRMFJNT3p0QlFVVkJMRkZCUVUxTkxHdENRVUZyUWl3clFrRkJlRUk3UVVGRFFTeFJRVUZOUXl4aFFVRmhMREJDUVVGdVFqdEJRVU5CTEZGQlFVMURMR05CUVdNc01rSkJRWEJDTzBGQlEwRXNVVUZCVFVNc1UwRkJVeXh6UWtGQlpqdEJRVU5CTEZGQlFVMURMSEZDUVVGeFFpeHJRMEZCTTBJN1FVRkRRU3hSUVVGTlF5eFpRVUZaTEhsQ1FVRnNRanRCUVVOSUlpd2labWxzWlNJNkltWmhhMlZmWXpGaU9USXpPV0V1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SjNhVzVrYjNjdVlXUmtSWFpsYm5STWFYTjBaVzVsY2lnblJFOU5RMjl1ZEdWdWRFeHZZV1JsWkNjc0lHbHVhWFFwTzF4eVhHNWNjbHh1YVcxd2IzSjBJRUZrWkZCeWIyUjFZM1JKZEdWdGN5Qm1jbTl0SUNjdUwxOWhaR1F0Y0hKdlpIVmpkQzFwZEdWdGN5YzdYSEpjYm1sdGNHOXlkQ0JDZFhKblpYSk5aVzUxSUdaeWIyMGdKeTR2WDJKMWNtZGxjaTF0Wlc1MUp6dGNjbHh1YVcxd2IzSjBJRVpwZUdWa1NHVmhaR1Z5SUdaeWIyMGdKeTR2WDJacGVHVmtMV2hsWVdSbGNpYzdYSEpjYm1sdGNHOXlkQ0JUWldGeVkyZ2dabkp2YlNBbkxpOWZjMlZoY21Ob0p6dGNjbHh1YVcxd2IzSjBJRkJ5YjJSMVkzUkpkR1Z0YzBWMlpXNTBjeUJtY205dElDY3VMMTl3Y205a2RXTjBMV2wwWlcxekxXVjJaVzUwY3ljN1hISmNibWx0Y0c5eWRDQlRkV0p6WTNKcFltVWdabkp2YlNBbkxpOWZjM1ZpYzJOeWFXSmxKenRjY2x4dVhISmNibVoxYm1OMGFXOXVJR2x1YVhRb0tTQjdYSEpjYmlBZ0lGeHlYRzRnSUNBZ0x5OGdRMnh2Ym1VZ2JtRjJhV2RoZEdsdmJseHlYRzRnSUNBZ1puVnVZM1JwYjI0Z1kyeHZibVZPWVhZb0tTQjdYSEpjYmlBZ0lDQWdJQ0FnYkdWMElHNWhkaUE5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTVvWldGa1pYSXRibUYyWDE5c2FYTjBKeWt1WTJ4dmJtVk9iMlJsS0hSeWRXVXBPMXh5WEc0Z0lDQWdJQ0FnSUd4bGRDQmpiRzl1WlU1aGRsQmhjbkpsYm5RZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVptbDRaV1F0Ym1GMkp5azdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lHTnNiMjVsVG1GMlVHRnljbVZ1ZEM1cGJuTmxjblJDWldadmNtVW9ibUYyTENCamJHOXVaVTVoZGxCaGNuSmxiblJiTUYwcE8xeHlYRzRnSUNBZ2ZUdGNjbHh1SUNBZ0lHTnNiMjVsVG1GMktDazdYSEpjYmx4eVhHNGdJQ0FnTHk4Z1UyVjBJRzFoY21kcGJpQjBiM0FnWm05eUlIUnZjQ0J6WldOMGFXOXVYSEpjYmlBZ0lDQm1kVzVqZEdsdmJpQnpaWFJOWVhKbmFXNG9LU0I3WEhKY2JpQWdJQ0FnSUNBZ2JHVjBJR2hsWVdSbGNpQTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNJb0p5NW9aV0ZrWlhJbktTeGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHOXdVMlZqZEdsdmJpQTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNJb0p5NTBiM0F0YzJWamRHbHZiaWNwTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQ0IwYjNCVFpXTjBhVzl1TG5OMGVXeGxMbTFoY21kcGJsUnZjQ0E5SUdobFlXUmxjaTV2Wm1aelpYUklaV2xuYUhRZ0t5QW5jSGduTzF4eVhHNGdJQ0FnZlR0Y2NseHVJQ0FnSUhObGRFMWhjbWRwYmlncFhISmNibHh5WEc0Z0lDQWdZMjl1YzNRZ1lXUmtVSEp2WkhWamRFbDBaVzF6SUQwZ2JtVjNJRUZrWkZCeWIyUjFZM1JKZEdWdGN6dGNjbHh1SUNBZ0lHTnZibk4wSUdKMWNtZGxjazFsYm5VZ1BTQnVaWGNnUW5WeVoyVnlUV1Z1ZFR0Y2NseHVJQ0FnSUdOdmJuTjBJR1pwZUdWa1NHVmhaR1Z5SUQwZ2JtVjNJRVpwZUdWa1NHVmhaR1Z5TzF4eVhHNGdJQ0FnWTI5dWMzUWdjMlZoY21Ob0lEMGdibVYzSUZObFlYSmphRHRjY2x4dUlDQWdJR052Ym5OMElIQnliMlIxWTNSSmRHVnRjMFYyWlc1MGN5QTlJRzVsZHlCUWNtOWtkV04wU1hSbGJYTkZkbVZ1ZEhNN1hISmNiaUFnSUNCamIyNXpkQ0J6ZFdKelkzSnBZbVVnUFNCdVpYY2dVM1ZpYzJOeWFXSmxPMXh5WEc1OU95SmRmUT09Il19
