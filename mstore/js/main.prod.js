(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var AddProductItems = function () {
    function AddProductItems() {
        _classCallCheck(this, AddProductItems);

        // DOM
        this.mainItem = document.querySelector('.product__item-clone').children[0];
        this.parrent = document.querySelector('.feauture-product');
        this.btn = document.querySelector('.load-more-btn');

        // vars 
        this.firstLoadedItemsQty = 8;
        this.pressBtnLoadedItemsQty = 4;

        //  events
        this._firstLoadAddItems();
        this._pressBtnAddItems();
    }

    _createClass(AddProductItems, [{
        key: 'hello',
        value: function hello() {
            return 'hello';
        }
    }, {
        key: '_firstLoadAddItems',
        value: function _firstLoadAddItems() {
            var _this = this;

            this.xhr = new XMLHttpRequest();

            this.xhr.open('GET', '../db.json');

            this.xhr.responseType = "json";

            this.xhr.addEventListener('load', function () {
                _this.data = _this.xhr.response;
                _this.totalQtyItems = _this.data.length - 1;
                _this.qtyItems = _this.firstLoadedItemsQty;

                _this._addItems(_this.totalQtyItems, _this.qtyItems);
            });
            this.xhr.send();
        }
    }, {
        key: '_pressBtnAddItems',
        value: function _pressBtnAddItems() {
            var _this2 = this;

            this.nowAdded = this.firstLoadedItemsQty;

            this.btn.addEventListener('click', function () {
                _this2.xhr = new XMLHttpRequest();

                _this2.xhr.open('GET', '../db.json');

                _this2.xhr.responseType = "json";

                _this2.xhr.addEventListener('load', function () {
                    _this2.data = _this2.xhr.response;
                    _this2.totalQtyItems = _this2.data.length - 1 - _this2.nowAdded;
                    _this2.qtyItems = _this2.pressBtnLoadedItemsQty;
                    _this2._addItems(_this2.totalQtyItems, _this2.qtyItems);

                    _this2.nowAdded += _this2.pressBtnLoadedItemsQty;
                });
                _this2.xhr.send();
            });
        }
    }, {
        key: '_addItems',
        value: function _addItems(totalQty, addQty) {

            for (var i = totalQty; i > totalQty - addQty; i--) {
                if (i === 0) {
                    this.btn.style.display = 'none';
                }
                var currentItem = this.mainItem.cloneNode(true);

                var img = currentItem.querySelector('.product__img'),
                    title = currentItem.querySelector('.product__title-link'),
                    price = currentItem.querySelector('.product__price'),
                    basketBtn = currentItem.querySelector('.product__details-button--basket'),
                    zoomBtn = currentItem.querySelector('.product__details-button--zoom');

                var dataItem = this.data[i];
                for (var key in dataItem) {
                    if (key === 'src') {
                        img.setAttribute('src', 'img/' + dataItem[key]);
                        zoomBtn.dataset.src = 'img/' + 'big-' + dataItem[key];
                    } else if (key === 'title') {
                        title.textContent = dataItem[key];
                    } else if (key === 'price') {
                        price.textContent = '$' + dataItem[key];
                        basketBtn.dataset.price = dataItem[key];
                    } else if (key === 'id') {
                        currentItem.dataset.id = dataItem[key];
                    } else if (key === 'oldPrice') {
                        var oldPriceSpan = document.createElement('span');
                        oldPriceSpan.textContent = '$' + dataItem[key];
                        oldPriceSpan.classList.add('product__old-price');
                        var descrWrap = currentItem.querySelector('.product-descr');
                        descrWrap.insertBefore(oldPriceSpan, descrWrap.children[2]);
                    } else if (key === 'label') {
                        currentItem.classList.add('product__item--label-' + dataItem[key]);
                    }
                }
                this.parrent.appendChild(currentItem);
            }
        }
    }]);

    return AddProductItems;
}();

exports.default = AddProductItems;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9hZGQtcHJvZHVjdC1pdGVtcy5qcyJdLCJuYW1lcyI6WyJBZGRQcm9kdWN0SXRlbXMiLCJtYWluSXRlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNoaWxkcmVuIiwicGFycmVudCIsImJ0biIsImZpcnN0TG9hZGVkSXRlbXNRdHkiLCJwcmVzc0J0bkxvYWRlZEl0ZW1zUXR5IiwiX2ZpcnN0TG9hZEFkZEl0ZW1zIiwiX3ByZXNzQnRuQWRkSXRlbXMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YSIsInJlc3BvbnNlIiwidG90YWxRdHlJdGVtcyIsImxlbmd0aCIsInF0eUl0ZW1zIiwiX2FkZEl0ZW1zIiwic2VuZCIsIm5vd0FkZGVkIiwidG90YWxRdHkiLCJhZGRRdHkiLCJpIiwic3R5bGUiLCJkaXNwbGF5IiwiY3VycmVudEl0ZW0iLCJjbG9uZU5vZGUiLCJpbWciLCJ0aXRsZSIsInByaWNlIiwiYmFza2V0QnRuIiwiem9vbUJ0biIsImRhdGFJdGVtIiwia2V5Iiwic2V0QXR0cmlidXRlIiwiZGF0YXNldCIsInNyYyIsInRleHRDb250ZW50IiwiaWQiLCJvbGRQcmljZVNwYW4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGVzY3JXcmFwIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLGU7QUFDbEIsK0JBQWM7QUFBQTs7QUFDVjtBQUNBLGFBQUtDLFFBQUwsR0FBZ0JDLFNBQVNDLGFBQVQsQ0FBdUIsc0JBQXZCLEVBQStDQyxRQUEvQyxDQUF3RCxDQUF4RCxDQUFoQjtBQUNBLGFBQUtDLE9BQUwsR0FBZUgsU0FBU0MsYUFBVCxDQUF1QixtQkFBdkIsQ0FBZjtBQUNBLGFBQUtHLEdBQUwsR0FBV0osU0FBU0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FBWDs7QUFFQTtBQUNBLGFBQUtJLG1C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cHJvZHVjdC1pdGVtcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkZFByb2R1Y3RJdGVtcyB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgLy8gRE9NXHJcbiAgICAgICB0aGlzLm1haW5JdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2l0ZW0tY2xvbmUnKS5jaGlsZHJlblswXTtcclxuICAgICAgIHRoaXMucGFycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mZWF1dHVyZS1wcm9kdWN0Jyk7XHJcbiAgICAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkLW1vcmUtYnRuJyk7XHJcblxyXG4gICAgICAgLy8gdmFycyBcclxuICAgICAgIHRoaXMuZmlyc3RMb2FkZWRJdGVtc1F0eSA9IDg7XHJcbiAgICAgICB0aGlzLnByZXNzQnRuTG9hZGVkSXRlbXNRdHkgPSA0O1xyXG5cclxuXHJcbiAgICAgICAvLyAgZXZlbnRzXHJcbiAgICAgICB0aGlzLl9maXJzdExvYWRBZGRJdGVtcygpO1xyXG4gICAgICAgdGhpcy5fcHJlc3NCdG5BZGRJdGVtcygpO1xyXG4gICB9XHJcbiAgIGhlbGxvKCkge1xyXG4gICAgICAgcmV0dXJuICdoZWxsbyc7XHJcbiAgIH07XHJcbiAgIF9maXJzdExvYWRBZGRJdGVtcygpIHtcclxuICAgICAgIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgdGhpcy54aHIub3BlbignR0VUJywgJy4uL2RiLmpzb24nKTtcclxuXHJcbiAgICAgICB0aGlzLnhoci5yZXNwb25zZVR5cGUgPSBcImpzb25cIjtcclxuXHJcbiAgICAgICB0aGlzLnhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlO1xyXG4gICAgICAgICAgIHRoaXMudG90YWxRdHlJdGVtcyA9ICh0aGlzLmRhdGEubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgdGhpcy5xdHlJdGVtcyA9IHRoaXMuZmlyc3RMb2FkZWRJdGVtc1F0eTtcclxuXHJcbiAgICAgICB0aGlzLl9hZGRJdGVtcyh0aGlzLnRvdGFsUXR5SXRlbXMsIHRoaXMucXR5SXRlbXMpO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgfSk7XHJcbiAgICAgICB0aGlzLnhoci5zZW5kKCk7XHJcbiAgIH07XHJcblxyXG4gICBfcHJlc3NCdG5BZGRJdGVtcygpIHtcclxuICAgICAgIHRoaXMubm93QWRkZWQgPSB0aGlzLmZpcnN0TG9hZGVkSXRlbXNRdHk7XHJcblxyXG4gICAgICAgdGhpcy5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgICAgdGhpcy54aHIub3BlbignR0VUJywgJy4uL2RiLmpzb24nKTtcclxuXHJcbiAgICAgICAgICAgdGhpcy54aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XHJcblxyXG4gICAgICAgICAgIHRoaXMueGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICB0aGlzLnRvdGFsUXR5SXRlbXMgPSAodGhpcy5kYXRhLmxlbmd0aCAtIDEgLSB0aGlzLm5vd0FkZGVkKTtcclxuICAgICAgICAgICAgICAgdGhpcy5xdHlJdGVtcyA9IHRoaXMucHJlc3NCdG5Mb2FkZWRJdGVtc1F0eTtcclxuICAgICAgICAgICB0aGlzLl9hZGRJdGVtcyh0aGlzLnRvdGFsUXR5SXRlbXMsIHRoaXMucXR5SXRlbXMpO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgIHRoaXMubm93QWRkZWQgKz0gdGhpcy5wcmVzc0J0bkxvYWRlZEl0ZW1zUXR5O1xyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIHRoaXMueGhyLnNlbmQoKTtcclxuICAgICAgIFxyXG4gICAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4gICBfYWRkSXRlbXModG90YWxRdHksIGFkZFF0eSkge1xyXG5cclxuICAgICAgIGZvciAobGV0IGkgPSB0b3RhbFF0eTsgaSA+ICh0b3RhbFF0eSAtIGFkZFF0eSk7IGktLSkge1xyXG4gICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuYnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGxldCBjdXJyZW50SXRlbSA9IHRoaXMubWFpbkl0ZW0uY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgICAgICBsZXQgaW1nID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2ltZycpLFxyXG4gICAgICAgICAgICAgICB0aXRsZSA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X190aXRsZS1saW5rJyksXHJcbiAgICAgICAgICAgICAgIHByaWNlID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX3ByaWNlJyksXHJcbiAgICAgICAgICAgICAgIGJhc2tldEJ0biA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tYmFza2V0JyksXHJcbiAgICAgICAgICAgICAgIHpvb21CdG4gPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGV0YWlscy1idXR0b24tLXpvb20nKTtcclxuXHJcbiAgICAgICAgICAgbGV0IGRhdGFJdGVtID0gdGhpcy5kYXRhW2ldO1xyXG4gICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkYXRhSXRlbSkge1xyXG4gICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnc3JjJykge1xyXG4gICAgICAgICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgKCdpbWcvJyArIGRhdGFJdGVtW2tleV0pKTtcclxuICAgICAgICAgICAgICAgICAgIHpvb21CdG4uZGF0YXNldC5zcmMgPSAoJ2ltZy8nICsgJ2JpZy0nICsgZGF0YUl0ZW1ba2V5XSk7XHJcbiAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndGl0bGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGRhdGFJdGVtW2tleV07XHJcbiAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncHJpY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICBwcmljZS50ZXh0Q29udGVudCA9ICckJyArIGRhdGFJdGVtW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICBiYXNrZXRCdG4uZGF0YXNldC5wcmljZSA9IGRhdGFJdGVtW2tleV07XHJcbiAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5kYXRhc2V0LmlkID0gZGF0YUl0ZW1ba2V5XTtcclxuICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdvbGRQcmljZScpIHtcclxuICAgICAgICAgICAgICAgICAgIGxldCBvbGRQcmljZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAgICBvbGRQcmljZVNwYW4udGV4dENvbnRlbnQgPSAnJCcgKyBkYXRhSXRlbVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgb2xkUHJpY2VTcGFuLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RfX29sZC1wcmljZScpO1xyXG4gICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyV3JhcCA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWRlc2NyJyk7XHJcbiAgICAgICAgICAgICAgICAgICBkZXNjcldyYXAuaW5zZXJ0QmVmb3JlKG9sZFByaWNlU3BhbiwgZGVzY3JXcmFwLmNoaWxkcmVuWzJdKTtcclxuICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RfX2l0ZW0tLWxhYmVsLScgKyBkYXRhSXRlbVtrZXldKTtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgdGhpcy5wYXJyZW50LmFwcGVuZENoaWxkKGN1cnJlbnRJdGVtKTtcclxuICAgICAgIH1cclxuICAgfTtcclxufTsiXX0=
},{}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BurgerMenu = function () {
   function BurgerMenu() {
      _classCallCheck(this, BurgerMenu);

      // DOM
      this.btn = document.querySelector('.burger-btn');
      this.navList = document.querySelector('.fixed-nav .header-nav__list');
      this.navItem = document.querySelectorAll('.fixed-nav .header-nav__item');
      this.body = document.querySelector('body');
      this.header = document.querySelector('.header');
      this.maincontent = document.querySelector('.maincontent');
      this.footer = document.querySelector('.footer');

      //  events
      this._events();
   }

   _createClass(BurgerMenu, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         this.btn.addEventListener('click', function () {
            _this.navList.classList.add('header-nav__list--burger-active');

            var timeout = 50;

            var _loop = function _loop(i) {

               setTimeout(function () {
                  _this.navItem[i].classList.add('header-nav__item--burger-active');
               }, timeout);

               timeout += 50;
            };

            for (var i = 0; i < _this.navItem.length; i++) {
               _loop(i);
            };

            _this.body.classList.add('overflow-hidden');
            _this.header.classList.add('blur');
            _this.maincontent.classList.add('blur');
            _this.footer.classList.add('blur');
         });

         this.navList.addEventListener('click', function (e) {
            if (e.target === e.currentTarget) {
               _this.navList.classList.remove('header-nav__list--burger-active');

               for (var i = 0; i < _this.navItem.length; i++) {
                  _this.navItem[i].classList.remove('header-nav__item--burger-active');
               };

               _this.body.classList.remove('overflow-hidden');
               _this.header.classList.remove('blur');
               _this.maincontent.classList.remove('blur');
               _this.footer.classList.remove('blur');
            }
         });
      }
   }]);

   return BurgerMenu;
}();

exports.default = BurgerMenu;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9idXJnZXItbWVudS5qcyJdLCJuYW1lcyI6WyJCdXJnZXJNZW51IiwiYnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TGlzdCIsIm5hdkl0ZW0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm9keSIsImhlYWRlciIsIm1haW5jb250ZW50IiwiZm9vdGVyIiwiX2V2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0aW1lb3V0IiwiaSIsInNldFRpbWVvdXQiLCJsZW5ndGgiLCJlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsVTtBQUNsQix5QkFBYztBQUFBOztBQUNYO0FBQ0EsV0FBS0MsR0FBTCxHQUFXQyxTQUFTQyxhQUFULENBQXVCLGFBQXZCLENBQVg7QUFDQSxXQUFLQyxPQUFMLEdBQWVGLFNBQVNDLGFBQVQsQ0FBdUIsOEJBQXZCLENBQWY7QUFDQSxXQUFLRSxPQUFMLEdBQWVILFNBQVNJLGdCQUFULENBQTBCLDhCQUExQixDQUFmO0FBQ0EsV0FBS0MsSUFBTCxHQUFZTCxTQUFTQyxhQUFULENBQXVCLE1BQXZCLENBQVo7QUFDQSxXQUFLSyxNQUFMLEdBQWNOLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZDtBQUNBLFdBQUtNLFdBQUwsR0FBbUJQLFNBQVNDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FBbkI7QUFDQSxXQUFLTyxNQUFMLEdBQWNSLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZDs7QUFFQTtBQUNBLFdBQUtRLE9BQUw7QUFDRjs7OztnQ0FFUztBQUFBOztBQUNQLGNBQUtWLEdBQUwsQ0FBU1csZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtBQUN0QyxrQkFBS1IsT0FBTCxDQUFhUyxTQUFiLENBQXVCQyxHQUF2QixDQUEyQixpQ0FBM0I7O0FBRUEsZ0JBQUlDLFVBQVUsRUFBZDs7QUFIc0MsdUNBSTdCQyxDQUo2Qjs7QUFNbkNDLDBCQUFXLFlBQU07QUFDZCx3QkFBS1osT0FBTCxDQUFhVyxDQUFiLEVBQWdCSCxTQUFoQixDQUEwQkMsR0FBMUIsQ0FBOEIsaUNBQTlCO0FBQ0YsZ0JBRkQsRUFFR0MsT0FGSDs7QUFJQUEsMEJBQVcsRUFBWDtBQVZtQzs7QUFJdEMsaUJBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLE1BQUtYLE9BQUwsQ0FBYWEsTUFBakMsRUFBeUNGLEdBQXpDLEVBQThDO0FBQUEscUJBQXJDQSxDQUFxQztBQU83Qzs7QUFFRCxrQkFBS1QsSUFBTCxDQUFVTSxTQUFWLENBQW9CQyxHQUFwQixDQUF3QixpQkFBeEI7QUFDQSxrQkFBS04sTUFBTCxDQUFZSyxTQUFaLENBQXNCQyxHQUF0QixDQUEwQixNQUExQjtBQUNBLGtCQUFLTCxXQUFMLENBQWlCSSxTQUFqQixDQUEyQkMsR0FBM0IsQ0FBK0IsTUFBL0I7QUFDQSxrQkFBS0osTUFBTCxDQUFZRyxTQUFaLENBQXNCQyxHQUF0QixDQUEwQixNQUExQjtBQUNGLFVBakJEOztBQW1CQSxjQUFLVixPQUFMLENBQWFRLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLGFBQUs7QUFDekMsZ0JBQUlPLEVBQUVDLE1BQUYsS0FBYUQsRUFBRUUsYUFBbkIsRUFBa0M7QUFDL0IscUJBQUtqQixPQUFMLENBQWFTLFNBQWIsQ0FBdUJTLE1BQXZCLENBQThCLGlDQUE5Qjs7QUFFQSxvQkFBSyxJQUFJTixJQUFJLENBQWIsRUFBZ0JBLElBQUksTUFBS1gsT0FBTCxDQUFhYSxNQUFqQyxFQUF5Q0YsR0FBekMsRUFBOEM7QUFDM0Msd0JBQUtYLE9BQUwsQ0FBYVcsQ0FBYixFQUFnQkgsU0FBaEIsQ0FBMEJTLE1BQTFCLENBQWlDLGlDQUFqQztBQUNGOztBQUVELHFCQUFLZixJQUFMLENBQVVNLFNBQVYsQ0FBb0JTLE1BQXBCLENBQTJCLGlCQUEzQjtBQUNBLHFCQUFLZCxNQUFMLENBQVlLLFNBQVosQ0FBc0JTLE1BQXRCLENBQTZCLE1BQTdCO0FBQ0EscUJBQUtiLFdBQUwsQ0FBaUJJLFNBQWpCLENBQTJCUyxNQUEzQixDQUFrQyxNQUFsQztBQUNBLHFCQUFLWixNQUFMLENBQVlHLFNBQVosQ0FBc0JTLE1BQXRCLENBQTZCLE1BQTdCO0FBQ0Y7QUFDSCxVQWJEO0FBY0Y7Ozs7OztrQkFqRGlCdEIsVTtBQWtEcEIiLCJmaWxlIjoiX2J1cmdlci1tZW51LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVyZ2VyTWVudSB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAvLyBET01cclxuICAgICAgdGhpcy5idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpO1xyXG4gICAgICB0aGlzLm5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19saXN0Jyk7XHJcbiAgICAgIHRoaXMubmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maXhlZC1uYXYgLmhlYWRlci1uYXZfX2l0ZW0nKTtcclxuICAgICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcclxuICAgICAgdGhpcy5tYWluY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpO1xyXG4gICAgICB0aGlzLmZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXInKTtcclxuXHJcbiAgICAgIC8vICBldmVudHNcclxuICAgICAgdGhpcy5fZXZlbnRzKCk7XHJcbiAgIH1cclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHRoaXMuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLm5hdkxpc3QuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9fbGlzdC0tYnVyZ2VyLWFjdGl2ZScpO1xyXG5cclxuICAgICAgICAgbGV0IHRpbWVvdXQgPSA1MDtcclxuICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5hdkl0ZW0ubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICB0aGlzLm5hdkl0ZW1baV0uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9faXRlbS0tYnVyZ2VyLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuXHJcbiAgICAgICAgICAgIHRpbWVvdXQgKz0gNTA7XHJcbiAgICAgICAgIH07XHJcblxyXG4gICAgICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2JsdXInKTtcclxuICAgICAgICAgdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XHJcbiAgICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2JsdXInKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLm5hdkxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5uYXZMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlci1uYXZfX2xpc3QtLWJ1cmdlci1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYXZJdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMubmF2SXRlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19pdGVtLS1idXJnZXItYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgfVxyXG59OyJdfQ==
},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FixedHeader = function () {
   function FixedHeader() {
      _classCallCheck(this, FixedHeader);

      // DOM
      this.header = document.querySelector('.bottom-header');

      // Additional Vars
      this.offset = 1000;

      //  events
      this._events();
   }

   _createClass(FixedHeader, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         window.addEventListener('scroll', function (e) {
            if (window.pageYOffset > _this.offset) {
               _this.header.style.transform = 'translateY(0)';
               _this.header.classList.add('bottom-header--fixed');
            } else if (window.pageYOffset > _this.offset / 3 * 2) {
               _this.header.style.transform = 'translateY(-100%)';
            } else {
               _this.header.classList.remove('bottom-header--fixed');
               _this.header.style.transform = 'translateY(0)';
            }
         });
      }
   }]);

   return FixedHeader;
}();

exports.default = FixedHeader;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9maXhlZC1oZWFkZXIuanMiXSwibmFtZXMiOlsiRml4ZWRIZWFkZXIiLCJoZWFkZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvZmZzZXQiLCJfZXZlbnRzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhZ2VZT2Zmc2V0Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLFc7QUFDbEIsMEJBQWM7QUFBQTs7QUFDWDtBQUNBLFdBQUtDLE1BQUwsR0FBY0MsU0FBU0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FBZDs7QUFFQTtBQUNBLFdBQUtDLE1BQUwsR0FBYyxJQUFkOztBQUVBO0FBQ0EsV0FBS0MsT0FBTDtBQUNGOzs7O2dDQUVTO0FBQUE7O0FBQ1BDLGdCQUFPQyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQyxhQUFLO0FBQ3BDLGdCQUFJRCxPQUFPRSxXQUFQLEdBQXFCLE1BQUtKLE1BQTlCLEVBQXNDO0FBQ25DLHFCQUFLSCxNQUFMLENBQVlRLEtBQVosQ0FBa0JDLFNBQWxCLEdBQThCLGVBQTlCO0FBQ0EscUJBQUtULE1BQUwsQ0FBWVUsU0FBWixDQUFzQkMsR0FBdEIsQ0FBMEIsc0JBQTFCO0FBQ0YsYUFIRCxNQUdPLElBQUlOLE9BQU9FLFdBQVAsR0FBc0IsTUFBS0osTUFBTCxHQUFjLENBQWYsR0FBb0IsQ0FBN0MsRUFBZ0Q7QUFDcEQscUJBQUtILE1BQUwsQ0FBWVEsS0FBWixDQUFrQkMsU0FBbEIsR0FBOEIsbUJBQTlCO0FBQ0YsYUFGTSxNQUVBO0FBQ0oscUJBQUtULE1BQUwsQ0FBWVUsU0FBWixDQUFzQkUsTUFBdEIsQ0FBNkIsc0JBQTdCO0FBQ0EscUJBQUtaLE1BQUwsQ0FBWVEsS0FBWixDQUFrQkMsU0FBbEIsR0FBOEIsZUFBOUI7QUFDRjtBQUNILFVBVkQ7QUFXRjs7Ozs7O2tCQXhCaUJWLFc7QUF5QnBCIiwiZmlsZSI6Il9maXhlZC1oZWFkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGaXhlZEhlYWRlciB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAvLyBET01cclxuICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tLWhlYWRlcicpO1xyXG5cclxuICAgICAgLy8gQWRkaXRpb25hbCBWYXJzXHJcbiAgICAgIHRoaXMub2Zmc2V0ID0gMTAwMDtcclxuXHJcbiAgICAgIC8vICBldmVudHNcclxuICAgICAgdGhpcy5fZXZlbnRzKCk7XHJcbiAgIH1cclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcclxuICAgICAgICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHRoaXMub2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcclxuICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiAodGhpcy5vZmZzZXQgLyAzKSAqIDIpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTEwMCUpJztcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMCknO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcbn07Il19
},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ProductItemsEvents = function () {
    function ProductItemsEvents() {
        _classCallCheck(this, ProductItemsEvents);

        // DOM
        this.itemsWrap = document.querySelector('.feauture-product');
        this.basketTotalPrice = document.querySelector('.user-panel__button-total-price');
        this.basketQty = document.querySelector('.user-panel__button-qty--basket');
        this.heartsQty = document.querySelector('.user-panel__button-qty--heart');
        this.imageZoomBtn = document.querySelector('.product__details-button--zoom');
        this.imgZoomWindow = document.querySelector('.img-zoom-window__img');

        // Additional Vars
        this.totalPrice = 0;
        this.totalQty = 0;
        this.totalLikes = 0;

        //  events
        this._events();
        this._loadBasketFromLocalStorege();
    }

    _createClass(ProductItemsEvents, [{
        key: '_events',
        value: function _events() {
            var _this = this;

            this.itemsWrap.addEventListener('click', function (e) {
                _this._addToBasket(e);
                _this._like(e);
                _this._zoomBtn(e);
                _this._stars(e);
            });
        }
    }, {
        key: '_addToBasket',
        value: function _addToBasket(e) {
            if (e.target.parentElement.dataset.price) {
                var itemPrice = e.target.parentElement.dataset.price;
                this.totalPrice += +itemPrice;
                this.totalQty++;

                this.basketTotalPrice.textContent = '$' + this.totalPrice;
                this.basketQty.textContent = this.totalQty;

                localStorage.setItem('basketTotalPrice', this.totalPrice);
                localStorage.setItem('basketQty', this.totalQty);
            };
        }
    }, {
        key: '_loadBasketFromLocalStorege',
        value: function _loadBasketFromLocalStorege() {
            if (localStorage.getItem('basketTotalPrice')) {
                this.totalPrice = +localStorage.getItem('basketTotalPrice');
                this.basketTotalPrice.textContent = this.totalPrice;
            }

            if (localStorage.getItem('basketQty')) {
                this.totalQty = +localStorage.getItem('basketQty');
                this.basketQty.textContent = this.totalQty;
            }
        }
    }, {
        key: '_like',
        value: function _like(e) {
            if (e.target.parentElement.classList.contains('product__details-button--heart')) {
                if (e.target.parentElement.classList.contains('product__details-button--heart-active')) {
                    e.target.parentElement.classList.remove('product__details-button--heart-active');
                    this.totalLikes--;
                    this.heartsQty.textContent = this.totalLikes;
                } else {
                    e.target.parentElement.classList.add('product__details-button--heart-active');
                    this.totalLikes++;
                    this.heartsQty.textContent = this.totalLikes;
                }
            };
        }
    }, {
        key: '_zoomBtn',
        value: function _zoomBtn(e) {
            if (e.target.parentElement.classList.contains('product__details-button--zoom')) {
                var imgSrc = e.target.parentElement.dataset.src;

                this.imgZoomWindow.setAttribute('src', imgSrc);
                this.imgZoomWindow.parentElement.classList.add('img-zoom-window--active');
            }

            this.imgZoomWindow.parentElement.addEventListener('click', function (e) {
                if (e.target) {
                    e.currentTarget.classList.remove('img-zoom-window--active');
                }
            });
        }
    }, {
        key: '_stars',
        value: function _stars(e) {
            if (e.target.parentElement.classList.contains('product__rating-button')) {
                var targetStar = e.target.parentElement;
                targetStar.classList.add('product__rating-button--active');

                if (targetStar.previousElementSibling && targetStar.previousElementSibling.classList.contains('product__rating-button--active')) {
                    this._removeClassForPreviousStars(targetStar, 'product__rating-button--active');
                };

                this._addClassForNextStars(targetStar, 'product__rating-button--active');
            }
        }
    }, {
        key: '_addClassForNextStars',
        value: function _addClassForNextStars(elem, activeClass) {
            while (elem = elem.nextElementSibling) {
                elem.classList.add(activeClass);
            };
        }
    }, {
        key: '_removeClassForPreviousStars',
        value: function _removeClassForPreviousStars(elem, activeClass) {
            do {
                elem = elem.previousElementSibling;
                elem.classList.remove(activeClass);
            } while (elem.previousElementSibling && elem.previousElementSibling.classList.contains(activeClass));
        }
    }]);

    return ProductItemsEvents;
}();

exports.default = ProductItemsEvents;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9wcm9kdWN0LWl0ZW1zLWV2ZW50cy5qcyJdLCJuYW1lcyI6WyJQcm9kdWN0SXRlbXNFdmVudHMiLCJpdGVtc1dyYXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJiYXNrZXRUb3RhbFByaWNlIiwiYmFza2V0UXR5IiwiaGVhcnRzUXR5IiwiaW1hZ2Vab29tQnRuIiwiaW1nWm9vbVdpbmRvdyIsInRvdGFsUHJpY2UiLCJ0b3RhbFF0eSIsInRvdGFsTGlrZXMiLCJfZXZlbnRzIiwiX2xvYWRCYXNrZXRGcm9tTG9jYWxTdG9yZWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJfYWRkVG9CYXNrZXQiLCJfbGlrZSIsIl96b29tQnRuIiwiX3N0YXJzIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImRhdGFzZXQiLCJwcmljZSIsIml0ZW1QcmljZSIsInRleHRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImltZ1NyYyIsInNyYyIsInNldEF0dHJpYnV0ZSIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXRTdGFyIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIl9yZW1vdmVDbGFzc0ZvclByZXZpb3VzU3RhcnMiLCJfYWRkQ2xhc3NGb3JOZXh0U3RhcnMiLCJlbGVtIiwiYWN0aXZlQ2xhc3MiLCJuZXh0RWxlbWVudFNpYmxpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLGtCO0FBQ2xCLGtDQUFjO0FBQUE7O0FBRVY7QUFDQSxhQUFLQyxTQUFMLEdBQWlCQyxTQUFTQyxhQUFULENBQXVCLG1CQUF2QixDQUFqQjtBQUNBLGFBQUtDLGdCQUFMLEdBQXdCRixTQUFTQyxhQUFULENBQXVCLGlDQUF2QixDQUF4QjtBQUNBLGFBQUtFLFNBQUwsR0FBaUJILFNBQVNDLGFBQVQsQ0FBdUIsaUNBQXZCLENBQWpCO0FBQ0EsYUFBS0csU0FBTCxHQUFpQkos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QUNKOzs7cURBRTRCRCxJLEVBQU1DLFcsRUFBYTtBQUM1QyxlQUFHO0FBQUVELHVCQUFPQSxLQUFLSCxzQkFBWjtBQUNERyxxQkFBS1osU0FBTCxDQUFlRSxNQUFmLENBQXNCVyxXQUF0QjtBQUNELGFBRkgsUUFFV0QsS0FBS0gsc0JBQUwsSUFBK0JHLEtBQUtILHNCQUFMLENBQTRCVCxTQUE1QixDQUFzQ0MsUUFBdEMsQ0FBK0NZLFdBQS9DLENBRjFDO0FBR0g7Ozs7OztrQkE1R2lCMUMsa0I7QUE2R3BCIiwiZmlsZSI6Il9wcm9kdWN0LWl0ZW1zLWV2ZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2R1Y3RJdGVtc0V2ZW50cyB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgIC8vIERPTVxyXG4gICAgICAgdGhpcy5pdGVtc1dyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdXR1cmUtcHJvZHVjdCcpO1xyXG4gICAgICAgdGhpcy5iYXNrZXRUb3RhbFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX2J1dHRvbi10b3RhbC1wcmljZScpO1xyXG4gICAgICAgdGhpcy5iYXNrZXRRdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXF0eS0tYmFza2V0Jyk7XHJcbiAgICAgICB0aGlzLmhlYXJ0c1F0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19idXR0b24tcXR5LS1oZWFydCcpO1xyXG4gICAgICAgdGhpcy5pbWFnZVpvb21CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGV0YWlscy1idXR0b24tLXpvb20nKTtcclxuICAgICAgIHRoaXMuaW1nWm9vbVdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWctem9vbS13aW5kb3dfX2ltZycpO1xyXG5cclxuICAgICAgIC8vIEFkZGl0aW9uYWwgVmFyc1xyXG4gICAgICAgdGhpcy50b3RhbFByaWNlID0gMDtcclxuICAgICAgIHRoaXMudG90YWxRdHkgPSAwO1xyXG4gICAgICAgdGhpcy50b3RhbExpa2VzID0gMDtcclxuXHJcbiAgICAgICAvLyAgZXZlbnRzXHJcbiAgICAgICB0aGlzLl9ldmVudHMoKTtcclxuICAgICAgIHRoaXMuX2xvYWRCYXNrZXRGcm9tTG9jYWxTdG9yZWdlKCk7XHJcbiAgIH1cclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgICB0aGlzLml0ZW1zV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgdGhpcy5fYWRkVG9CYXNrZXQoZSk7XHJcbiAgICAgICAgICAgdGhpcy4gX2xpa2UoZSk7XHJcbiAgICAgICAgICAgdGhpcy5fem9vbUJ0bihlKTtcclxuICAgICAgICAgICB0aGlzLl9zdGFycyhlKTtcclxuICAgICAgIH0pO1xyXG4gICB9O1xyXG5cclxuICAgX2FkZFRvQmFza2V0KGUpIHtcclxuICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJpY2UpIHtcclxuICAgICAgICAgICBsZXQgaXRlbVByaWNlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByaWNlO1xyXG4gICAgICAgICAgIHRoaXMudG90YWxQcmljZSArPSAraXRlbVByaWNlO1xyXG4gICAgICAgICAgIHRoaXMudG90YWxRdHkrKztcclxuXHJcbiAgICAgICAgICAgdGhpcy5iYXNrZXRUb3RhbFByaWNlLnRleHRDb250ZW50ID0gJyQnICsgdGhpcy50b3RhbFByaWNlO1xyXG4gICAgICAgICAgIHRoaXMuYmFza2V0UXR5LnRleHRDb250ZW50ID0gdGhpcy50b3RhbFF0eTtcclxuXHJcbiAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jhc2tldFRvdGFsUHJpY2UnLCB0aGlzLnRvdGFsUHJpY2UpO1xyXG4gICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYXNrZXRRdHknLCB0aGlzLnRvdGFsUXR5KVxyXG4gICAgICAgfTtcclxuICAgfTtcclxuXHJcbiAgICBfbG9hZEJhc2tldEZyb21Mb2NhbFN0b3JlZ2UoKSB7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRUb3RhbFByaWNlJykpIHtcclxuICAgICAgICAgICAgdGhpcy50b3RhbFByaWNlID0gK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRUb3RhbFByaWNlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFza2V0VG90YWxQcmljZS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxQcmljZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFza2V0UXR5JykpIHtcclxuICAgICAgICAgICAgdGhpcy50b3RhbFF0eSA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFza2V0UXR5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFza2V0UXR5LnRleHRDb250ZW50ID0gdGhpcy50b3RhbFF0eTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgX2xpa2UoZSkge1xyXG4gICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQnKSkge1xyXG4gICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWhlYXJ0LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICB0aGlzLnRvdGFsTGlrZXMtLTtcclxuICAgICAgICAgICAgICAgdGhpcy5oZWFydHNRdHkudGV4dENvbnRlbnQgPSB0aGlzLnRvdGFsTGlrZXM7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgIHRoaXMudG90YWxMaWtlcysrO1xyXG4gICAgICAgICAgICAgICB0aGlzLmhlYXJ0c1F0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxMaWtlcztcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9O1xyXG4gICB9O1xyXG5cclxuICAgX3pvb21CdG4oZSkge1xyXG4gICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tem9vbScpKSB7XHJcbiAgICAgICAgICAgbGV0IGltZ1NyYyA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC5zcmM7XHJcblxyXG4gICAgICAgICAgIHRoaXMuaW1nWm9vbVdpbmRvdy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZ1NyYyk7XHJcbiAgICAgICAgICAgdGhpcy5pbWdab29tV2luZG93LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW1nLXpvb20td2luZG93LS1hY3RpdmUnKTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cucGFyZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgIGlmIChlLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaW1nLXpvb20td2luZG93LS1hY3RpdmUnKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9KTtcclxuICAgfTtcclxuXHJcbiAgIF9zdGFycyhlKSB7XHJcbiAgICAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24nKSkge1xyXG4gICAgICAgICAgIGxldCB0YXJnZXRTdGFyID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICB0YXJnZXRTdGFyLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24tLWFjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICBpZiAodGFyZ2V0U3Rhci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIHRhcmdldFN0YXIucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24tLWFjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ2xhc3NGb3JQcmV2aW91c1N0YXJzKHRhcmdldFN0YXIsICdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKTtcclxuICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICB0aGlzLl9hZGRDbGFzc0Zvck5leHRTdGFycyh0YXJnZXRTdGFyLCAncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbi0tYWN0aXZlJyk7XHJcbiAgICAgICB9XHJcbiAgIH07XHJcblxyXG4gICBfYWRkQ2xhc3NGb3JOZXh0U3RhcnMoZWxlbSwgYWN0aXZlQ2xhc3MpIHtcclxuICAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcpIHtcclxuICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgfTsgICAgIFxyXG4gICB9O1xyXG5cclxuICAgX3JlbW92ZUNsYXNzRm9yUHJldmlvdXNTdGFycyhlbGVtLCBhY3RpdmVDbGFzcykge1xyXG4gICAgICAgZG8geyBlbGVtID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgIH0gd2hpbGUgKGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZyAmJiBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKGFjdGl2ZUNsYXNzKSk7ICAgXHJcbiAgIH07XHJcbn07Il19
},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Search = function () {
   function Search() {
      _classCallCheck(this, Search);

      // DOM
      this.serchWrap = document.querySelector('.user-panel__item--search');
      this.searchBtn = document.querySelector('.user-panel__button--search');
      this.searchForm = document.querySelector('.user-panel__search-form');

      this.formActiveClass = 'user-panel__search-form--active';
      //  events
      this._events();
   }

   _createClass(Search, [{
      key: '_events',
      value: function _events() {
         var _this = this;

         this.serchWrap.addEventListener('click', function (e) {

            if (e.target === _this.searchBtn || e.target.parentElement === _this.searchBtn) {
               _this.searchForm.classList.toggle(_this.formActiveClass);
            }
         });

         window.addEventListener('scroll', function (e) {
            if (_this.searchForm.classList.contains(_this.formActiveClass)) {
               if (e) {
                  _this.searchForm.classList.remove(_this.formActiveClass);
               }
            }
         });
      }
   }]);

   return Search;
}();

exports.default = Search;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9zZWFyY2guanMiXSwibmFtZXMiOlsiU2VhcmNoIiwic2VyY2hXcmFwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoQnRuIiwic2VhcmNoRm9ybSIsImZvcm1BY3RpdmVDbGFzcyIsIl9ldmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJjb250YWlucyIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsTTtBQUNsQixxQkFBYztBQUFBOztBQUNYO0FBQ0EsV0FBS0MsU0FBTCxHQUFpQkMsU0FBU0MsYUFBVCxDQUF1QiwyQkFBdkIsQ0FBakI7QUFDQSxXQUFLQyxTQUFMLEdBQWlCRixTQUFTQyxhQUFULENBQXVCLDZCQUF2QixDQUFqQjtBQUNBLFdBQUtFLFVBQUwsR0FBa0JILFNBQVNDLGFBQVQsQ0FBdUIsMEJBQXZCLENBQWxCOztBQUVBLFdBQUtHLGVBQUwsR0FBdUIsaUNBQXZCO0FBQ0E7QUFDQSxXQUFLQyxPQUFMO0FBQ0Y7Ozs7Z0NBRVM7QUFBQTs7QUFDUCxjQUFLTixTQUFMLENBQWVPLGdCQUFmLENBQWdDLE9BQWhDLEVBQXlDLGFBQUs7O0FBRTNDLGdCQUFJQyxFQUFFQyxNQUFGLEtBQWEsTUFBS04sU0FBbEIsSUFBK0JLLEVBQUVDLE1BQUYsQ0FBU0MsYUFBVCxLQUEyQixNQUFLUCxTQUFuRSxFQUE4RTtBQUMzRSxxQkFBS0MsVUFBTCxDQUFnQk8sU0FBaEIsQ0FBMEJDLE1BQTFCLENBQWlDLE1BQUtQLGVBQXRDO0FBQ0Y7QUFDSCxVQUxEOztBQU9BUSxnQkFBT04sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsYUFBSztBQUNwQyxnQkFBSSxNQUFLSCxVQUFMLENBQWdCTyxTQUFoQixDQUEwQkcsUUFBMUIsQ0FBbUMsTUFBS1QsZUFBeEMsQ0FBSixFQUE4RDtBQUMzRCxtQkFBSUcsQ0FBSixFQUFPO0FBQ0osd0JBQUtKLFVBQUwsQ0FBZ0JPLFNBQWhCLENBQTBCSSxNQUExQixDQUFpQyxNQUFLVixlQUF0QztBQUNGO0FBQ0g7QUFDSCxVQU5EO0FBT0Y7Ozs7OztrQkEzQmlCTixNO0FBNEJwQiIsImZpbGUiOiJfc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIHtcclxuICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIC8vIERPTVxyXG4gICAgICB0aGlzLnNlcmNoV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19pdGVtLS1zZWFyY2gnKTtcclxuICAgICAgdGhpcy5zZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLS1zZWFyY2gnKTtcclxuICAgICAgdGhpcy5zZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX3NlYXJjaC1mb3JtJyk7XHJcblxyXG4gICAgICB0aGlzLmZvcm1BY3RpdmVDbGFzcyA9ICd1c2VyLXBhbmVsX19zZWFyY2gtZm9ybS0tYWN0aXZlJztcclxuICAgICAgLy8gIGV2ZW50c1xyXG4gICAgICB0aGlzLl9ldmVudHMoKTtcclxuICAgfTtcclxuXHJcbiAgIF9ldmVudHMoKSB7XHJcbiAgICAgIHRoaXMuc2VyY2hXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuc2VhcmNoQnRuIHx8IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQgPT09IHRoaXMuc2VhcmNoQnRuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5mb3JtQWN0aXZlQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICB9O1xyXG59OyJdfQ==
},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
   value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Subscribe = function () {
   function Subscribe() {
      _classCallCheck(this, Subscribe);

      // DOM
      this.subscribeForm = document.querySelector('.subscribe__form');
      this.subscribeBtn = this.subscribeForm.querySelector('.subscribe__form-btn');

      //  Event
      this._event();
      this._btnTargetAnimation();
   }

   _createClass(Subscribe, [{
      key: '_event',
      value: function _event() {
         this.subscribeForm.addEventListener('submit', function (e) {
            event.preventDefault();

            var email = event.target.email.value;

            email = JSON.stringify(email);

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'https://maxs-4ebe4.firebaseio.com/clients.json');
            xhr.send(email);

            setTimeout(function () {
               if (xhr.readyState == 4) {
                  console.log('!');
               }
            }, 1000);

            event.target.email.value = '';
         });
      }
   }, {
      key: '_btnTargetAnimation',
      value: function _btnTargetAnimation() {
         var _this = this;

         this.subscribeBtn.addEventListener('click', function (e) {
            var posX = e.offsetX + 'px',
                posY = e.offsetY + 'px';

            var targetAnimation = document.createElement('div');
            targetAnimation.classList.add('button-bubble__form-btn-terget-animation');
            targetAnimation.style.left = posX;
            targetAnimation.style.top = posY;
            _this.subscribeBtn.appendChild(targetAnimation);

            setTimeout(function () {
               var delEl = _this.subscribeBtn.children[0];
               _this.subscribeBtn.removeChild(delEl);
            }, 400);
         });
      }
   }]);

   return Subscribe;
}();

exports.default = Subscribe;
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9zdWJzY3JpYmUuanMiXSwibmFtZXMiOlsiU3Vic2NyaWJlIiwic3Vic2NyaWJlRm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN1YnNjcmliZUJ0biIsIl9ldmVudCIsIl9idG5UYXJnZXRBbmltYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImVtYWlsIiwidGFyZ2V0IiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsInNldFRpbWVvdXQiLCJyZWFkeVN0YXRlIiwiY29uc29sZSIsImxvZyIsInBvc1giLCJlIiwib2Zmc2V0WCIsInBvc1kiLCJvZmZzZXRZIiwidGFyZ2V0QW5pbWF0aW9uIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwibGVmdCIsInRvcCIsImFwcGVuZENoaWxkIiwiZGVsRWwiLCJjaGlsZHJlbiIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxTO0FBQ2xCLHdCQUFjO0FBQUE7O0FBQ1g7QUFDQSxXQUFLQyxhQUFMLEdBQXFCQyxTQUFTQyxhQUFULENBQXVCLGtCQUF2QixDQUFyQjtBQUNBLFdBQUtDLFlBQUwsR0FBb0IsS0FBS0gsYUFBTCxDQUFtQkUsYUFBbkIsQ0FBaUMsc0JBQWpDLENBQXBCOztBQUVBO0FBQ0EsV0FBS0UsTUFBTDtBQUNBLFdBQUtDLG1CQUFMO0FBQ0Y7Ozs7K0JBRVE7QUFDTixjQUFLTCxhQUFMLENBQW1CTSxnQkFBbkIsQ0FBb0MsUUFBcEMsRUFBOEMsYUFBSztBQUNoREMsa0JBQU1DLGNBQU47O0FBRUEsZ0JBQUlDLFFBQVFGLE1BQU1HLE1BQU4sQ0FBYUQsS0FBYixDQUFtQkUsS0FBL0I7O0FBRUFGLG9CQUFRRyxLQUFLQyxTQUFMLENBQWVKLEtBQWYsQ0FBUjs7QUFFQSxnQkFBSUssTUFBTSxJQUFJQyxjQUFKLEVBQVY7QUFDQUQsZ0JBQUlFLElBQUosQ0FBUyxNQUFULEVBQWlCLGdEQUFqQjtBQUNBRixnQkFBSUcsSUFBSixDQUFTUixLQUFUOztBQUVBUyx1QkFBVyxZQUFNO0FBQ2QsbUJBQUlKLElBQUlLLFVBQUosSUFBa0IsQ0FBdEIsRUFBeUI7QUFDdEJDLDBCQUFRQyxHQUFSLENBQVksY0FBWjtBQUNGO0FBQ0gsYUFKRCxFQUlHLElBSkg7O0FBTUFkLGtCQUFNRyxNQUFOLENBQWFELEtBQWIsQ0FBbUJFLEtBQW5CLEdBQTJCLEVBQTNCO0FBQ0YsVUFsQkQ7QUFtQkY7Ozs0Q0FFcUI7QUFBQTs7QUFDbkIsY0FBS1IsWUFBTCxDQUFrQkcsZ0JBQWxCLENBQW1DLE9BQW5DLEVBQTRDLGFBQUs7QUFDOUMsZ0JBQUlnQixPQUFPQyxFQUFFQyxPQUFGLEdBQVksSUFBdkI7QUFBQSxnQkFDSUMsT0FBT0YsRUFBRUcsT0FBRixHQUFZLElBRHZCOztBQUdBLGdCQUFJQyxrQkFBa0IxQixTQUFTMkIsYUFBVCxDQUF1QixLQUF2QixDQUF0QjtBQUNBRCw0QkFBZ0JFLFNBQWhCLENBQTBCQyxHQUExQixDQUE4QiwwQ0FBOUI7QUFDQUgsNEJBQWdCSSxLQUFoQixDQUFzQkMsSUFBdEIsR0FBNkJWLElBQTdCO0FBQ0FLLDRCQUFnQkksS0FBaEIsQ0FBc0JFLEdBQXRCLEdBQTRCUixJQUE1QjtBQUNBLGtCQUFLdEIsWUFBTCxDQUFrQitCLFdBQWxCLENBQThCUCxlQUE5Qjs7QUFFQVQsdUJBQVcsWUFBTTtBQUNkLG1CQUFJaUIsUUFBUSxNQUFLaEMsWUFBTCxDQUFrQmlDLFFBQWxCLENBQTJCLENBQTNCLENBQVo7QUFDQSxxQkFBS2pDLFlBQUwsQ0FBa0JrQyxXQUFsQixDQUE4QkYsS0FBOUI7QUFDRixhQUhELEVBR0csR0FISDtBQUlGLFVBZEQ7QUFlRjs7Ozs7O2tCQWpEaUJwQyxTO0FBa0RwQiIsImZpbGUiOiJfc3Vic2NyaWJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Vic2NyaWJlIHtcclxuICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgIC8vIERPTVxyXG4gICAgICB0aGlzLnN1YnNjcmliZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Vic2NyaWJlX19mb3JtJyk7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlQnRuID0gdGhpcy5zdWJzY3JpYmVGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdWJzY3JpYmVfX2Zvcm0tYnRuJyk7XHJcblxyXG4gICAgICAvLyAgRXZlbnRcclxuICAgICAgdGhpcy5fZXZlbnQoKTtcclxuICAgICAgdGhpcy5fYnRuVGFyZ2V0QW5pbWF0aW9uKCk7XHJcbiAgIH07XHJcblxyXG4gICBfZXZlbnQoKSB7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHtcclxuICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGxldCBlbWFpbCA9IGV2ZW50LnRhcmdldC5lbWFpbC52YWx1ZTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGVtYWlsID0gSlNPTi5zdHJpbmdpZnkoZW1haWwpO1xyXG5cclxuICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL21heHMtNGViZTQuZmlyZWJhc2Vpby5jb20vY2xpZW50cy5qc29uJyk7XHJcbiAgICAgICAgIHhoci5zZW5kKGVtYWlsKTtcclxuXHJcbiAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0J7RgtC/0YDQsNCy0LvQtdC90L3QviEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgIGV2ZW50LnRhcmdldC5lbWFpbC52YWx1ZSA9ICcnO1xyXG4gICAgICB9KTtcclxuICAgfTtcclxuXHJcbiAgIF9idG5UYXJnZXRBbmltYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuc3Vic2NyaWJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgIGxldCBwb3NYID0gZS5vZmZzZXRYICsgJ3B4JyxcclxuICAgICAgICAgICAgIHBvc1kgPSBlLm9mZnNldFkgKyAncHgnO1xyXG5cclxuICAgICAgICAgbGV0IHRhcmdldEFuaW1hdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICB0YXJnZXRBbmltYXRpb24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLWJ1YmJsZV9fZm9ybS1idG4tdGVyZ2V0LWFuaW1hdGlvbicpO1xyXG4gICAgICAgICB0YXJnZXRBbmltYXRpb24uc3R5bGUubGVmdCA9IHBvc1g7XHJcbiAgICAgICAgIHRhcmdldEFuaW1hdGlvbi5zdHlsZS50b3AgPSBwb3NZO1xyXG4gICAgICAgICB0aGlzLnN1YnNjcmliZUJ0bi5hcHBlbmRDaGlsZCh0YXJnZXRBbmltYXRpb24pO1xyXG5cclxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkZWxFbCA9IHRoaXMuc3Vic2NyaWJlQnRuLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZUJ0bi5yZW1vdmVDaGlsZChkZWxFbCk7XHJcbiAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgIH0pO1xyXG4gICB9O1xyXG59OyJdfQ==
},{}],7:[function(require,module,exports){
'use strict';

var _addProductItems = require('./_add-product-items');

var _addProductItems2 = _interopRequireDefault(_addProductItems);

var _burgerMenu = require('./_burger-menu');

var _burgerMenu2 = _interopRequireDefault(_burgerMenu);

var _fixedHeader = require('./_fixed-header');

var _fixedHeader2 = _interopRequireDefault(_fixedHeader);

var _search = require('./_search');

var _search2 = _interopRequireDefault(_search);

var _productItemsEvents = require('./_product-items-events');

var _productItemsEvents2 = _interopRequireDefault(_productItemsEvents);

var _subscribe = require('./_subscribe');

var _subscribe2 = _interopRequireDefault(_subscribe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.addEventListener('DOMContentLoaded', init);

function init() {

    // Clone navigation
    function cloneNav() {
        var nav = document.querySelector('.header-nav__list').cloneNode(true);
        var cloneNavParrent = document.querySelector('.fixed-nav');

        cloneNavParrent.insertBefore(nav, cloneNavParrent[0]);
    };
    cloneNav();

    // Set margin top for top section
    function setMargin() {
        var header = document.querySelector('.header'),
            topSection = document.querySelector('.top-section');

        topSection.style.marginTop = header.offsetHeight + 'px';
    };
    setMargin();

    var addProductItems = new _addProductItems2.default();
    var burgerMenu = new _burgerMenu2.default();
    var fixedHeader = new _fixedHeader2.default();
    var search = new _search2.default();
    var productItemsEvents = new _productItemsEvents2.default();
    var subscribe = new _subscribe2.default();
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZha2VfODYwMGM4YjQuanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXQiLCJjbG9uZU5hdiIsIm5hdiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsImNsb25lTmF2UGFycmVudCIsImluc2VydEJlZm9yZSIsInNldE1hcmdpbiIsImhlYWRlciIsInRvcFNlY3Rpb24iLCJzdHlsZSIsIm1hcmdpblRvcCIsIm9mZnNldEhlaWdodCIsImFkZFByb2R1Y3RJdGVtcyIsImJ1cmdlck1lbnUiLCJmaXhlZEhlYWRlciIsInNlYXJjaCIsInByb2R1Y3RJdGVtc0V2ZW50cyIsInN1YnNjcmliZSJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQVBBQSxPQUFPQyxnQkFBUCxDQUF3QixrQkFBeEIsRUFBNENDLElBQTVDOztBQVNBLFNBQVNBLElBQVQsR0FBZ0I7O0FBRVo7QUFDQSxhQUFTQyxRQUFULEdBQW9CO0FBQ2hCLFlBQUlDLE1BQU1DLFNBQVNDLGFBQVQsQ0FBdUIsbUJBQXZCLEVBQTRDQyxTQUE1QyxDQUFzRCxJQUF0RCxDQUFWO0FBQ0EsWUFBSUMsa0JBQWtCSCxTQUFTQyxhQUFULENBQXVCLFlBQXZCLENBQXRCOztBQUVBRSx3QkFBZ0JDLFlBQWhCLENBQTZCTCxHQUE3QixFQUFrQ0ksZ0JBQWdCLENBQWhCLENBQWxDO0FBQ0g7QUFDREw7O0FBRUE7QUFDQSxhQUFTTyxTQUFULEdBQXFCO0FBQ2pCLFlBQUlDLFNBQVNOLFNBQVNDLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBYjtBQUFBLFlBQ0lNLGFBQWFQLFNBQVNDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FEakI7O0FBR0FNLG1CQUFXQyxLQUFYLENBQWlCQyxTQUFqQixHQUE2QkgsT0FBT0ksWUFBUCxHQUFzQixJQUFuRDtBQUNIO0FBQ0RMOztBQUVBLFFBQU1NLGtCQUFrQiwrQkFBeEI7QUFDQSxRQUFNQyxhQUFhLDBCQUFuQjtBQUNBLFFBQU1DLGNBQWMsMkJBQXBCO0FBQ0EsUUFBTUMsU0FBUyxzQkFBZjtBQUNBLFFBQU1DLHFCQUFxQixrQ0FBM0I7QUFDQSxRQUFNQyxZQUFZLHlCQUFsQjtBQUNIIiwiZmlsZSI6ImZha2VfODYwMGM4YjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQpO1xyXG5cclxuaW1wb3J0IEFkZFByb2R1Y3RJdGVtcyBmcm9tICcuL19hZGQtcHJvZHVjdC1pdGVtcyc7XHJcbmltcG9ydCBCdXJnZXJNZW51IGZyb20gJy4vX2J1cmdlci1tZW51JztcclxuaW1wb3J0IEZpeGVkSGVhZGVyIGZyb20gJy4vX2ZpeGVkLWhlYWRlcic7XHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi9fc2VhcmNoJztcclxuaW1wb3J0IFByb2R1Y3RJdGVtc0V2ZW50cyBmcm9tICcuL19wcm9kdWN0LWl0ZW1zLWV2ZW50cyc7XHJcbmltcG9ydCBTdWJzY3JpYmUgZnJvbSAnLi9fc3Vic2NyaWJlJztcclxuXHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgIFxyXG4gICAgLy8gQ2xvbmUgbmF2aWdhdGlvblxyXG4gICAgZnVuY3Rpb24gY2xvbmVOYXYoKSB7XHJcbiAgICAgICAgbGV0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2X19saXN0JykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIGxldCBjbG9uZU5hdlBhcnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2Jyk7XHJcblxyXG4gICAgICAgIGNsb25lTmF2UGFycmVudC5pbnNlcnRCZWZvcmUobmF2LCBjbG9uZU5hdlBhcnJlbnRbMF0pO1xyXG4gICAgfTtcclxuICAgIGNsb25lTmF2KCk7XHJcblxyXG4gICAgLy8gU2V0IG1hcmdpbiB0b3AgZm9yIHRvcCBzZWN0aW9uXHJcbiAgICBmdW5jdGlvbiBzZXRNYXJnaW4oKSB7XHJcbiAgICAgICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKSxcclxuICAgICAgICAgICAgdG9wU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3Atc2VjdGlvbicpO1xyXG5cclxuICAgICAgICB0b3BTZWN0aW9uLnN0eWxlLm1hcmdpblRvcCA9IGhlYWRlci5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgfTtcclxuICAgIHNldE1hcmdpbigpXHJcblxyXG4gICAgY29uc3QgYWRkUHJvZHVjdEl0ZW1zID0gbmV3IEFkZFByb2R1Y3RJdGVtcztcclxuICAgIGNvbnN0IGJ1cmdlck1lbnUgPSBuZXcgQnVyZ2VyTWVudTtcclxuICAgIGNvbnN0IGZpeGVkSGVhZGVyID0gbmV3IEZpeGVkSGVhZGVyO1xyXG4gICAgY29uc3Qgc2VhcmNoID0gbmV3IFNlYXJjaDtcclxuICAgIGNvbnN0IHByb2R1Y3RJdGVtc0V2ZW50cyA9IG5ldyBQcm9kdWN0SXRlbXNFdmVudHM7XHJcbiAgICBjb25zdCBzdWJzY3JpYmUgPSBuZXcgU3Vic2NyaWJlO1xyXG59OyJdfQ==
},{"./_add-product-items":1,"./_burger-menu":2,"./_fixed-header":3,"./_product-items-events":4,"./_search":5,"./_subscribe":6}]},{},[7])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxfRnJvbnRFbmRcXF9tc3RvcmVcXG5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrXFxfcHJlbHVkZS5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX2FkZC1wcm9kdWN0LWl0ZW1zLmpzIiwiRTovX0Zyb250RW5kL19tc3RvcmUvX3NyYy9qcy9fYnVyZ2VyLW1lbnUuanMiLCJFOi9fRnJvbnRFbmQvX21zdG9yZS9fc3JjL2pzL19maXhlZC1oZWFkZXIuanMiLCJFOi9fRnJvbnRFbmQvX21zdG9yZS9fc3JjL2pzL19wcm9kdWN0LWl0ZW1zLWV2ZW50cy5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX3NlYXJjaC5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvX3N1YnNjcmliZS5qcyIsIkU6L19Gcm9udEVuZC9fbXN0b3JlL19zcmMvanMvZmFrZV84NjAwYzhiNC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQWRkUHJvZHVjdEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFkZFByb2R1Y3RJdGVtcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZFByb2R1Y3RJdGVtcyk7XG5cbiAgICAgICAgLy8gRE9NXG4gICAgICAgIHRoaXMubWFpbkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9faXRlbS1jbG9uZScpLmNoaWxkcmVuWzBdO1xuICAgICAgICB0aGlzLnBhcnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdXR1cmUtcHJvZHVjdCcpO1xuICAgICAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkLW1vcmUtYnRuJyk7XG5cbiAgICAgICAgLy8gdmFycyBcbiAgICAgICAgdGhpcy5maXJzdExvYWRlZEl0ZW1zUXR5ID0gODtcbiAgICAgICAgdGhpcy5wcmVzc0J0bkxvYWRlZEl0ZW1zUXR5ID0gNDtcblxuICAgICAgICAvLyAgZXZlbnRzXG4gICAgICAgIHRoaXMuX2ZpcnN0TG9hZEFkZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuX3ByZXNzQnRuQWRkSXRlbXMoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWRkUHJvZHVjdEl0ZW1zLCBbe1xuICAgICAgICBrZXk6ICdoZWxsbycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoZWxsbygpIHtcbiAgICAgICAgICAgIHJldHVybiAnaGVsbG8nO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfZmlyc3RMb2FkQWRkSXRlbXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpcnN0TG9hZEFkZEl0ZW1zKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAgICAgdGhpcy54aHIub3BlbignR0VUJywgJy4uL2RiLmpzb24nKTtcblxuICAgICAgICAgICAgdGhpcy54aHIucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG5cbiAgICAgICAgICAgIHRoaXMueGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGF0YSA9IF90aGlzLnhoci5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICBfdGhpcy50b3RhbFF0eUl0ZW1zID0gX3RoaXMuZGF0YS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIF90aGlzLnF0eUl0ZW1zID0gX3RoaXMuZmlyc3RMb2FkZWRJdGVtc1F0eTtcblxuICAgICAgICAgICAgICAgIF90aGlzLl9hZGRJdGVtcyhfdGhpcy50b3RhbFF0eUl0ZW1zLCBfdGhpcy5xdHlJdGVtcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMueGhyLnNlbmQoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3ByZXNzQnRuQWRkSXRlbXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXNzQnRuQWRkSXRlbXMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5ub3dBZGRlZCA9IHRoaXMuZmlyc3RMb2FkZWRJdGVtc1F0eTtcblxuICAgICAgICAgICAgdGhpcy5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMyLnhoci5vcGVuKCdHRVQnLCAnLi4vZGIuanNvbicpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMyLnhoci5yZXNwb25zZVR5cGUgPSBcImpzb25cIjtcblxuICAgICAgICAgICAgICAgIF90aGlzMi54aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRhdGEgPSBfdGhpczIueGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudG90YWxRdHlJdGVtcyA9IF90aGlzMi5kYXRhLmxlbmd0aCAtIDEgLSBfdGhpczIubm93QWRkZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5xdHlJdGVtcyA9IF90aGlzMi5wcmVzc0J0bkxvYWRlZEl0ZW1zUXR5O1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuX2FkZEl0ZW1zKF90aGlzMi50b3RhbFF0eUl0ZW1zLCBfdGhpczIucXR5SXRlbXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5ub3dBZGRlZCArPSBfdGhpczIucHJlc3NCdG5Mb2FkZWRJdGVtc1F0eTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpczIueGhyLnNlbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfYWRkSXRlbXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEl0ZW1zKHRvdGFsUXR5LCBhZGRRdHkpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRvdGFsUXR5OyBpID4gdG90YWxRdHkgLSBhZGRRdHk7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbSA9IHRoaXMubWFpbkl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19pbWcnKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fdGl0bGUtbGluaycpLFxuICAgICAgICAgICAgICAgICAgICBwcmljZSA9IGN1cnJlbnRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19wcmljZScpLFxuICAgICAgICAgICAgICAgICAgICBiYXNrZXRCdG4gPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdF9fZGV0YWlscy1idXR0b24tLWJhc2tldCcpLFxuICAgICAgICAgICAgICAgICAgICB6b29tQnRuID0gY3VycmVudEl0ZW0ucXVlcnlTZWxlY3RvcignLnByb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS16b29tJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSB0aGlzLmRhdGFbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGFJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nLycgKyBkYXRhSXRlbVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21CdG4uZGF0YXNldC5zcmMgPSAnaW1nLycgKyAnYmlnLScgKyBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3RpdGxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3ByaWNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2UudGV4dENvbnRlbnQgPSAnJCcgKyBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFza2V0QnRuLmRhdGFzZXQucHJpY2UgPSBkYXRhSXRlbVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0uZGF0YXNldC5pZCA9IGRhdGFJdGVtW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnb2xkUHJpY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkUHJpY2VTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkUHJpY2VTcGFuLnRleHRDb250ZW50ID0gJyQnICsgZGF0YUl0ZW1ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFByaWNlU3Bhbi5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19vbGQtcHJpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXNjcldyYXAgPSBjdXJyZW50SXRlbS5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1kZXNjcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JXcmFwLmluc2VydEJlZm9yZShvbGRQcmljZVNwYW4sIGRlc2NyV3JhcC5jaGlsZHJlblsyXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnbGFiZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X19pdGVtLS1sYWJlbC0nICsgZGF0YUl0ZW1ba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJyZW50LmFwcGVuZENoaWxkKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBZGRQcm9kdWN0SXRlbXM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFkZFByb2R1Y3RJdGVtcztcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklsOWhaR1F0Y0hKdlpIVmpkQzFwZEdWdGN5NXFjeUpkTENKdVlXMWxjeUk2V3lKQlpHUlFjbTlrZFdOMFNYUmxiWE1pTENKdFlXbHVTWFJsYlNJc0ltUnZZM1Z0Wlc1MElpd2ljWFZsY25sVFpXeGxZM1J2Y2lJc0ltTm9hV3hrY21WdUlpd2ljR0Z5Y21WdWRDSXNJbUowYmlJc0ltWnBjbk4wVEc5aFpHVmtTWFJsYlhOUmRIa2lMQ0p3Y21WemMwSjBia3h2WVdSbFpFbDBaVzF6VVhSNUlpd2lYMlpwY25OMFRHOWhaRUZrWkVsMFpXMXpJaXdpWDNCeVpYTnpRblJ1UVdSa1NYUmxiWE1pTENKNGFISWlMQ0pZVFV4SWRIUndVbVZ4ZFdWemRDSXNJbTl3Wlc0aUxDSnlaWE53YjI1elpWUjVjR1VpTENKaFpHUkZkbVZ1ZEV4cGMzUmxibVZ5SWl3aVpHRjBZU0lzSW5KbGMzQnZibk5sSWl3aWRHOTBZV3hSZEhsSmRHVnRjeUlzSW14bGJtZDBhQ0lzSW5GMGVVbDBaVzF6SWl3aVgyRmtaRWwwWlcxeklpd2ljMlZ1WkNJc0ltNXZkMEZrWkdWa0lpd2lkRzkwWVd4UmRIa2lMQ0poWkdSUmRIa2lMQ0pwSWl3aWMzUjViR1VpTENKa2FYTndiR0Y1SWl3aVkzVnljbVZ1ZEVsMFpXMGlMQ0pqYkc5dVpVNXZaR1VpTENKcGJXY2lMQ0owYVhSc1pTSXNJbkJ5YVdObElpd2lZbUZ6YTJWMFFuUnVJaXdpZW05dmJVSjBiaUlzSW1SaGRHRkpkR1Z0SWl3aWEyVjVJaXdpYzJWMFFYUjBjbWxpZFhSbElpd2laR0YwWVhObGRDSXNJbk55WXlJc0luUmxlSFJEYjI1MFpXNTBJaXdpYVdRaUxDSnZiR1JRY21salpWTndZVzRpTENKamNtVmhkR1ZGYkdWdFpXNTBJaXdpWTJ4aGMzTk1hWE4wSWl3aVlXUmtJaXdpWkdWelkzSlhjbUZ3SWl3aWFXNXpaWEowUW1WbWIzSmxJaXdpWVhCd1pXNWtRMmhwYkdRaVhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3U1VGQmNVSkJMR1U3UVVGRGJFSXNLMEpCUVdNN1FVRkJRVHM3UVVGRFZqdEJRVU5CTEdGQlFVdERMRkZCUVV3c1IwRkJaMEpETEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzYzBKQlFYWkNMRVZCUVN0RFF5eFJRVUV2UXl4RFFVRjNSQ3hEUVVGNFJDeERRVUZvUWp0QlFVTkJMR0ZCUVV0RExFOUJRVXdzUjBGQlpVZ3NVMEZCVTBNc1lVRkJWQ3hEUVVGMVFpeHRRa0ZCZGtJc1EwRkJaanRCUVVOQkxHRkJRVXRITEVkQlFVd3NSMEZCVjBvc1UwRkJVME1zWVVGQlZDeERRVUYxUWl4blFrRkJka0lzUTBGQldEczdRVUZGUVR0QlFVTkJMR0ZCUVV0SkxHMUNRVUZNTEVkQlFUSkNMRU5CUVROQ08wRkJRMEVzWVVGQlMwTXNjMEpCUVV3c1IwRkJPRUlzUTBGQk9VSTdPMEZCUjBFN1FVRkRRU3hoUVVGTFF5eHJRa0ZCVER0QlFVTkJMR0ZCUVV0RExHbENRVUZNTzBGQlEwZzdPenM3WjBOQlEwODdRVUZEU2l4dFFrRkJUeXhQUVVGUU8wRkJRMGc3T3pzMlEwRkRiMEk3UVVGQlFUczdRVUZEYWtJc2FVSkJRVXRETEVkQlFVd3NSMEZCVnl4SlFVRkpReXhqUVVGS0xFVkJRVmc3TzBGQlJVRXNhVUpCUVV0RUxFZEJRVXdzUTBGQlUwVXNTVUZCVkN4RFFVRmpMRXRCUVdRc1JVRkJjVUlzV1VGQmNrSTdPMEZCUlVFc2FVSkJRVXRHTEVkQlFVd3NRMEZCVTBjc1dVRkJWQ3hIUVVGM1FpeE5RVUY0UWpzN1FVRkZRU3hwUWtGQlMwZ3NSMEZCVEN4RFFVRlRTU3huUWtGQlZDeERRVUV3UWl4TlFVRXhRaXhGUVVGclF5eFpRVUZOTzBGQlEzQkRMSE5DUVVGTFF5eEpRVUZNTEVkQlFWa3NUVUZCUzB3c1IwRkJUQ3hEUVVGVFRTeFJRVUZ5UWp0QlFVTkJMSE5DUVVGTFF5eGhRVUZNTEVkQlFYTkNMRTFCUVV0R0xFbEJRVXdzUTBGQlZVY3NUVUZCVml4SFFVRnRRaXhEUVVGNlF6dEJRVU5CTEhOQ1FVRkxReXhSUVVGTUxFZEJRV2RDTEUxQlFVdGlMRzFDUVVGeVFqczdRVUZGU2l4elFrRkJTMk1zVTBGQlRDeERRVUZsTEUxQlFVdElMR0ZCUVhCQ0xFVkJRVzFETEUxQlFVdEZMRkZCUVhoRE8wRkJSVU1zWVVGUVJEdEJRVkZCTEdsQ1FVRkxWQ3hIUVVGTUxFTkJRVk5YTEVsQlFWUTdRVUZEU0RzN096UkRRVVZ0UWp0QlFVRkJPenRCUVVOb1FpeHBRa0ZCUzBNc1VVRkJUQ3hIUVVGblFpeExRVUZMYUVJc2JVSkJRWEpDT3p0QlFVVkJMR2xDUVVGTFJDeEhRVUZNTEVOQlFWTlRMR2RDUVVGVUxFTkJRVEJDTEU5QlFURkNMRVZCUVcxRExGbEJRVTA3UVVGRGNrTXNkVUpCUVV0S0xFZEJRVXdzUjBGQlZ5eEpRVUZKUXl4alFVRktMRVZCUVZnN08wRkJSVUVzZFVKQlFVdEVMRWRCUVV3c1EwRkJVMFVzU1VGQlZDeERRVUZqTEV0QlFXUXNSVUZCY1VJc1dVRkJja0k3TzBGQlJVRXNkVUpCUVV0R0xFZEJRVXdzUTBGQlUwY3NXVUZCVkN4SFFVRjNRaXhOUVVGNFFqczdRVUZGUVN4MVFrRkJTMGdzUjBGQlRDeERRVUZUU1N4blFrRkJWQ3hEUVVFd1FpeE5RVUV4UWl4RlFVRnJReXhaUVVGTk8wRkJRM0JETERKQ1FVRkxReXhKUVVGTUxFZEJRVmtzVDBGQlMwd3NSMEZCVEN4RFFVRlRUU3hSUVVGeVFqdEJRVU5CTERKQ1FVRkxReXhoUVVGTUxFZEJRWE5DTEU5QlFVdEdMRWxCUVV3c1EwRkJWVWNzVFVGQlZpeEhRVUZ0UWl4RFFVRnVRaXhIUVVGMVFpeFBRVUZMU1N4UlFVRnNSRHRCUVVOQkxESkNRVUZMU0N4UlFVRk1MRWRCUVdkQ0xFOUJRVXRhTEhOQ1FVRnlRanRCUVVOS0xESkNRVUZMWVN4VFFVRk1MRU5CUVdVc1QwRkJTMGdzWVVGQmNFSXNSVUZCYlVNc1QwRkJTMFVzVVVGQmVFTTdPMEZCUlVFc01rSkJRVXRITEZGQlFVd3NTVUZCYVVJc1QwRkJTMllzYzBKQlFYUkNPMEZCUTBNc2FVSkJVRVE3UVVGUlFTeDFRa0ZCUzBjc1IwRkJUQ3hEUVVGVFZ5eEpRVUZVTzBGQlJVZ3NZVUZxUWtRN1FVRnJRa2c3T3p0clEwRkZVMFVzVVN4RlFVRlZReXhOTEVWQlFWRTdPMEZCUlhoQ0xHbENRVUZMTEVsQlFVbERMRWxCUVVsR0xGRkJRV0lzUlVGQmRVSkZMRWxCUVV0R0xGZEJRVmRETEUxQlFYWkRMRVZCUVdkRVF5eEhRVUZvUkN4RlFVRnhSRHRCUVVOcVJDeHZRa0ZCU1VFc1RVRkJUU3hEUVVGV0xFVkJRV0U3UVVGRFZDeDVRa0ZCUzNCQ0xFZEJRVXdzUTBGQlUzRkNMRXRCUVZRc1EwRkJaVU1zVDBGQlppeEhRVUY1UWl4TlFVRjZRanRCUVVOSU8wRkJRMFFzYjBKQlFVbERMR05CUVdNc1MwRkJTelZDTEZGQlFVd3NRMEZCWXpaQ0xGTkJRV1FzUTBGQmQwSXNTVUZCZUVJc1EwRkJiRUk3TzBGQlJVRXNiMEpCUVVsRExFMUJRVTFHTEZsQlFWa3hRaXhoUVVGYUxFTkJRVEJDTEdWQlFURkNMRU5CUVZZN1FVRkJRU3h2UWtGRFNUWkNMRkZCUVZGSUxGbEJRVmt4UWl4aFFVRmFMRU5CUVRCQ0xITkNRVUV4UWl4RFFVUmFPMEZCUVVFc2IwSkJSVWs0UWl4UlFVRlJTaXhaUVVGWk1VSXNZVUZCV2l4RFFVRXdRaXhwUWtGQk1VSXNRMEZHV2p0QlFVRkJMRzlDUVVkSkswSXNXVUZCV1V3c1dVRkJXVEZDTEdGQlFWb3NRMEZCTUVJc2EwTkJRVEZDTEVOQlNHaENPMEZCUVVFc2IwSkJTVWxuUXl4VlFVRlZUaXhaUVVGWk1VSXNZVUZCV2l4RFFVRXdRaXhuUTBGQk1VSXNRMEZLWkRzN1FVRk5RU3h2UWtGQlNXbERMRmRCUVZjc1MwRkJTM0JDTEVsQlFVd3NRMEZCVlZVc1EwRkJWaXhEUVVGbU8wRkJRMEVzY1VKQlFVc3NTVUZCU1Zjc1IwRkJWQ3hKUVVGblFrUXNVVUZCYUVJc1JVRkJNRUk3UVVGRGRFSXNkMEpCUVVsRExGRkJRVkVzUzBGQldpeEZRVUZ0UWp0QlFVTm1UaXcwUWtGQlNVOHNXVUZCU2l4RFFVRnBRaXhMUVVGcVFpeEZRVUY1UWl4VFFVRlRSaXhUUVVGVFF5eEhRVUZVTEVOQlFXeERPMEZCUTBGR0xHZERRVUZSU1N4UFFVRlNMRU5CUVdkQ1F5eEhRVUZvUWl4SFFVRjFRaXhUUVVGVExFMUJRVlFzUjBGQmEwSktMRk5CUVZORExFZEJRVlFzUTBGQmVrTTdRVUZEU0N4eFFrRklSQ3hOUVVkUExFbEJRVWxCTEZGQlFWRXNUMEZCV2l4RlFVRnhRanRCUVVONFFrd3NPRUpCUVUxVExGZEJRVTRzUjBGQmIwSk1MRk5CUVZORExFZEJRVlFzUTBGQmNFSTdRVUZEU0N4eFFrRkdUU3hOUVVWQkxFbEJRVWxCTEZGQlFWRXNUMEZCV2l4RlFVRnhRanRCUVVONFFrb3NPRUpCUVUxUkxGZEJRVTRzUjBGQmIwSXNUVUZCVFV3c1UwRkJVME1zUjBGQlZDeERRVUV4UWp0QlFVTkJTQ3hyUTBGQlZVc3NUMEZCVml4RFFVRnJRazRzUzBGQmJFSXNSMEZCTUVKSExGTkJRVk5ETEVkQlFWUXNRMEZCTVVJN1FVRkRTQ3h4UWtGSVRTeE5RVWRCTEVsQlFVbEJMRkZCUVZFc1NVRkJXaXhGUVVGclFqdEJRVU55UWxJc2IwTkJRVmxWTEU5QlFWb3NRMEZCYjBKSExFVkJRWEJDTEVkQlFYbENUaXhUUVVGVFF5eEhRVUZVTEVOQlFYcENPMEZCUTBnc2NVSkJSazBzVFVGRlFTeEpRVUZKUVN4UlFVRlJMRlZCUVZvc1JVRkJkMEk3UVVGRE0wSXNORUpCUVVsTkxHVkJRV1Y2UXl4VFFVRlRNRU1zWVVGQlZDeERRVUYxUWl4TlFVRjJRaXhEUVVGdVFqdEJRVU5CUkN4eFEwRkJZVVlzVjBGQllpeEhRVUV5UWl4TlFVRk5UQ3hUUVVGVFF5eEhRVUZVTEVOQlFXcERPMEZCUTBGTkxIRkRRVUZoUlN4VFFVRmlMRU5CUVhWQ1F5eEhRVUYyUWl4RFFVRXlRaXh2UWtGQk0wSTdRVUZEUVN3MFFrRkJTVU1zV1VGQldXeENMRmxCUVZreFFpeGhRVUZhTEVOQlFUQkNMR2RDUVVFeFFpeERRVUZvUWp0QlFVTkJORU1zYTBOQlFWVkRMRmxCUVZZc1EwRkJkVUpNTEZsQlFYWkNMRVZCUVhGRFNTeFZRVUZWTTBNc1VVRkJWaXhEUVVGdFFpeERRVUZ1UWl4RFFVRnlRenRCUVVOSUxIRkNRVTVOTEUxQlRVRXNTVUZCU1dsRExGRkJRVkVzVDBGQldpeEZRVUZ4UWp0QlFVTjRRbElzYjBOQlFWbG5RaXhUUVVGYUxFTkJRWE5DUXl4SFFVRjBRaXhEUVVFd1Fpd3dRa0ZCTUVKV0xGTkJRVk5ETEVkQlFWUXNRMEZCY0VRN1FVRkRTRHRCUVVWS08wRkJRMFFzY1VKQlFVdG9ReXhQUVVGTUxFTkJRV0UwUXl4WFFVRmlMRU5CUVhsQ2NFSXNWMEZCZWtJN1FVRkRTRHRCUVVOS096czdPenM3YTBKQmJrZHBRamRDTEdVN1FVRnZSM0JDSWl3aVptbHNaU0k2SWw5aFpHUXRjSEp2WkhWamRDMXBkR1Z0Y3k1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUVGa1pGQnliMlIxWTNSSmRHVnRjeUI3WEhKY2JpQWdJR052Ym5OMGNuVmpkRzl5S0NrZ2UxeHlYRzRnSUNBZ0lDQWdMeThnUkU5TlhISmNiaUFnSUNBZ0lDQjBhR2x6TG0xaGFXNUpkR1Z0SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZjaWduTG5CeWIyUjFZM1JmWDJsMFpXMHRZMnh2Ym1VbktTNWphR2xzWkhKbGJsc3dYVHRjY2x4dUlDQWdJQ0FnSUhSb2FYTXVjR0Z5Y21WdWRDQTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNJb0p5NW1aV0YxZEhWeVpTMXdjbTlrZFdOMEp5azdYSEpjYmlBZ0lDQWdJQ0IwYUdsekxtSjBiaUE5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTVzYjJGa0xXMXZjbVV0WW5SdUp5azdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0x5OGdkbUZ5Y3lCY2NseHVJQ0FnSUNBZ0lIUm9hWE11Wm1seWMzUk1iMkZrWldSSmRHVnRjMUYwZVNBOUlEZzdYSEpjYmlBZ0lDQWdJQ0IwYUdsekxuQnlaWE56UW5SdVRHOWhaR1ZrU1hSbGJYTlJkSGtnUFNBME8xeHlYRzVjY2x4dVhISmNiaUFnSUNBZ0lDQXZMeUFnWlhabGJuUnpYSEpjYmlBZ0lDQWdJQ0IwYUdsekxsOW1hWEp6ZEV4dllXUkJaR1JKZEdWdGN5Z3BPMXh5WEc0Z0lDQWdJQ0FnZEdocGN5NWZjSEpsYzNOQ2RHNUJaR1JKZEdWdGN5Z3BPMXh5WEc0Z0lDQjlYSEpjYmlBZ0lHaGxiR3h2S0NrZ2UxeHlYRzRnSUNBZ0lDQWdjbVYwZFhKdUlDZG9aV3hzYnljN1hISmNiaUFnSUgwN1hISmNiaUFnSUY5bWFYSnpkRXh2WVdSQlpHUkpkR1Z0Y3lncElIdGNjbHh1SUNBZ0lDQWdJSFJvYVhNdWVHaHlJRDBnYm1WM0lGaE5URWgwZEhCU1pYRjFaWE4wS0NrN1hISmNibHh5WEc0Z0lDQWdJQ0FnZEdocGN5NTRhSEl1YjNCbGJpZ25SMFZVSnl3Z0p5NHVMMlJpTG1wemIyNG5LVHRjY2x4dVhISmNiaUFnSUNBZ0lDQjBhR2x6TG5ob2NpNXlaWE53YjI1elpWUjVjR1VnUFNCY0ltcHpiMjVjSWp0Y2NseHVYSEpjYmlBZ0lDQWdJQ0IwYUdsekxuaG9jaTVoWkdSRmRtVnVkRXhwYzNSbGJtVnlLQ2RzYjJGa0p5d2dLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVaR0YwWVNBOUlIUm9hWE11ZUdoeUxuSmxjM0J2Ym5ObE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVkRzkwWVd4UmRIbEpkR1Z0Y3lBOUlDaDBhR2x6TG1SaGRHRXViR1Z1WjNSb0lDMGdNU2s3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1eGRIbEpkR1Z0Y3lBOUlIUm9hWE11Wm1seWMzUk1iMkZrWldSSmRHVnRjMUYwZVR0Y2NseHVYSEpjYmlBZ0lDQWdJQ0IwYUdsekxsOWhaR1JKZEdWdGN5aDBhR2x6TG5SdmRHRnNVWFI1U1hSbGJYTXNJSFJvYVhNdWNYUjVTWFJsYlhNcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUZ4eVhHNGdJQ0FnSUNBZ2ZTazdYSEpjYmlBZ0lDQWdJQ0IwYUdsekxuaG9jaTV6Wlc1a0tDazdYSEpjYmlBZ0lIMDdYSEpjYmx4eVhHNGdJQ0JmY0hKbGMzTkNkRzVCWkdSSmRHVnRjeWdwSUh0Y2NseHVJQ0FnSUNBZ0lIUm9hWE11Ym05M1FXUmtaV1FnUFNCMGFHbHpMbVpwY25OMFRHOWhaR1ZrU1hSbGJYTlJkSGs3WEhKY2JseHlYRzRnSUNBZ0lDQWdkR2hwY3k1aWRHNHVZV1JrUlhabGJuUk1hWE4wWlc1bGNpZ25ZMnhwWTJzbkxDQW9LU0E5UGlCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnZEdocGN5NTRhSElnUFNCdVpYY2dXRTFNU0hSMGNGSmxjWFZsYzNRb0tUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1NGFISXViM0JsYmlnblIwVlVKeXdnSnk0dUwyUmlMbXB6YjI0bktUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1NGFISXVjbVZ6Y0c5dWMyVlVlWEJsSUQwZ1hDSnFjMjl1WENJN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUNBZ0lIUm9hWE11ZUdoeUxtRmtaRVYyWlc1MFRHbHpkR1Z1WlhJb0oyeHZZV1FuTENBb0tTQTlQaUI3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVaR0YwWVNBOUlIUm9hWE11ZUdoeUxuSmxjM0J2Ym5ObE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5SdmRHRnNVWFI1U1hSbGJYTWdQU0FvZEdocGN5NWtZWFJoTG14bGJtZDBhQ0F0SURFZ0xTQjBhR2x6TG01dmQwRmtaR1ZrS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTV4ZEhsSmRHVnRjeUE5SUhSb2FYTXVjSEpsYzNOQ2RHNU1iMkZrWldSSmRHVnRjMUYwZVR0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxsOWhaR1JKZEdWdGN5aDBhR2x6TG5SdmRHRnNVWFI1U1hSbGJYTXNJSFJvYVhNdWNYUjVTWFJsYlhNcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUZ4eVhHNGdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWJtOTNRV1JrWldRZ0t6MGdkR2hwY3k1d2NtVnpjMEowYmt4dllXUmxaRWwwWlcxelVYUjVPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lIMHBPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lIUm9hWE11ZUdoeUxuTmxibVFvS1R0Y2NseHVJQ0FnSUNBZ0lGeHlYRzRnSUNBZ0lDQWdmU2s3WEhKY2JpQWdJSDA3WEhKY2JseHlYRzRnSUNCZllXUmtTWFJsYlhNb2RHOTBZV3hSZEhrc0lHRmtaRkYwZVNrZ2UxeHlYRzVjY2x4dUlDQWdJQ0FnSUdadmNpQW9iR1YwSUdrZ1BTQjBiM1JoYkZGMGVUc2dhU0ErSUNoMGIzUmhiRkYwZVNBdElHRmtaRkYwZVNrN0lHa3RMU2tnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJR2xtSUNocElEMDlQU0F3S1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WW5SdUxuTjBlV3hsTG1ScGMzQnNZWGtnUFNBbmJtOXVaU2M3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdmVnh5WEc0Z0lDQWdJQ0FnSUNBZ0lHeGxkQ0JqZFhKeVpXNTBTWFJsYlNBOUlIUm9hWE11YldGcGJrbDBaVzB1WTJ4dmJtVk9iMlJsS0hSeWRXVXBPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0JzWlhRZ2FXMW5JRDBnWTNWeWNtVnVkRWwwWlcwdWNYVmxjbmxUWld4bFkzUnZjaWduTG5CeWIyUjFZM1JmWDJsdFp5Y3BMRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYVhSc1pTQTlJR04xY25KbGJuUkpkR1Z0TG5GMVpYSjVVMlZzWldOMGIzSW9KeTV3Y205a2RXTjBYMTkwYVhSc1pTMXNhVzVySnlrc1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIQnlhV05sSUQwZ1kzVnljbVZ1ZEVsMFpXMHVjWFZsY25sVFpXeGxZM1J2Y2lnbkxuQnliMlIxWTNSZlgzQnlhV05sSnlrc1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lHSmhjMnRsZEVKMGJpQTlJR04xY25KbGJuUkpkR1Z0TG5GMVpYSjVVMlZzWldOMGIzSW9KeTV3Y205a2RXTjBYMTlrWlhSaGFXeHpMV0oxZEhSdmJpMHRZbUZ6YTJWMEp5a3NYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJSHB2YjIxQ2RHNGdQU0JqZFhKeVpXNTBTWFJsYlM1eGRXVnllVk5sYkdWamRHOXlLQ2N1Y0hKdlpIVmpkRjlmWkdWMFlXbHNjeTFpZFhSMGIyNHRMWHB2YjIwbktUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdiR1YwSUdSaGRHRkpkR1Z0SUQwZ2RHaHBjeTVrWVhSaFcybGRPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lHWnZjaUFvYkdWMElHdGxlU0JwYmlCa1lYUmhTWFJsYlNrZ2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnBaaUFvYTJWNUlEMDlQU0FuYzNKakp5a2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2FXMW5Mbk5sZEVGMGRISnBZblYwWlNnbmMzSmpKeXdnS0NkcGJXY3ZKeUFySUdSaGRHRkpkR1Z0VzJ0bGVWMHBLVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIcHZiMjFDZEc0dVpHRjBZWE5sZEM1emNtTWdQU0FvSjJsdFp5OG5JQ3NnSjJKcFp5MG5JQ3NnWkdGMFlVbDBaVzFiYTJWNVhTazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQnBaaUFvYTJWNUlEMDlQU0FuZEdsMGJHVW5LU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhWFJzWlM1MFpYaDBRMjl1ZEdWdWRDQTlJR1JoZEdGSmRHVnRXMnRsZVYwN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9hMlY1SUQwOVBTQW5jSEpwWTJVbktTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCd2NtbGpaUzUwWlhoMFEyOXVkR1Z1ZENBOUlDY2tKeUFySUdSaGRHRkpkR1Z0VzJ0bGVWMDdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCaVlYTnJaWFJDZEc0dVpHRjBZWE5sZEM1d2NtbGpaU0E5SUdSaGRHRkpkR1Z0VzJ0bGVWMDdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQnBaaUFvYTJWNUlEMDlQU0FuYVdRbktTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCamRYSnlaVzUwU1hSbGJTNWtZWFJoYzJWMExtbGtJRDBnWkdGMFlVbDBaVzFiYTJWNVhUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2hyWlhrZ1BUMDlJQ2R2YkdSUWNtbGpaU2NwSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR3hsZENCdmJHUlFjbWxqWlZOd1lXNGdQU0JrYjJOMWJXVnVkQzVqY21WaGRHVkZiR1Z0Wlc1MEtDZHpjR0Z1SnlrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J2YkdSUWNtbGpaVk53WVc0dWRHVjRkRU52Ym5SbGJuUWdQU0FuSkNjZ0t5QmtZWFJoU1hSbGJWdHJaWGxkTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiMnhrVUhKcFkyVlRjR0Z1TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KM0J5YjJSMVkzUmZYMjlzWkMxd2NtbGpaU2NwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiR1YwSUdSbGMyTnlWM0poY0NBOUlHTjFjbkpsYm5SSmRHVnRMbkYxWlhKNVUyVnNaV04wYjNJb0p5NXdjbTlrZFdOMExXUmxjMk55SnlrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JrWlhOamNsZHlZWEF1YVc1elpYSjBRbVZtYjNKbEtHOXNaRkJ5YVdObFUzQmhiaXdnWkdWelkzSlhjbUZ3TG1Ob2FXeGtjbVZ1V3pKZEtUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2hyWlhrZ1BUMDlJQ2RzWVdKbGJDY3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHTjFjbkpsYm5SSmRHVnRMbU5zWVhOelRHbHpkQzVoWkdRb0ozQnliMlIxWTNSZlgybDBaVzB0TFd4aFltVnNMU2NnS3lCa1lYUmhTWFJsYlZ0clpYbGRLVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNCY2NseHVJQ0FnSUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1d1lYSnlaVzUwTG1Gd2NHVnVaRU5vYVd4a0tHTjFjbkpsYm5SSmRHVnRLVHRjY2x4dUlDQWdJQ0FnSUgxY2NseHVJQ0FnZlR0Y2NseHVmVHNpWFgwPSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBCdXJnZXJNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgZnVuY3Rpb24gQnVyZ2VyTWVudSgpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdXJnZXJNZW51KTtcblxuICAgICAgLy8gRE9NXG4gICAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyk7XG4gICAgICB0aGlzLm5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19saXN0Jyk7XG4gICAgICB0aGlzLm5hdkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZml4ZWQtbmF2IC5oZWFkZXItbmF2X19pdGVtJyk7XG4gICAgICB0aGlzLmJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXInKTtcbiAgICAgIHRoaXMubWFpbmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbmNvbnRlbnQnKTtcbiAgICAgIHRoaXMuZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpO1xuXG4gICAgICAvLyAgZXZlbnRzXG4gICAgICB0aGlzLl9ldmVudHMoKTtcbiAgIH1cblxuICAgX2NyZWF0ZUNsYXNzKEJ1cmdlck1lbnUsIFt7XG4gICAgICBrZXk6ICdfZXZlbnRzJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZXZlbnRzKCkge1xuICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgdGhpcy5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5uYXZMaXN0LmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1uYXZfX2xpc3QtLWJ1cmdlci1hY3RpdmUnKTtcblxuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSA1MDtcblxuICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuXG4gICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLm5hdkl0ZW1baV0uY2xhc3NMaXN0LmFkZCgnaGVhZGVyLW5hdl9faXRlbS0tYnVyZ2VyLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG5cbiAgICAgICAgICAgICAgIHRpbWVvdXQgKz0gNTA7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLm5hdkl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgIF9sb29wKGkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgX3RoaXMuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgICAgIF90aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XG4gICAgICAgICAgICBfdGhpcy5tYWluY29udGVudC5jbGFzc0xpc3QuYWRkKCdibHVyJyk7XG4gICAgICAgICAgICBfdGhpcy5mb290ZXIuY2xhc3NMaXN0LmFkZCgnYmx1cicpO1xuICAgICAgICAgfSk7XG5cbiAgICAgICAgIHRoaXMubmF2TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgX3RoaXMubmF2TGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19saXN0LS1idXJnZXItYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMubmF2SXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgX3RoaXMubmF2SXRlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItbmF2X19pdGVtLS1idXJnZXItYWN0aXZlJyk7XG4gICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICBfdGhpcy5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICAgICAgICAgX3RoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcbiAgICAgICAgICAgICAgIF90aGlzLm1haW5jb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JsdXInKTtcbiAgICAgICAgICAgICAgIF90aGlzLmZvb3Rlci5jbGFzc0xpc3QucmVtb3ZlKCdibHVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgIH1dKTtcblxuICAgcmV0dXJuIEJ1cmdlck1lbnU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1cmdlck1lbnU7XG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbDlpZFhKblpYSXRiV1Z1ZFM1cWN5SmRMQ0p1WVcxbGN5STZXeUpDZFhKblpYSk5aVzUxSWl3aVluUnVJaXdpWkc5amRXMWxiblFpTENKeGRXVnllVk5sYkdWamRHOXlJaXdpYm1GMlRHbHpkQ0lzSW01aGRrbDBaVzBpTENKeGRXVnllVk5sYkdWamRHOXlRV3hzSWl3aVltOWtlU0lzSW1obFlXUmxjaUlzSW0xaGFXNWpiMjUwWlc1MElpd2labTl2ZEdWeUlpd2lYMlYyWlc1MGN5SXNJbUZrWkVWMlpXNTBUR2x6ZEdWdVpYSWlMQ0pqYkdGemMweHBjM1FpTENKaFpHUWlMQ0owYVcxbGIzVjBJaXdpYVNJc0luTmxkRlJwYldWdmRYUWlMQ0pzWlc1bmRHZ2lMQ0psSWl3aWRHRnlaMlYwSWl3aVkzVnljbVZ1ZEZSaGNtZGxkQ0lzSW5KbGJXOTJaU0pkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096dEpRVUZ4UWtFc1ZUdEJRVU5zUWl4NVFrRkJZenRCUVVGQk96dEJRVU5ZTzBGQlEwRXNWMEZCUzBNc1IwRkJUQ3hIUVVGWFF5eFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xHRkJRWFpDTEVOQlFWZzdRVUZEUVN4WFFVRkxReXhQUVVGTUxFZEJRV1ZHTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzT0VKQlFYWkNMRU5CUVdZN1FVRkRRU3hYUVVGTFJTeFBRVUZNTEVkQlFXVklMRk5CUVZOSkxHZENRVUZVTEVOQlFUQkNMRGhDUVVFeFFpeERRVUZtTzBGQlEwRXNWMEZCUzBNc1NVRkJUQ3hIUVVGWlRDeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xFMUJRWFpDTEVOQlFWbzdRVUZEUVN4WFFVRkxTeXhOUVVGTUxFZEJRV05PTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzVTBGQmRrSXNRMEZCWkR0QlFVTkJMRmRCUVV0TkxGZEJRVXdzUjBGQmJVSlFMRk5CUVZORExHRkJRVlFzUTBGQmRVSXNZMEZCZGtJc1EwRkJia0k3UVVGRFFTeFhRVUZMVHl4TlFVRk1MRWRCUVdOU0xGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc1UwRkJka0lzUTBGQlpEczdRVUZGUVR0QlFVTkJMRmRCUVV0UkxFOUJRVXc3UVVGRFJqczdPenRuUTBGRlV6dEJRVUZCT3p0QlFVTlFMR05CUVV0V0xFZEJRVXdzUTBGQlUxY3NaMEpCUVZRc1EwRkJNRUlzVDBGQk1VSXNSVUZCYlVNc1dVRkJUVHRCUVVOMFF5eHJRa0ZCUzFJc1QwRkJUQ3hEUVVGaFV5eFRRVUZpTEVOQlFYVkNReXhIUVVGMlFpeERRVUV5UWl4cFEwRkJNMEk3TzBGQlJVRXNaMEpCUVVsRExGVkJRVlVzUlVGQlpEczdRVUZJYzBNc2RVTkJTVGRDUXl4RFFVbzJRanM3UVVGTmJrTkRMREJDUVVGWExGbEJRVTA3UVVGRFpDeDNRa0ZCUzFvc1QwRkJUQ3hEUVVGaFZ5eERRVUZpTEVWQlFXZENTQ3hUUVVGb1FpeERRVUV3UWtNc1IwRkJNVUlzUTBGQk9FSXNhVU5CUVRsQ08wRkJRMFlzWjBKQlJrUXNSVUZGUjBNc1QwRkdTRHM3UVVGSlFVRXNNRUpCUVZjc1JVRkJXRHRCUVZadFF6czdRVUZKZEVNc2FVSkJRVXNzU1VGQlNVTXNTVUZCU1N4RFFVRmlMRVZCUVdkQ1FTeEpRVUZKTEUxQlFVdFlMRTlCUVV3c1EwRkJZV0VzVFVGQmFrTXNSVUZCZVVOR0xFZEJRWHBETEVWQlFUaERPMEZCUVVFc2NVSkJRWEpEUVN4RFFVRnhRenRCUVU4M1F6czdRVUZGUkN4clFrRkJTMVFzU1VGQlRDeERRVUZWVFN4VFFVRldMRU5CUVc5Q1F5eEhRVUZ3UWl4RFFVRjNRaXhwUWtGQmVFSTdRVUZEUVN4clFrRkJTMDRzVFVGQlRDeERRVUZaU3l4VFFVRmFMRU5CUVhOQ1F5eEhRVUYwUWl4RFFVRXdRaXhOUVVFeFFqdEJRVU5CTEd0Q1FVRkxUQ3hYUVVGTUxFTkJRV2xDU1N4VFFVRnFRaXhEUVVFeVFrTXNSMEZCTTBJc1EwRkJLMElzVFVGQkwwSTdRVUZEUVN4clFrRkJTMG9zVFVGQlRDeERRVUZaUnl4VFFVRmFMRU5CUVhOQ1F5eEhRVUYwUWl4RFFVRXdRaXhOUVVFeFFqdEJRVU5HTEZWQmFrSkVPenRCUVcxQ1FTeGpRVUZMVml4UFFVRk1MRU5CUVdGUkxHZENRVUZpTEVOQlFUaENMRTlCUVRsQ0xFVkJRWFZETEdGQlFVczdRVUZEZWtNc1owSkJRVWxQTEVWQlFVVkRMRTFCUVVZc1MwRkJZVVFzUlVGQlJVVXNZVUZCYmtJc1JVRkJhME03UVVGREwwSXNjVUpCUVV0cVFpeFBRVUZNTEVOQlFXRlRMRk5CUVdJc1EwRkJkVUpUTEUxQlFYWkNMRU5CUVRoQ0xHbERRVUU1UWpzN1FVRkZRU3h2UWtGQlN5eEpRVUZKVGl4SlFVRkpMRU5CUVdJc1JVRkJaMEpCTEVsQlFVa3NUVUZCUzFnc1QwRkJUQ3hEUVVGaFlTeE5RVUZxUXl4RlFVRjVRMFlzUjBGQmVrTXNSVUZCT0VNN1FVRkRNME1zZDBKQlFVdFlMRTlCUVV3c1EwRkJZVmNzUTBGQllpeEZRVUZuUWtnc1UwRkJhRUlzUTBGQk1FSlRMRTFCUVRGQ0xFTkJRV2xETEdsRFFVRnFRenRCUVVOR096dEJRVVZFTEhGQ1FVRkxaaXhKUVVGTUxFTkJRVlZOTEZOQlFWWXNRMEZCYjBKVExFMUJRWEJDTEVOQlFUSkNMR2xDUVVFelFqdEJRVU5CTEhGQ1FVRkxaQ3hOUVVGTUxFTkJRVmxMTEZOQlFWb3NRMEZCYzBKVExFMUJRWFJDTEVOQlFUWkNMRTFCUVRkQ08wRkJRMEVzY1VKQlFVdGlMRmRCUVV3c1EwRkJhVUpKTEZOQlFXcENMRU5CUVRKQ1V5eE5RVUV6UWl4RFFVRnJReXhOUVVGc1F6dEJRVU5CTEhGQ1FVRkxXaXhOUVVGTUxFTkJRVmxITEZOQlFWb3NRMEZCYzBKVExFMUJRWFJDTEVOQlFUWkNMRTFCUVRkQ08wRkJRMFk3UVVGRFNDeFZRV0pFTzBGQlkwWTdPenM3T3p0clFrRnFSR2xDZEVJc1ZUdEJRV3RFY0VJaUxDSm1hV3hsSWpvaVgySjFjbWRsY2kxdFpXNTFMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVpYaHdiM0owSUdSbFptRjFiSFFnWTJ4aGMzTWdRblZ5WjJWeVRXVnVkU0I3WEhKY2JpQWdJR052Ym5OMGNuVmpkRzl5S0NrZ2UxeHlYRzRnSUNBZ0lDQXZMeUJFVDAxY2NseHVJQ0FnSUNBZ2RHaHBjeTVpZEc0Z1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVluVnlaMlZ5TFdKMGJpY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtNWhka3hwYzNRZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVptbDRaV1F0Ym1GMklDNW9aV0ZrWlhJdGJtRjJYMTlzYVhOMEp5azdYSEpjYmlBZ0lDQWdJSFJvYVhNdWJtRjJTWFJsYlNBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0pCYkd3b0p5NW1hWGhsWkMxdVlYWWdMbWhsWVdSbGNpMXVZWFpmWDJsMFpXMG5LVHRjY2x4dUlDQWdJQ0FnZEdocGN5NWliMlI1SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZjaWduWW05a2VTY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtaGxZV1JsY2lBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1b1pXRmtaWEluS1R0Y2NseHVJQ0FnSUNBZ2RHaHBjeTV0WVdsdVkyOXVkR1Z1ZENBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1dFlXbHVZMjl1ZEdWdWRDY3BPMXh5WEc0Z0lDQWdJQ0IwYUdsekxtWnZiM1JsY2lBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1bWIyOTBaWEluS1R0Y2NseHVYSEpjYmlBZ0lDQWdJQzh2SUNCbGRtVnVkSE5jY2x4dUlDQWdJQ0FnZEdocGN5NWZaWFpsYm5SektDazdYSEpjYmlBZ0lIMWNjbHh1WEhKY2JpQWdJRjlsZG1WdWRITW9LU0I3WEhKY2JpQWdJQ0FnSUhSb2FYTXVZblJ1TG1Ga1pFVjJaVzUwVEdsemRHVnVaWElvSjJOc2FXTnJKeXdnS0NrZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNCMGFHbHpMbTVoZGt4cGMzUXVZMnhoYzNOTWFYTjBMbUZrWkNnbmFHVmhaR1Z5TFc1aGRsOWZiR2x6ZEMwdFluVnlaMlZ5TFdGamRHbDJaU2NwTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQ0FnYkdWMElIUnBiV1Z2ZFhRZ1BTQTFNRHRjY2x4dUlDQWdJQ0FnSUNBZ1ptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQjBhR2x6TG01aGRrbDBaVzB1YkdWdVozUm9PeUJwS3lzcElIdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSE5sZEZScGJXVnZkWFFvS0NrZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtNWhka2wwWlcxYmFWMHVZMnhoYzNOTWFYTjBMbUZrWkNnbmFHVmhaR1Z5TFc1aGRsOWZhWFJsYlMwdFluVnlaMlZ5TFdGamRHbDJaU2NwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5TENCMGFXMWxiM1YwS1R0Y2NseHVYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUnBiV1Z2ZFhRZ0t6MGdOVEE3WEhKY2JpQWdJQ0FnSUNBZ0lIMDdYSEpjYmx4eVhHNGdJQ0FnSUNBZ0lDQjBhR2x6TG1KdlpIa3VZMnhoYzNOTWFYTjBMbUZrWkNnbmIzWmxjbVpzYjNjdGFHbGtaR1Z1SnlrN1hISmNiaUFnSUNBZ0lDQWdJSFJvYVhNdWFHVmhaR1Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdJQ0FnZEdocGN5NXRZV2x1WTI5dWRHVnVkQzVqYkdGemMweHBjM1F1WVdSa0tDZGliSFZ5SnlrN1hISmNiaUFnSUNBZ0lDQWdJSFJvYVhNdVptOXZkR1Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdmU2s3WEhKY2JseHlYRzRnSUNBZ0lDQjBhR2x6TG01aGRreHBjM1F1WVdSa1JYWmxiblJNYVhOMFpXNWxjaWduWTJ4cFkyc25MQ0JsSUQwK0lIdGNjbHh1SUNBZ0lDQWdJQ0FnYVdZZ0tHVXVkR0Z5WjJWMElEMDlQU0JsTG1OMWNuSmxiblJVWVhKblpYUXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1dVlYWk1hWE4wTG1Oc1lYTnpUR2x6ZEM1eVpXMXZkbVVvSjJobFlXUmxjaTF1WVhaZlgyeHBjM1F0TFdKMWNtZGxjaTFoWTNScGRtVW5LVHRjY2x4dVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdadmNpQW9iR1YwSUdrZ1BTQXdPeUJwSUR3Z2RHaHBjeTV1WVhaSmRHVnRMbXhsYm1kMGFEc2dhU3NyS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11Ym1GMlNYUmxiVnRwWFM1amJHRnpjMHhwYzNRdWNtVnRiM1psS0Nkb1pXRmtaWEl0Ym1GMlgxOXBkR1Z0TFMxaWRYSm5aWEl0WVdOMGFYWmxKeWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSDA3WEhKY2JseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbUp2WkhrdVkyeGhjM05NYVhOMExuSmxiVzkyWlNnbmIzWmxjbVpzYjNjdGFHbGtaR1Z1SnlrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVhR1ZoWkdWeUxtTnNZWE56VEdsemRDNXlaVzF2ZG1Vb0oySnNkWEluS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NXRZV2x1WTI5dWRHVnVkQzVqYkdGemMweHBjM1F1Y21WdGIzWmxLQ2RpYkhWeUp5azdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11Wm05dmRHVnlMbU5zWVhOelRHbHpkQzV5WlcxdmRtVW9KMkpzZFhJbktUdGNjbHh1SUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNCOUtUdGNjbHh1SUNBZ2ZWeHlYRzU5T3lKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRml4ZWRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICBmdW5jdGlvbiBGaXhlZEhlYWRlcigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaXhlZEhlYWRlcik7XG5cbiAgICAgIC8vIERPTVxuICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tLWhlYWRlcicpO1xuXG4gICAgICAvLyBBZGRpdGlvbmFsIFZhcnNcbiAgICAgIHRoaXMub2Zmc2V0ID0gMTAwMDtcblxuICAgICAgLy8gIGV2ZW50c1xuICAgICAgdGhpcy5fZXZlbnRzKCk7XG4gICB9XG5cbiAgIF9jcmVhdGVDbGFzcyhGaXhlZEhlYWRlciwgW3tcbiAgICAgIGtleTogJ19ldmVudHMnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG4gICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiBfdGhpcy5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgICAgICAgICBfdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnYm90dG9tLWhlYWRlci0tZml4ZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gX3RoaXMub2Zmc2V0IC8gMyAqIDIpIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTAwJSknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIF90aGlzLmhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b20taGVhZGVyLS1maXhlZCcpO1xuICAgICAgICAgICAgICAgX3RoaXMuaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgfV0pO1xuXG4gICByZXR1cm4gRml4ZWRIZWFkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpeGVkSGVhZGVyO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5bWFYaGxaQzFvWldGa1pYSXVhbk1pWFN3aWJtRnRaWE1pT2xzaVJtbDRaV1JJWldGa1pYSWlMQ0pvWldGa1pYSWlMQ0prYjJOMWJXVnVkQ0lzSW5GMVpYSjVVMlZzWldOMGIzSWlMQ0p2Wm1aelpYUWlMQ0pmWlhabGJuUnpJaXdpZDJsdVpHOTNJaXdpWVdSa1JYWmxiblJNYVhOMFpXNWxjaUlzSW5CaFoyVlpUMlptYzJWMElpd2ljM1I1YkdVaUxDSjBjbUZ1YzJadmNtMGlMQ0pqYkdGemMweHBjM1FpTENKaFpHUWlMQ0p5WlcxdmRtVWlYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN1NVRkJjVUpCTEZjN1FVRkRiRUlzTUVKQlFXTTdRVUZCUVRzN1FVRkRXRHRCUVVOQkxGZEJRVXRETEUxQlFVd3NSMEZCWTBNc1UwRkJVME1zWVVGQlZDeERRVUYxUWl4blFrRkJka0lzUTBGQlpEczdRVUZGUVR0QlFVTkJMRmRCUVV0RExFMUJRVXdzUjBGQll5eEpRVUZrT3p0QlFVVkJPMEZCUTBFc1YwRkJTME1zVDBGQlREdEJRVU5HT3pzN08yZERRVVZUTzBGQlFVRTdPMEZCUTFCRExHZENRVUZQUXl4blFrRkJVQ3hEUVVGM1FpeFJRVUY0UWl4RlFVRnJReXhoUVVGTE8wRkJRM0JETEdkQ1FVRkpSQ3hQUVVGUFJTeFhRVUZRTEVkQlFYRkNMRTFCUVV0S0xFMUJRVGxDTEVWQlFYTkRPMEZCUTI1RExIRkNRVUZMU0N4TlFVRk1MRU5CUVZsUkxFdEJRVm9zUTBGQmEwSkRMRk5CUVd4Q0xFZEJRVGhDTEdWQlFUbENPMEZCUTBFc2NVSkJRVXRVTEUxQlFVd3NRMEZCV1ZVc1UwRkJXaXhEUVVGelFrTXNSMEZCZEVJc1EwRkJNRUlzYzBKQlFURkNPMEZCUTBZc1lVRklSQ3hOUVVkUExFbEJRVWxPTEU5QlFVOUZMRmRCUVZBc1IwRkJjMElzVFVGQlMwb3NUVUZCVEN4SFFVRmpMRU5CUVdZc1IwRkJiMElzUTBGQk4wTXNSVUZCWjBRN1FVRkRjRVFzY1VKQlFVdElMRTFCUVV3c1EwRkJXVkVzUzBGQldpeERRVUZyUWtNc1UwRkJiRUlzUjBGQk9FSXNiVUpCUVRsQ08wRkJRMFlzWVVGR1RTeE5RVVZCTzBGQlEwb3NjVUpCUVV0VUxFMUJRVXdzUTBGQldWVXNVMEZCV2l4RFFVRnpRa1VzVFVGQmRFSXNRMEZCTmtJc2MwSkJRVGRDTzBGQlEwRXNjVUpCUVV0YUxFMUJRVXdzUTBGQldWRXNTMEZCV2l4RFFVRnJRa01zVTBGQmJFSXNSMEZCT0VJc1pVRkJPVUk3UVVGRFJqdEJRVU5JTEZWQlZrUTdRVUZYUmpzN096czdPMnRDUVhoQ2FVSldMRmM3UVVGNVFuQkNJaXdpWm1sc1pTSTZJbDltYVhobFpDMW9aV0ZrWlhJdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCR2FYaGxaRWhsWVdSbGNpQjdYSEpjYmlBZ0lHTnZibk4wY25WamRHOXlLQ2tnZTF4eVhHNGdJQ0FnSUNBdkx5QkVUMDFjY2x4dUlDQWdJQ0FnZEdocGN5NW9aV0ZrWlhJZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdVltOTBkRzl0TFdobFlXUmxjaWNwTzF4eVhHNWNjbHh1SUNBZ0lDQWdMeThnUVdSa2FYUnBiMjVoYkNCV1lYSnpYSEpjYmlBZ0lDQWdJSFJvYVhNdWIyWm1jMlYwSUQwZ01UQXdNRHRjY2x4dVhISmNiaUFnSUNBZ0lDOHZJQ0JsZG1WdWRITmNjbHh1SUNBZ0lDQWdkR2hwY3k1ZlpYWmxiblJ6S0NrN1hISmNiaUFnSUgxY2NseHVYSEpjYmlBZ0lGOWxkbVZ1ZEhNb0tTQjdYSEpjYmlBZ0lDQWdJSGRwYm1SdmR5NWhaR1JGZG1WdWRFeHBjM1JsYm1WeUtDZHpZM0p2Ykd3bkxDQmxJRDArSUh0Y2NseHVJQ0FnSUNBZ0lDQWdhV1lnS0hkcGJtUnZkeTV3WVdkbFdVOW1abk5sZENBK0lIUm9hWE11YjJabWMyVjBLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWFHVmhaR1Z5TG5OMGVXeGxMblJ5WVc1elptOXliU0E5SUNkMGNtRnVjMnhoZEdWWktEQXBKenRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1b1pXRmtaWEl1WTJ4aGMzTk1hWE4wTG1Ga1pDZ25ZbTkwZEc5dExXaGxZV1JsY2kwdFptbDRaV1FuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2gzYVc1a2IzY3VjR0ZuWlZsUFptWnpaWFFnUGlBb2RHaHBjeTV2Wm1aelpYUWdMeUF6S1NBcUlESXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1b1pXRmtaWEl1YzNSNWJHVXVkSEpoYm5ObWIzSnRJRDBnSjNSeVlXNXpiR0YwWlZrb0xURXdNQ1VwSnp0Y2NseHVJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVvWldGa1pYSXVZMnhoYzNOTWFYTjBMbkpsYlc5MlpTZ25ZbTkwZEc5dExXaGxZV1JsY2kwdFptbDRaV1FuS1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NW9aV0ZrWlhJdWMzUjViR1V1ZEhKaGJuTm1iM0p0SUQwZ0ozUnlZVzV6YkdGMFpWa29NQ2tuTzF4eVhHNGdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJSDBwTzF4eVhHNGdJQ0I5WEhKY2JuMDdJbDE5IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBQcm9kdWN0SXRlbXNFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvZHVjdEl0ZW1zRXZlbnRzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvZHVjdEl0ZW1zRXZlbnRzKTtcblxuICAgICAgICAvLyBET01cbiAgICAgICAgdGhpcy5pdGVtc1dyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVhdXR1cmUtcHJvZHVjdCcpO1xuICAgICAgICB0aGlzLmJhc2tldFRvdGFsUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLXRvdGFsLXByaWNlJyk7XG4gICAgICAgIHRoaXMuYmFza2V0UXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX2J1dHRvbi1xdHktLWJhc2tldCcpO1xuICAgICAgICB0aGlzLmhlYXJ0c1F0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19idXR0b24tcXR5LS1oZWFydCcpO1xuICAgICAgICB0aGlzLmltYWdlWm9vbUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0tem9vbScpO1xuICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1nLXpvb20td2luZG93X19pbWcnKTtcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIFZhcnNcbiAgICAgICAgdGhpcy50b3RhbFByaWNlID0gMDtcbiAgICAgICAgdGhpcy50b3RhbFF0eSA9IDA7XG4gICAgICAgIHRoaXMudG90YWxMaWtlcyA9IDA7XG5cbiAgICAgICAgLy8gIGV2ZW50c1xuICAgICAgICB0aGlzLl9ldmVudHMoKTtcbiAgICAgICAgdGhpcy5fbG9hZEJhc2tldEZyb21Mb2NhbFN0b3JlZ2UoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUHJvZHVjdEl0ZW1zRXZlbnRzLCBbe1xuICAgICAgICBrZXk6ICdfZXZlbnRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ldmVudHMoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zV3JhcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FkZFRvQmFza2V0KGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9saWtlKGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl96b29tQnRuKGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9zdGFycyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfYWRkVG9CYXNrZXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFRvQmFza2V0KGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQucHJpY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVByaWNlID0gZS50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByaWNlO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxQcmljZSArPSAraXRlbVByaWNlO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxRdHkrKztcblxuICAgICAgICAgICAgICAgIHRoaXMuYmFza2V0VG90YWxQcmljZS50ZXh0Q29udGVudCA9ICckJyArIHRoaXMudG90YWxQcmljZTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2tldFF0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxRdHk7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFza2V0VG90YWxQcmljZScsIHRoaXMudG90YWxQcmljZSk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jhc2tldFF0eScsIHRoaXMudG90YWxRdHkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX2xvYWRCYXNrZXRGcm9tTG9jYWxTdG9yZWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2FkQmFza2V0RnJvbUxvY2FsU3RvcmVnZSgpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFza2V0VG90YWxQcmljZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFByaWNlID0gK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYXNrZXRUb3RhbFByaWNlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNrZXRUb3RhbFByaWNlLnRleHRDb250ZW50ID0gdGhpcy50b3RhbFByaWNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jhc2tldFF0eScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFF0eSA9ICtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFza2V0UXR5Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNrZXRRdHkudGV4dENvbnRlbnQgPSB0aGlzLnRvdGFsUXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfbGlrZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbGlrZShlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS1oZWFydCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0X19kZXRhaWxzLWJ1dHRvbi0taGVhcnQtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxMaWtlcy0tO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0c1F0eS50ZXh0Q29udGVudCA9IHRoaXMudG90YWxMaWtlcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3RfX2RldGFpbHMtYnV0dG9uLS1oZWFydC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbExpa2VzKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhcnRzUXR5LnRleHRDb250ZW50ID0gdGhpcy50b3RhbExpa2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ196b29tQnRuJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF96b29tQnRuKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fZGV0YWlscy1idXR0b24tLXpvb20nKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbWdTcmMgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQuc3JjO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbWdab29tV2luZG93LnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nU3JjKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbWctem9vbS13aW5kb3ctLWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmltZ1pvb21XaW5kb3cucGFyZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdpbWctem9vbS13aW5kb3ctLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfc3RhcnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3N0YXJzKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbicpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFN0YXIgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRhcmdldFN0YXIuY2xhc3NMaXN0LmFkZCgncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbi0tYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U3Rhci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIHRhcmdldFN0YXIucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3RfX3JhdGluZy1idXR0b24tLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNsYXNzRm9yUHJldmlvdXNTdGFycyh0YXJnZXRTdGFyLCAncHJvZHVjdF9fcmF0aW5nLWJ1dHRvbi0tYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENsYXNzRm9yTmV4dFN0YXJzKHRhcmdldFN0YXIsICdwcm9kdWN0X19yYXRpbmctYnV0dG9uLS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX2FkZENsYXNzRm9yTmV4dFN0YXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRDbGFzc0Zvck5leHRTdGFycyhlbGVtLCBhY3RpdmVDbGFzcykge1xuICAgICAgICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfcmVtb3ZlQ2xhc3NGb3JQcmV2aW91c1N0YXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVDbGFzc0ZvclByZXZpb3VzU3RhcnMoZWxlbSwgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9IHdoaWxlIChlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhhY3RpdmVDbGFzcykpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFByb2R1Y3RJdGVtc0V2ZW50cztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJvZHVjdEl0ZW1zRXZlbnRzO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5d2NtOWtkV04wTFdsMFpXMXpMV1YyWlc1MGN5NXFjeUpkTENKdVlXMWxjeUk2V3lKUWNtOWtkV04wU1hSbGJYTkZkbVZ1ZEhNaUxDSnBkR1Z0YzFkeVlYQWlMQ0prYjJOMWJXVnVkQ0lzSW5GMVpYSjVVMlZzWldOMGIzSWlMQ0ppWVhOclpYUlViM1JoYkZCeWFXTmxJaXdpWW1GemEyVjBVWFI1SWl3aWFHVmhjblJ6VVhSNUlpd2lhVzFoWjJWYWIyOXRRblJ1SWl3aWFXMW5XbTl2YlZkcGJtUnZkeUlzSW5SdmRHRnNVSEpwWTJVaUxDSjBiM1JoYkZGMGVTSXNJblJ2ZEdGc1RHbHJaWE1pTENKZlpYWmxiblJ6SWl3aVgyeHZZV1JDWVhOclpYUkdjbTl0VEc5allXeFRkRzl5WldkbElpd2lZV1JrUlhabGJuUk1hWE4wWlc1bGNpSXNJbVVpTENKZllXUmtWRzlDWVhOclpYUWlMQ0pmYkdsclpTSXNJbDk2YjI5dFFuUnVJaXdpWDNOMFlYSnpJaXdpZEdGeVoyVjBJaXdpY0dGeVpXNTBSV3hsYldWdWRDSXNJbVJoZEdGelpYUWlMQ0p3Y21salpTSXNJbWwwWlcxUWNtbGpaU0lzSW5SbGVIUkRiMjUwWlc1MElpd2liRzlqWVd4VGRHOXlZV2RsSWl3aWMyVjBTWFJsYlNJc0ltZGxkRWwwWlcwaUxDSmpiR0Z6YzB4cGMzUWlMQ0pqYjI1MFlXbHVjeUlzSW5KbGJXOTJaU0lzSW1Ga1pDSXNJbWx0WjFOeVl5SXNJbk55WXlJc0luTmxkRUYwZEhKcFluVjBaU0lzSW1OMWNuSmxiblJVWVhKblpYUWlMQ0owWVhKblpYUlRkR0Z5SWl3aWNISmxkbWx2ZFhORmJHVnRaVzUwVTJsaWJHbHVaeUlzSWw5eVpXMXZkbVZEYkdGemMwWnZjbEJ5WlhacGIzVnpVM1JoY25NaUxDSmZZV1JrUTJ4aGMzTkdiM0pPWlhoMFUzUmhjbk1pTENKbGJHVnRJaXdpWVdOMGFYWmxRMnhoYzNNaUxDSnVaWGgwUld4bGJXVnVkRk5wWW14cGJtY2lYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN1NVRkJjVUpCTEd0Q08wRkJRMnhDTEd0RFFVRmpPMEZCUVVFN08wRkJSVlk3UVVGRFFTeGhRVUZMUXl4VFFVRk1MRWRCUVdsQ1F5eFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xHMUNRVUYyUWl4RFFVRnFRanRCUVVOQkxHRkJRVXRETEdkQ1FVRk1MRWRCUVhkQ1JpeFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xHbERRVUYyUWl4RFFVRjRRanRCUVVOQkxHRkJRVXRGTEZOQlFVd3NSMEZCYVVKSUxGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc2FVTkJRWFpDTEVOQlFXcENPMEZCUTBFc1lVRkJTMGNzVTBGQlRDeEhRVUZwUWtvc1UwRkJVME1zWVVGQlZDeERRVUYxUWl4blEwRkJka0lzUTBGQmFrSTdRVUZEUVN4aFFVRkxTU3haUVVGTUxFZEJRVzlDVEN4VFFVRlRReXhoUVVGVUxFTkJRWFZDTEdkRFFVRjJRaXhEUVVGd1FqdEJRVU5CTEdGQlFVdExMR0ZCUVV3c1IwRkJjVUpPTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzZFVKQlFYWkNMRU5CUVhKQ096dEJRVVZCTzBGQlEwRXNZVUZCUzAwc1ZVRkJUQ3hIUVVGclFpeERRVUZzUWp0QlFVTkJMR0ZCUVV0RExGRkJRVXdzUjBGQlowSXNRMEZCYUVJN1FVRkRRU3hoUVVGTFF5eFZRVUZNTEVkQlFXdENMRU5CUVd4Q096dEJRVVZCTzBGQlEwRXNZVUZCUzBNc1QwRkJURHRCUVVOQkxHRkJRVXRETERKQ1FVRk1PMEZCUTBnN096czdhME5CUlZNN1FVRkJRVHM3UVVGRFRpeHBRa0ZCUzFvc1UwRkJUQ3hEUVVGbFlTeG5Ra0ZCWml4RFFVRm5ReXhQUVVGb1F5eEZRVUY1UXl4VlFVRkRReXhEUVVGRUxFVkJRVTg3UVVGRE5VTXNjMEpCUVV0RExGbEJRVXdzUTBGQmEwSkVMRU5CUVd4Q08wRkJRMEVzYzBKQlFVMUZMRXRCUVU0c1EwRkJXVVlzUTBGQldqdEJRVU5CTEhOQ1FVRkxSeXhSUVVGTUxFTkJRV05JTEVOQlFXUTdRVUZEUVN4elFrRkJTMGtzVFVGQlRDeERRVUZaU2l4RFFVRmFPMEZCUTBnc1lVRk1SRHRCUVUxSU96czdjVU5CUlZsQkxFTXNSVUZCUnp0QlFVTmFMR2RDUVVGSlFTeEZRVUZGU3l4TlFVRkdMRU5CUVZORExHRkJRVlFzUTBGQmRVSkRMRTlCUVhaQ0xFTkJRU3RDUXl4TFFVRnVReXhGUVVFd1F6dEJRVU4wUXl4dlFrRkJTVU1zV1VGQldWUXNSVUZCUlVzc1RVRkJSaXhEUVVGVFF5eGhRVUZVTEVOQlFYVkNReXhQUVVGMlFpeERRVUVyUWtNc1MwRkJMME03UVVGRFFTeHhRa0ZCUzJRc1ZVRkJUQ3hKUVVGdFFpeERRVUZEWlN4VFFVRndRanRCUVVOQkxIRkNRVUZMWkN4UlFVRk1PenRCUVVWQkxIRkNRVUZMVGl4blFrRkJUQ3hEUVVGelFuRkNMRmRCUVhSQ0xFZEJRVzlETEUxQlFVMHNTMEZCUzJoQ0xGVkJRUzlETzBGQlEwRXNjVUpCUVV0S0xGTkJRVXdzUTBGQlpXOUNMRmRCUVdZc1IwRkJOa0lzUzBGQlMyWXNVVUZCYkVNN08wRkJSVUZuUWl3MlFrRkJZVU1zVDBGQllpeERRVUZ4UWl4clFrRkJja0lzUlVGQmVVTXNTMEZCUzJ4Q0xGVkJRVGxETzBGQlEwRnBRaXcyUWtGQllVTXNUMEZCWWl4RFFVRnhRaXhYUVVGeVFpeEZRVUZyUXl4TFFVRkxha0lzVVVGQmRrTTdRVUZEU0R0QlFVTktPenM3YzBSQlJUaENPMEZCUXpGQ0xHZENRVUZKWjBJc1lVRkJZVVVzVDBGQllpeERRVUZ4UWl4clFrRkJja0lzUTBGQlNpeEZRVUU0UXp0QlFVTXhReXh4UWtGQlMyNUNMRlZCUVV3c1IwRkJhMElzUTBGQlEybENMR0ZCUVdGRkxFOUJRV0lzUTBGQmNVSXNhMEpCUVhKQ0xFTkJRVzVDTzBGQlEwRXNjVUpCUVV0NFFpeG5Ra0ZCVEN4RFFVRnpRbkZDTEZkQlFYUkNMRWRCUVc5RExFdEJRVXRvUWl4VlFVRjZRenRCUVVOSU96dEJRVVZFTEdkQ1FVRkphVUlzWVVGQllVVXNUMEZCWWl4RFFVRnhRaXhYUVVGeVFpeERRVUZLTEVWQlFYVkRPMEZCUTI1RExIRkNRVUZMYkVJc1VVRkJUQ3hIUVVGblFpeERRVUZEWjBJc1lVRkJZVVVzVDBGQllpeERRVUZ4UWl4WFFVRnlRaXhEUVVGcVFqdEJRVU5CTEhGQ1FVRkxka0lzVTBGQlRDeERRVUZsYjBJc1YwRkJaaXhIUVVFMlFpeExRVUZMWml4UlFVRnNRenRCUVVOSU8wRkJRMG83T3pzNFFrRkZTVXNzUXl4RlFVRkhPMEZCUTB3c1owSkJRVWxCTEVWQlFVVkxMRTFCUVVZc1EwRkJVME1zWVVGQlZDeERRVUYxUWxFc1UwRkJka0lzUTBGQmFVTkRMRkZCUVdwRExFTkJRVEJETEdkRFFVRXhReXhEUVVGS0xFVkJRV2xHTzBGQlF6ZEZMRzlDUVVGSlppeEZRVUZGU3l4TlFVRkdMRU5CUVZORExHRkJRVlFzUTBGQmRVSlJMRk5CUVhaQ0xFTkJRV2xEUXl4UlFVRnFReXhEUVVFd1F5eDFRMEZCTVVNc1EwRkJTaXhGUVVGM1JqdEJRVU53Um1Zc2MwSkJRVVZMTEUxQlFVWXNRMEZCVTBNc1lVRkJWQ3hEUVVGMVFsRXNVMEZCZGtJc1EwRkJhVU5GTEUxQlFXcERMRU5CUVhkRExIVkRRVUY0UXp0QlFVTkJMSGxDUVVGTGNFSXNWVUZCVER0QlFVTkJMSGxDUVVGTFRDeFRRVUZNTEVOQlFXVnRRaXhYUVVGbUxFZEJRVFpDTEV0QlFVdGtMRlZCUVd4RE8wRkJRMGdzYVVKQlNrUXNUVUZKVHp0QlFVTklTU3h6UWtGQlJVc3NUVUZCUml4RFFVRlRReXhoUVVGVUxFTkJRWFZDVVN4VFFVRjJRaXhEUVVGcFEwY3NSMEZCYWtNc1EwRkJjVU1zZFVOQlFYSkRPMEZCUTBFc2VVSkJRVXR5UWl4VlFVRk1PMEZCUTBFc2VVSkJRVXRNTEZOQlFVd3NRMEZCWlcxQ0xGZEJRV1lzUjBGQk5rSXNTMEZCUzJRc1ZVRkJiRU03UVVGRFNEdEJRVU5LTzBGQlEwbzdPenRwUTBGRlVVa3NReXhGUVVGSE8wRkJRMUlzWjBKQlFVbEJMRVZCUVVWTExFMUJRVVlzUTBGQlUwTXNZVUZCVkN4RFFVRjFRbEVzVTBGQmRrSXNRMEZCYVVORExGRkJRV3BETEVOQlFUQkRMQ3RDUVVFeFF5eERRVUZLTEVWQlFXZEdPMEZCUXpWRkxHOUNRVUZKUnl4VFFVRlRiRUlzUlVGQlJVc3NUVUZCUml4RFFVRlRReXhoUVVGVUxFTkJRWFZDUXl4UFFVRjJRaXhEUVVFclFsa3NSMEZCTlVNN08wRkJSVUVzY1VKQlFVc3hRaXhoUVVGTUxFTkJRVzFDTWtJc1dVRkJia0lzUTBGQlowTXNTMEZCYUVNc1JVRkJkVU5HTEUxQlFYWkRPMEZCUTBFc2NVSkJRVXQ2UWl4aFFVRk1MRU5CUVcxQ1lTeGhRVUZ1UWl4RFFVRnBRMUVzVTBGQmFrTXNRMEZCTWtOSExFZEJRVE5ETEVOQlFTdERMSGxDUVVFdlF6dEJRVU5JT3p0QlFVVkVMR2xDUVVGTGVFSXNZVUZCVEN4RFFVRnRRbUVzWVVGQmJrSXNRMEZCYVVOUUxHZENRVUZxUXl4RFFVRnJSQ3hQUVVGc1JDeEZRVUV5UkN4aFFVRkxPMEZCUXpWRUxHOUNRVUZKUXl4RlFVRkZTeXhOUVVGT0xFVkJRV003UVVGRFZrd3NjMEpCUVVWeFFpeGhRVUZHTEVOQlFXZENVQ3hUUVVGb1FpeERRVUV3UWtVc1RVRkJNVUlzUTBGQmFVTXNlVUpCUVdwRE8wRkJRMGc3UVVGRFNpeGhRVXBFTzBGQlMwZzdPenNyUWtGRlRXaENMRU1zUlVGQlJ6dEJRVU5PTEdkQ1FVRkpRU3hGUVVGRlN5eE5RVUZHTEVOQlFWTkRMR0ZCUVZRc1EwRkJkVUpSTEZOQlFYWkNMRU5CUVdsRFF5eFJRVUZxUXl4RFFVRXdReXgzUWtGQk1VTXNRMEZCU2l4RlFVRjVSVHRCUVVOeVJTeHZRa0ZCU1U4c1lVRkJZWFJDTEVWQlFVVkxMRTFCUVVZc1EwRkJVME1zWVVGQk1VSTdRVUZEUVdkQ0xESkNRVUZYVWl4VFFVRllMRU5CUVhGQ1J5eEhRVUZ5UWl4RFFVRjVRaXhuUTBGQmVrSTdPMEZCUlVFc2IwSkJRVWxMTEZkQlFWZERMSE5DUVVGWUxFbEJRWEZEUkN4WFFVRlhReXh6UWtGQldDeERRVUZyUTFRc1UwRkJiRU1zUTBGQk5FTkRMRkZCUVRWRExFTkJRWEZFTEdkRFFVRnlSQ3hEUVVGNlF5eEZRVUZuU1R0QlFVTTFTQ3g1UWtGQlMxTXNORUpCUVV3c1EwRkJhME5HTEZWQlFXeERMRVZCUVRoRExHZERRVUU1UXp0QlFVTklPenRCUVVWRUxIRkNRVUZMUnl4eFFrRkJUQ3hEUVVFeVFrZ3NWVUZCTTBJc1JVRkJkVU1zWjBOQlFYWkRPMEZCUTBnN1FVRkRTanM3T3poRFFVVnhRa2tzU1N4RlFVRk5ReXhYTEVWQlFXRTdRVUZEY2tNc2JVSkJRVTlFTEU5QlFVOUJMRXRCUVV0RkxHdENRVUZ1UWl4RlFVRjFRenRCUVVOdVEwWXNjVUpCUVV0YUxGTkJRVXdzUTBGQlpVY3NSMEZCWml4RFFVRnRRbFVzVjBGQmJrSTdRVUZEU0R0QlFVTktPenM3Y1VSQlJUUkNSQ3hKTEVWQlFVMURMRmNzUlVGQllUdEJRVU0xUXl4bFFVRkhPMEZCUVVWRUxIVkNRVUZQUVN4TFFVRkxTQ3h6UWtGQldqdEJRVU5FUnl4eFFrRkJTMW9zVTBGQlRDeERRVUZsUlN4TlFVRm1MRU5CUVhOQ1Z5eFhRVUYwUWp0QlFVTkVMR0ZCUmtnc1VVRkZWMFFzUzBGQlMwZ3NjMEpCUVV3c1NVRkJLMEpITEV0QlFVdElMSE5DUVVGTUxFTkJRVFJDVkN4VFFVRTFRaXhEUVVGelEwTXNVVUZCZEVNc1EwRkJLME5aTEZkQlFTOURMRU5CUmpGRE8wRkJSMGc3T3pzN096dHJRa0UxUjJsQ01VTXNhMEk3UVVFMlIzQkNJaXdpWm1sc1pTSTZJbDl3Y205a2RXTjBMV2wwWlcxekxXVjJaVzUwY3k1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUZCeWIyUjFZM1JKZEdWdGMwVjJaVzUwY3lCN1hISmNiaUFnSUdOdmJuTjBjblZqZEc5eUtDa2dlMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDOHZJRVJQVFZ4eVhHNGdJQ0FnSUNBZ2RHaHBjeTVwZEdWdGMxZHlZWEFnUFNCa2IyTjFiV1Z1ZEM1eGRXVnllVk5sYkdWamRHOXlLQ2N1Wm1WaGRYUjFjbVV0Y0hKdlpIVmpkQ2NwTzF4eVhHNGdJQ0FnSUNBZ2RHaHBjeTVpWVhOclpYUlViM1JoYkZCeWFXTmxJRDBnWkc5amRXMWxiblF1Y1hWbGNubFRaV3hsWTNSdmNpZ25MblZ6WlhJdGNHRnVaV3hmWDJKMWRIUnZiaTEwYjNSaGJDMXdjbWxqWlNjcE8xeHlYRzRnSUNBZ0lDQWdkR2hwY3k1aVlYTnJaWFJSZEhrZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdWRYTmxjaTF3WVc1bGJGOWZZblYwZEc5dUxYRjBlUzB0WW1GemEyVjBKeWs3WEhKY2JpQWdJQ0FnSUNCMGFHbHpMbWhsWVhKMGMxRjBlU0E5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTUxYzJWeUxYQmhibVZzWDE5aWRYUjBiMjR0Y1hSNUxTMW9aV0Z5ZENjcE8xeHlYRzRnSUNBZ0lDQWdkR2hwY3k1cGJXRm5aVnB2YjIxQ2RHNGdQU0JrYjJOMWJXVnVkQzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3VjSEp2WkhWamRGOWZaR1YwWVdsc2N5MWlkWFIwYjI0dExYcHZiMjBuS1R0Y2NseHVJQ0FnSUNBZ0lIUm9hWE11YVcxbldtOXZiVmRwYm1SdmR5QTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNJb0p5NXBiV2N0ZW05dmJTMTNhVzVrYjNkZlgybHRaeWNwTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQzh2SUVGa1pHbDBhVzl1WVd3Z1ZtRnljMXh5WEc0Z0lDQWdJQ0FnZEdocGN5NTBiM1JoYkZCeWFXTmxJRDBnTUR0Y2NseHVJQ0FnSUNBZ0lIUm9hWE11ZEc5MFlXeFJkSGtnUFNBd08xeHlYRzRnSUNBZ0lDQWdkR2hwY3k1MGIzUmhiRXhwYTJWeklEMGdNRHRjY2x4dVhISmNiaUFnSUNBZ0lDQXZMeUFnWlhabGJuUnpYSEpjYmlBZ0lDQWdJQ0IwYUdsekxsOWxkbVZ1ZEhNb0tUdGNjbHh1SUNBZ0lDQWdJSFJvYVhNdVgyeHZZV1JDWVhOclpYUkdjbTl0VEc5allXeFRkRzl5WldkbEtDazdYSEpjYmlBZ0lIMWNjbHh1WEhKY2JpQWdJRjlsZG1WdWRITW9LU0I3WEhKY2JpQWdJQ0FnSUNCMGFHbHpMbWwwWlcxelYzSmhjQzVoWkdSRmRtVnVkRXhwYzNSbGJtVnlLQ2RqYkdsamF5Y3NJQ2hsS1NBOVBpQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVmWVdSa1ZHOUNZWE5yWlhRb1pTazdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTRnWDJ4cGEyVW9aU2s3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1ZmVtOXZiVUowYmlobEtUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbDl6ZEdGeWN5aGxLVHRjY2x4dUlDQWdJQ0FnSUgwcE8xeHlYRzRnSUNCOU8xeHlYRzVjY2x4dUlDQWdYMkZrWkZSdlFtRnphMlYwS0dVcElIdGNjbHh1SUNBZ0lDQWdJR2xtSUNobExuUmhjbWRsZEM1d1lYSmxiblJGYkdWdFpXNTBMbVJoZEdGelpYUXVjSEpwWTJVcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNCc1pYUWdhWFJsYlZCeWFXTmxJRDBnWlM1MFlYSm5aWFF1Y0dGeVpXNTBSV3hsYldWdWRDNWtZWFJoYzJWMExuQnlhV05sTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWRHOTBZV3hRY21salpTQXJQU0FyYVhSbGJWQnlhV05sTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWRHOTBZV3hSZEhrckt6dGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1aVlYTnJaWFJVYjNSaGJGQnlhV05sTG5SbGVIUkRiMjUwWlc1MElEMGdKeVFuSUNzZ2RHaHBjeTUwYjNSaGJGQnlhV05sTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVltRnphMlYwVVhSNUxuUmxlSFJEYjI1MFpXNTBJRDBnZEdocGN5NTBiM1JoYkZGMGVUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQWdiRzlqWVd4VGRHOXlZV2RsTG5ObGRFbDBaVzBvSjJKaGMydGxkRlJ2ZEdGc1VISnBZMlVuTENCMGFHbHpMblJ2ZEdGc1VISnBZMlVwTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJR3h2WTJGc1UzUnZjbUZuWlM1elpYUkpkR1Z0S0NkaVlYTnJaWFJSZEhrbkxDQjBhR2x6TG5SdmRHRnNVWFI1S1Z4eVhHNGdJQ0FnSUNBZ2ZUdGNjbHh1SUNBZ2ZUdGNjbHh1WEhKY2JpQWdJQ0JmYkc5aFpFSmhjMnRsZEVaeWIyMU1iMk5oYkZOMGIzSmxaMlVvS1NCN1hISmNiaUFnSUNBZ0lDQWdhV1lnS0d4dlkyRnNVM1J2Y21GblpTNW5aWFJKZEdWdEtDZGlZWE5yWlhSVWIzUmhiRkJ5YVdObEp5a3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1MGIzUmhiRkJ5YVdObElEMGdLMnh2WTJGc1UzUnZjbUZuWlM1blpYUkpkR1Z0S0NkaVlYTnJaWFJVYjNSaGJGQnlhV05sSnlrN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVZbUZ6YTJWMFZHOTBZV3hRY21salpTNTBaWGgwUTI5dWRHVnVkQ0E5SUhSb2FYTXVkRzkwWVd4UWNtbGpaVHRjY2x4dUlDQWdJQ0FnSUNCOVhISmNibHh5WEc0Z0lDQWdJQ0FnSUdsbUlDaHNiMk5oYkZOMGIzSmhaMlV1WjJWMFNYUmxiU2duWW1GemEyVjBVWFI1SnlrcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTUwYjNSaGJGRjBlU0E5SUN0c2IyTmhiRk4wYjNKaFoyVXVaMlYwU1hSbGJTZ25ZbUZ6YTJWMFVYUjVKeWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVltRnphMlYwVVhSNUxuUmxlSFJEYjI1MFpXNTBJRDBnZEdocGN5NTBiM1JoYkZGMGVUdGNjbHh1SUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0I5TzF4eVhHNWNjbHh1SUNBZ1gyeHBhMlVvWlNrZ2UxeHlYRzRnSUNBZ0lDQWdhV1lnS0dVdWRHRnlaMlYwTG5CaGNtVnVkRVZzWlcxbGJuUXVZMnhoYzNOTWFYTjBMbU52Ym5SaGFXNXpLQ2R3Y205a2RXTjBYMTlrWlhSaGFXeHpMV0oxZEhSdmJpMHRhR1ZoY25RbktTa2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lHbG1JQ2hsTG5SaGNtZGxkQzV3WVhKbGJuUkZiR1Z0Wlc1MExtTnNZWE56VEdsemRDNWpiMjUwWVdsdWN5Z25jSEp2WkhWamRGOWZaR1YwWVdsc2N5MWlkWFIwYjI0dExXaGxZWEowTFdGamRHbDJaU2NwS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lHVXVkR0Z5WjJWMExuQmhjbVZ1ZEVWc1pXMWxiblF1WTJ4aGMzTk1hWE4wTG5KbGJXOTJaU2duY0hKdlpIVmpkRjlmWkdWMFlXbHNjeTFpZFhSMGIyNHRMV2hsWVhKMExXRmpkR2wyWlNjcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5SdmRHRnNUR2xyWlhNdExUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1b1pXRnlkSE5SZEhrdWRHVjRkRU52Ym5SbGJuUWdQU0IwYUdsekxuUnZkR0ZzVEdsclpYTTdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1pTNTBZWEpuWlhRdWNHRnlaVzUwUld4bGJXVnVkQzVqYkdGemMweHBjM1F1WVdSa0tDZHdjbTlrZFdOMFgxOWtaWFJoYVd4ekxXSjFkSFJ2YmkwdGFHVmhjblF0WVdOMGFYWmxKeWs3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVkRzkwWVd4TWFXdGxjeXNyTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWhsWVhKMGMxRjBlUzUwWlhoMFEyOXVkR1Z1ZENBOUlIUm9hWE11ZEc5MFlXeE1hV3RsY3p0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUNCOU8xeHlYRzRnSUNCOU8xeHlYRzVjY2x4dUlDQWdYM3B2YjIxQ2RHNG9aU2tnZTF4eVhHNGdJQ0FnSUNBZ2FXWWdLR1V1ZEdGeVoyVjBMbkJoY21WdWRFVnNaVzFsYm5RdVkyeGhjM05NYVhOMExtTnZiblJoYVc1ektDZHdjbTlrZFdOMFgxOWtaWFJoYVd4ekxXSjFkSFJ2YmkwdGVtOXZiU2NwS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnYkdWMElHbHRaMU55WXlBOUlHVXVkR0Z5WjJWMExuQmhjbVZ1ZEVWc1pXMWxiblF1WkdGMFlYTmxkQzV6Y21NN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUNBZ0lIUm9hWE11YVcxbldtOXZiVmRwYm1SdmR5NXpaWFJCZEhSeWFXSjFkR1VvSjNOeVl5Y3NJR2x0WjFOeVl5azdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVwYldkYWIyOXRWMmx1Wkc5M0xuQmhjbVZ1ZEVWc1pXMWxiblF1WTJ4aGMzTk1hWE4wTG1Ga1pDZ25hVzFuTFhwdmIyMHRkMmx1Wkc5M0xTMWhZM1JwZG1VbktUdGNjbHh1SUNBZ0lDQWdJSDFjY2x4dVhISmNiaUFnSUNBZ0lDQjBhR2x6TG1sdFoxcHZiMjFYYVc1a2IzY3VjR0Z5Wlc1MFJXeGxiV1Z1ZEM1aFpHUkZkbVZ1ZEV4cGMzUmxibVZ5S0NkamJHbGpheWNzSUdVZ1BUNGdlMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lHbG1JQ2hsTG5SaGNtZGxkQ2tnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNCbExtTjFjbkpsYm5SVVlYSm5aWFF1WTJ4aGMzTk1hWE4wTG5KbGJXOTJaU2duYVcxbkxYcHZiMjB0ZDJsdVpHOTNMUzFoWTNScGRtVW5LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJQ0I5S1R0Y2NseHVJQ0FnZlR0Y2NseHVYSEpjYmlBZ0lGOXpkR0Z5Y3lobEtTQjdYSEpjYmlBZ0lDQWdJQ0JwWmlBb1pTNTBZWEpuWlhRdWNHRnlaVzUwUld4bGJXVnVkQzVqYkdGemMweHBjM1F1WTI5dWRHRnBibk1vSjNCeWIyUjFZM1JmWDNKaGRHbHVaeTFpZFhSMGIyNG5LU2tnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJR3hsZENCMFlYSm5aWFJUZEdGeUlEMGdaUzUwWVhKblpYUXVjR0Z5Wlc1MFJXeGxiV1Z1ZER0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0IwWVhKblpYUlRkR0Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KM0J5YjJSMVkzUmZYM0poZEdsdVp5MWlkWFIwYjI0dExXRmpkR2wyWlNjcE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ0lDQnBaaUFvZEdGeVoyVjBVM1JoY2k1d2NtVjJhVzkxYzBWc1pXMWxiblJUYVdKc2FXNW5JQ1ltSUhSaGNtZGxkRk4wWVhJdWNISmxkbWx2ZFhORmJHVnRaVzUwVTJsaWJHbHVaeTVqYkdGemMweHBjM1F1WTI5dWRHRnBibk1vSjNCeWIyUjFZM1JmWDNKaGRHbHVaeTFpZFhSMGIyNHRMV0ZqZEdsMlpTY3BLWHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWZjbVZ0YjNabFEyeGhjM05HYjNKUWNtVjJhVzkxYzFOMFlYSnpLSFJoY21kbGRGTjBZWElzSUNkd2NtOWtkV04wWDE5eVlYUnBibWN0WW5WMGRHOXVMUzFoWTNScGRtVW5LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQjlPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxsOWhaR1JEYkdGemMwWnZjazVsZUhSVGRHRnljeWgwWVhKblpYUlRkR0Z5TENBbmNISnZaSFZqZEY5ZmNtRjBhVzVuTFdKMWRIUnZiaTB0WVdOMGFYWmxKeWs3WEhKY2JpQWdJQ0FnSUNCOVhISmNiaUFnSUgwN1hISmNibHh5WEc0Z0lDQmZZV1JrUTJ4aGMzTkdiM0pPWlhoMFUzUmhjbk1vWld4bGJTd2dZV04wYVhabFEyeGhjM01wSUh0Y2NseHVJQ0FnSUNBZ0lIZG9hV3hsSUNobGJHVnRJRDBnWld4bGJTNXVaWGgwUld4bGJXVnVkRk5wWW14cGJtY3BJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQmxiR1Z0TG1Oc1lYTnpUR2x6ZEM1aFpHUW9ZV04wYVhabFEyeGhjM01wTzF4eVhHNGdJQ0FnSUNBZ2ZUc2dJQ0FnSUZ4eVhHNGdJQ0I5TzF4eVhHNWNjbHh1SUNBZ1gzSmxiVzkyWlVOc1lYTnpSbTl5VUhKbGRtbHZkWE5UZEdGeWN5aGxiR1Z0TENCaFkzUnBkbVZEYkdGemN5a2dlMXh5WEc0Z0lDQWdJQ0FnWkc4Z2V5QmxiR1Z0SUQwZ1pXeGxiUzV3Y21WMmFXOTFjMFZzWlcxbGJuUlRhV0pzYVc1bk8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUdWc1pXMHVZMnhoYzNOTWFYTjBMbkpsYlc5MlpTaGhZM1JwZG1WRGJHRnpjeWs3WEhKY2JpQWdJQ0FnSUNBZ0lIMGdkMmhwYkdVZ0tHVnNaVzB1Y0hKbGRtbHZkWE5GYkdWdFpXNTBVMmxpYkdsdVp5QW1KaUJsYkdWdExuQnlaWFpwYjNWelJXeGxiV1Z1ZEZOcFlteHBibWN1WTJ4aGMzTk1hWE4wTG1OdmJuUmhhVzV6S0dGamRHbDJaVU5zWVhOektTazdJQ0FnWEhKY2JpQWdJSDA3WEhKY2JuMDdJbDE5IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgIGZ1bmN0aW9uIFNlYXJjaCgpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2gpO1xuXG4gICAgICAvLyBET01cbiAgICAgIHRoaXMuc2VyY2hXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcGFuZWxfX2l0ZW0tLXNlYXJjaCcpO1xuICAgICAgdGhpcy5zZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wYW5lbF9fYnV0dG9uLS1zZWFyY2gnKTtcbiAgICAgIHRoaXMuc2VhcmNoRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLXBhbmVsX19zZWFyY2gtZm9ybScpO1xuXG4gICAgICB0aGlzLmZvcm1BY3RpdmVDbGFzcyA9ICd1c2VyLXBhbmVsX19zZWFyY2gtZm9ybS0tYWN0aXZlJztcbiAgICAgIC8vICBldmVudHNcbiAgICAgIHRoaXMuX2V2ZW50cygpO1xuICAgfVxuXG4gICBfY3JlYXRlQ2xhc3MoU2VhcmNoLCBbe1xuICAgICAga2V5OiAnX2V2ZW50cycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2V2ZW50cygpIHtcbiAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgIHRoaXMuc2VyY2hXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBfdGhpcy5zZWFyY2hCdG4gfHwgZS50YXJnZXQucGFyZW50RWxlbWVudCA9PT0gX3RoaXMuc2VhcmNoQnRuKSB7XG4gICAgICAgICAgICAgICBfdGhpcy5zZWFyY2hGb3JtLmNsYXNzTGlzdC50b2dnbGUoX3RoaXMuZm9ybUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuXG4gICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zZWFyY2hGb3JtLmNsYXNzTGlzdC5jb250YWlucyhfdGhpcy5mb3JtQWN0aXZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoRm9ybS5jbGFzc0xpc3QucmVtb3ZlKF90aGlzLmZvcm1BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgIH1dKTtcblxuICAgcmV0dXJuIFNlYXJjaDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2VhcmNoO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWw5elpXRnlZMmd1YW5NaVhTd2libUZ0WlhNaU9sc2lVMlZoY21Ob0lpd2ljMlZ5WTJoWGNtRndJaXdpWkc5amRXMWxiblFpTENKeGRXVnllVk5sYkdWamRHOXlJaXdpYzJWaGNtTm9RblJ1SWl3aWMyVmhjbU5vUm05eWJTSXNJbVp2Y20xQlkzUnBkbVZEYkdGemN5SXNJbDlsZG1WdWRITWlMQ0poWkdSRmRtVnVkRXhwYzNSbGJtVnlJaXdpWlNJc0luUmhjbWRsZENJc0luQmhjbVZ1ZEVWc1pXMWxiblFpTENKamJHRnpjMHhwYzNRaUxDSjBiMmRuYkdVaUxDSjNhVzVrYjNjaUxDSmpiMjUwWVdsdWN5SXNJbkpsYlc5MlpTSmRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3p0SlFVRnhRa0VzVFR0QlFVTnNRaXh4UWtGQll6dEJRVUZCT3p0QlFVTllPMEZCUTBFc1YwRkJTME1zVTBGQlRDeEhRVUZwUWtNc1UwRkJVME1zWVVGQlZDeERRVUYxUWl3eVFrRkJka0lzUTBGQmFrSTdRVUZEUVN4WFFVRkxReXhUUVVGTUxFZEJRV2xDUml4VFFVRlRReXhoUVVGVUxFTkJRWFZDTERaQ1FVRjJRaXhEUVVGcVFqdEJRVU5CTEZkQlFVdEZMRlZCUVV3c1IwRkJhMEpJTEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzTUVKQlFYWkNMRU5CUVd4Q096dEJRVVZCTEZkQlFVdEhMR1ZCUVV3c1IwRkJkVUlzYVVOQlFYWkNPMEZCUTBFN1FVRkRRU3hYUVVGTFF5eFBRVUZNTzBGQlEwWTdPenM3WjBOQlJWTTdRVUZCUVRzN1FVRkRVQ3hqUVVGTFRpeFRRVUZNTEVOQlFXVlBMR2RDUVVGbUxFTkJRV2RETEU5QlFXaERMRVZCUVhsRExHRkJRVXM3TzBGQlJUTkRMR2RDUVVGSlF5eEZRVUZGUXl4TlFVRkdMRXRCUVdFc1RVRkJTMDRzVTBGQmJFSXNTVUZCSzBKTExFVkJRVVZETEUxQlFVWXNRMEZCVTBNc1lVRkJWQ3hMUVVFeVFpeE5RVUZMVUN4VFFVRnVSU3hGUVVFNFJUdEJRVU16UlN4eFFrRkJTME1zVlVGQlRDeERRVUZuUWs4c1UwRkJhRUlzUTBGQk1FSkRMRTFCUVRGQ0xFTkJRV2xETEUxQlFVdFFMR1ZCUVhSRE8wRkJRMFk3UVVGRFNDeFZRVXhFT3p0QlFVOUJVU3huUWtGQlQwNHNaMEpCUVZBc1EwRkJkMElzVVVGQmVFSXNSVUZCYTBNc1lVRkJTenRCUVVOd1F5eG5Ra0ZCU1N4TlFVRkxTQ3hWUVVGTUxFTkJRV2RDVHl4VFFVRm9RaXhEUVVFd1FrY3NVVUZCTVVJc1EwRkJiVU1zVFVGQlMxUXNaVUZCZUVNc1EwRkJTaXhGUVVFNFJEdEJRVU16UkN4dFFrRkJTVWNzUTBGQlNpeEZRVUZQTzBGQlEwb3NkMEpCUVV0S0xGVkJRVXdzUTBGQlowSlBMRk5CUVdoQ0xFTkJRVEJDU1N4TlFVRXhRaXhEUVVGcFF5eE5RVUZMVml4bFFVRjBRenRCUVVOR08wRkJRMGc3UVVGRFNDeFZRVTVFTzBGQlQwWTdPenM3T3p0clFrRXpRbWxDVGl4Tk8wRkJORUp3UWlJc0ltWnBiR1VpT2lKZmMyVmhjbU5vTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2laWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nVTJWaGNtTm9JSHRjY2x4dUlDQWdZMjl1YzNSeWRXTjBiM0lvS1NCN1hISmNiaUFnSUNBZ0lDOHZJRVJQVFZ4eVhHNGdJQ0FnSUNCMGFHbHpMbk5sY21Ob1YzSmhjQ0E5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSW9KeTUxYzJWeUxYQmhibVZzWDE5cGRHVnRMUzF6WldGeVkyZ25LVHRjY2x4dUlDQWdJQ0FnZEdocGN5NXpaV0Z5WTJoQ2RHNGdQU0JrYjJOMWJXVnVkQzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3VkWE5sY2kxd1lXNWxiRjlmWW5WMGRHOXVMUzF6WldGeVkyZ25LVHRjY2x4dUlDQWdJQ0FnZEdocGN5NXpaV0Z5WTJoR2IzSnRJRDBnWkc5amRXMWxiblF1Y1hWbGNubFRaV3hsWTNSdmNpZ25MblZ6WlhJdGNHRnVaV3hmWDNObFlYSmphQzFtYjNKdEp5azdYSEpjYmx4eVhHNGdJQ0FnSUNCMGFHbHpMbVp2Y20xQlkzUnBkbVZEYkdGemN5QTlJQ2QxYzJWeUxYQmhibVZzWDE5elpXRnlZMmd0Wm05eWJTMHRZV04wYVhabEp6dGNjbHh1SUNBZ0lDQWdMeThnSUdWMlpXNTBjMXh5WEc0Z0lDQWdJQ0IwYUdsekxsOWxkbVZ1ZEhNb0tUdGNjbHh1SUNBZ2ZUdGNjbHh1WEhKY2JpQWdJRjlsZG1WdWRITW9LU0I3WEhKY2JpQWdJQ0FnSUhSb2FYTXVjMlZ5WTJoWGNtRndMbUZrWkVWMlpXNTBUR2x6ZEdWdVpYSW9KMk5zYVdOckp5d2daU0E5UGlCN1hISmNiaUFnSUNBZ0lDQWdJRnh5WEc0Z0lDQWdJQ0FnSUNCcFppQW9aUzUwWVhKblpYUWdQVDA5SUhSb2FYTXVjMlZoY21Ob1FuUnVJSHg4SUdVdWRHRnlaMlYwTG5CaGNtVnVkRVZzWlcxbGJuUWdQVDA5SUhSb2FYTXVjMlZoY21Ob1FuUnVLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdWMyVmhjbU5vUm05eWJTNWpiR0Z6YzB4cGMzUXVkRzluWjJ4bEtIUm9hWE11Wm05eWJVRmpkR2wyWlVOc1lYTnpLVHRjY2x4dUlDQWdJQ0FnSUNBZ2ZWeHlYRzRnSUNBZ0lDQjlLVHRjY2x4dVhISmNiaUFnSUNBZ0lIZHBibVJ2ZHk1aFpHUkZkbVZ1ZEV4cGMzUmxibVZ5S0NkelkzSnZiR3duTENCbElEMCtJSHRjY2x4dUlDQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdWMyVmhjbU5vUm05eWJTNWpiR0Z6YzB4cGMzUXVZMjl1ZEdGcGJuTW9kR2hwY3k1bWIzSnRRV04wYVhabFEyeGhjM01wS1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaGxLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVjMlZoY21Ob1JtOXliUzVqYkdGemMweHBjM1F1Y21WdGIzWmxLSFJvYVhNdVptOXliVUZqZEdsMlpVTnNZWE56S1R0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJSDBwTzF4eVhHNGdJQ0I5TzF4eVhHNTlPeUpkZlE9PSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICBmdW5jdGlvbiBTdWJzY3JpYmUoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaWJlKTtcblxuICAgICAgLy8gRE9NXG4gICAgICB0aGlzLnN1YnNjcmliZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Vic2NyaWJlX19mb3JtJyk7XG4gICAgICB0aGlzLnN1YnNjcmliZUJ0biA9IHRoaXMuc3Vic2NyaWJlRm9ybS5xdWVyeVNlbGVjdG9yKCcuc3Vic2NyaWJlX19mb3JtLWJ0bicpO1xuXG4gICAgICAvLyAgRXZlbnRcbiAgICAgIHRoaXMuX2V2ZW50KCk7XG4gICAgICB0aGlzLl9idG5UYXJnZXRBbmltYXRpb24oKTtcbiAgIH1cblxuICAgX2NyZWF0ZUNsYXNzKFN1YnNjcmliZSwgW3tcbiAgICAgIGtleTogJ19ldmVudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2V2ZW50KCkge1xuICAgICAgICAgdGhpcy5zdWJzY3JpYmVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgZW1haWwgPSBldmVudC50YXJnZXQuZW1haWwudmFsdWU7XG5cbiAgICAgICAgICAgIGVtYWlsID0gSlNPTi5zdHJpbmdpZnkoZW1haWwpO1xuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL21heHMtNGViZTQuZmlyZWJhc2Vpby5jb20vY2xpZW50cy5qc29uJyk7XG4gICAgICAgICAgICB4aHIuc2VuZChlbWFpbCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQntGC0L/RgNCw0LLQu9C10L3QvdC+IScpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5lbWFpbC52YWx1ZSA9ICcnO1xuICAgICAgICAgfSk7XG4gICAgICB9XG4gICB9LCB7XG4gICAgICBrZXk6ICdfYnRuVGFyZ2V0QW5pbWF0aW9uJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYnRuVGFyZ2V0QW5pbWF0aW9uKCkge1xuICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgdGhpcy5zdWJzY3JpYmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHBvc1ggPSBlLm9mZnNldFggKyAncHgnLFxuICAgICAgICAgICAgICAgIHBvc1kgPSBlLm9mZnNldFkgKyAncHgnO1xuXG4gICAgICAgICAgICB2YXIgdGFyZ2V0QW5pbWF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0YXJnZXRBbmltYXRpb24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uLWJ1YmJsZV9fZm9ybS1idG4tdGVyZ2V0LWFuaW1hdGlvbicpO1xuICAgICAgICAgICAgdGFyZ2V0QW5pbWF0aW9uLnN0eWxlLmxlZnQgPSBwb3NYO1xuICAgICAgICAgICAgdGFyZ2V0QW5pbWF0aW9uLnN0eWxlLnRvcCA9IHBvc1k7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmVCdG4uYXBwZW5kQ2hpbGQodGFyZ2V0QW5pbWF0aW9uKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICB2YXIgZGVsRWwgPSBfdGhpcy5zdWJzY3JpYmVCdG4uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmVCdG4ucmVtb3ZlQ2hpbGQoZGVsRWwpO1xuICAgICAgICAgICAgfSwgNDAwKTtcbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgfV0pO1xuXG4gICByZXR1cm4gU3Vic2NyaWJlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTdWJzY3JpYmU7XG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbDl6ZFdKelkzSnBZbVV1YW5NaVhTd2libUZ0WlhNaU9sc2lVM1ZpYzJOeWFXSmxJaXdpYzNWaWMyTnlhV0psUm05eWJTSXNJbVJ2WTNWdFpXNTBJaXdpY1hWbGNubFRaV3hsWTNSdmNpSXNJbk4xWW5OamNtbGlaVUowYmlJc0lsOWxkbVZ1ZENJc0lsOWlkRzVVWVhKblpYUkJibWx0WVhScGIyNGlMQ0poWkdSRmRtVnVkRXhwYzNSbGJtVnlJaXdpWlhabGJuUWlMQ0p3Y21WMlpXNTBSR1ZtWVhWc2RDSXNJbVZ0WVdsc0lpd2lkR0Z5WjJWMElpd2lkbUZzZFdVaUxDSktVMDlPSWl3aWMzUnlhVzVuYVdaNUlpd2llR2h5SWl3aVdFMU1TSFIwY0ZKbGNYVmxjM1FpTENKdmNHVnVJaXdpYzJWdVpDSXNJbk5sZEZScGJXVnZkWFFpTENKeVpXRmtlVk4wWVhSbElpd2lZMjl1YzI5c1pTSXNJbXh2WnlJc0luQnZjMWdpTENKbElpd2liMlptYzJWMFdDSXNJbkJ2YzFraUxDSnZabVp6WlhSWklpd2lkR0Z5WjJWMFFXNXBiV0YwYVc5dUlpd2lZM0psWVhSbFJXeGxiV1Z1ZENJc0ltTnNZWE56VEdsemRDSXNJbUZrWkNJc0luTjBlV3hsSWl3aWJHVm1kQ0lzSW5SdmNDSXNJbUZ3Y0dWdVpFTm9hV3hrSWl3aVpHVnNSV3dpTENKamFHbHNaSEpsYmlJc0luSmxiVzkyWlVOb2FXeGtJbDBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN08wbEJRWEZDUVN4VE8wRkJRMnhDTEhkQ1FVRmpPMEZCUVVFN08wRkJRMWc3UVVGRFFTeFhRVUZMUXl4aFFVRk1MRWRCUVhGQ1F5eFRRVUZUUXl4aFFVRlVMRU5CUVhWQ0xHdENRVUYyUWl4RFFVRnlRanRCUVVOQkxGZEJRVXRETEZsQlFVd3NSMEZCYjBJc1MwRkJTMGdzWVVGQlRDeERRVUZ0UWtVc1lVRkJia0lzUTBGQmFVTXNjMEpCUVdwRExFTkJRWEJDT3p0QlFVVkJPMEZCUTBFc1YwRkJTMFVzVFVGQlREdEJRVU5CTEZkQlFVdERMRzFDUVVGTU8wRkJRMFk3T3pzN0swSkJSVkU3UVVGRFRpeGpRVUZMVEN4aFFVRk1MRU5CUVcxQ1RTeG5Ra0ZCYmtJc1EwRkJiME1zVVVGQmNFTXNSVUZCT0VNc1lVRkJTenRCUVVOb1JFTXNhMEpCUVUxRExHTkJRVTQ3TzBGQlJVRXNaMEpCUVVsRExGRkJRVkZHTEUxQlFVMUhMRTFCUVU0c1EwRkJZVVFzUzBGQllpeERRVUZ0UWtVc1MwRkJMMEk3TzBGQlJVRkdMRzlDUVVGUlJ5eExRVUZMUXl4VFFVRk1MRU5CUVdWS0xFdEJRV1lzUTBGQlVqczdRVUZGUVN4blFrRkJTVXNzVFVGQlRTeEpRVUZKUXl4alFVRktMRVZCUVZZN1FVRkRRVVFzWjBKQlFVbEZMRWxCUVVvc1EwRkJVeXhOUVVGVUxFVkJRV2xDTEdkRVFVRnFRanRCUVVOQlJpeG5Ra0ZCU1Vjc1NVRkJTaXhEUVVGVFVpeExRVUZVT3p0QlFVVkJVeXgxUWtGQlZ5eFpRVUZOTzBGQlEyUXNiVUpCUVVsS0xFbEJRVWxMTEZWQlFVb3NTVUZCYTBJc1EwRkJkRUlzUlVGQmVVSTdRVUZEZEVKRExEQkNRVUZSUXl4SFFVRlNMRU5CUVZrc1kwRkJXanRCUVVOR08wRkJRMGdzWVVGS1JDeEZRVWxITEVsQlNrZzdPMEZCVFVGa0xHdENRVUZOUnl4TlFVRk9MRU5CUVdGRUxFdEJRV0lzUTBGQmJVSkZMRXRCUVc1Q0xFZEJRVEpDTEVWQlFUTkNPMEZCUTBZc1ZVRnNRa1E3UVVGdFFrWTdPenMwUTBGRmNVSTdRVUZCUVRzN1FVRkRia0lzWTBGQlMxSXNXVUZCVEN4RFFVRnJRa2NzWjBKQlFXeENMRU5CUVcxRExFOUJRVzVETEVWQlFUUkRMR0ZCUVVzN1FVRkRPVU1zWjBKQlFVbG5RaXhQUVVGUFF5eEZRVUZGUXl4UFFVRkdMRWRCUVZrc1NVRkJka0k3UVVGQlFTeG5Ra0ZEU1VNc1QwRkJUMFlzUlVGQlJVY3NUMEZCUml4SFFVRlpMRWxCUkhaQ096dEJRVWRCTEdkQ1FVRkpReXhyUWtGQmEwSXhRaXhUUVVGVE1rSXNZVUZCVkN4RFFVRjFRaXhMUVVGMlFpeERRVUYwUWp0QlFVTkJSQ3cwUWtGQlowSkZMRk5CUVdoQ0xFTkJRVEJDUXl4SFFVRXhRaXhEUVVFNFFpd3dRMEZCT1VJN1FVRkRRVWdzTkVKQlFXZENTU3hMUVVGb1FpeERRVUZ6UWtNc1NVRkJkRUlzUjBGQk5rSldMRWxCUVRkQ08wRkJRMEZMTERSQ1FVRm5Ra2tzUzBGQmFFSXNRMEZCYzBKRkxFZEJRWFJDTEVkQlFUUkNVaXhKUVVFMVFqdEJRVU5CTEd0Q1FVRkxkRUlzV1VGQlRDeERRVUZyUWl0Q0xGZEJRV3hDTEVOQlFUaENVQ3hsUVVFNVFqczdRVUZGUVZRc2RVSkJRVmNzV1VGQlRUdEJRVU5rTEcxQ1FVRkphVUlzVVVGQlVTeE5RVUZMYUVNc1dVRkJUQ3hEUVVGclFtbERMRkZCUVd4Q0xFTkJRVEpDTEVOQlFUTkNMRU5CUVZvN1FVRkRRU3h4UWtGQlMycERMRmxCUVV3c1EwRkJhMEpyUXl4WFFVRnNRaXhEUVVFNFFrWXNTMEZCT1VJN1FVRkRSaXhoUVVoRUxFVkJSMGNzUjBGSVNEdEJRVWxHTEZWQlpFUTdRVUZsUmpzN096czdPMnRDUVdwRWFVSndReXhUTzBGQmEwUndRaUlzSW1acGJHVWlPaUpmYzNWaWMyTnlhV0psTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2laWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nVTNWaWMyTnlhV0psSUh0Y2NseHVJQ0FnWTI5dWMzUnlkV04wYjNJb0tTQjdYSEpjYmlBZ0lDQWdJQzh2SUVSUFRWeHlYRzRnSUNBZ0lDQjBhR2x6TG5OMVluTmpjbWxpWlVadmNtMGdQU0JrYjJOMWJXVnVkQzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3VjM1ZpYzJOeWFXSmxYMTltYjNKdEp5azdYSEpjYmlBZ0lDQWdJSFJvYVhNdWMzVmljMk55YVdKbFFuUnVJRDBnZEdocGN5NXpkV0p6WTNKcFltVkdiM0p0TG5GMVpYSjVVMlZzWldOMGIzSW9KeTV6ZFdKelkzSnBZbVZmWDJadmNtMHRZblJ1SnlrN1hISmNibHh5WEc0Z0lDQWdJQ0F2THlBZ1JYWmxiblJjY2x4dUlDQWdJQ0FnZEdocGN5NWZaWFpsYm5Rb0tUdGNjbHh1SUNBZ0lDQWdkR2hwY3k1ZlluUnVWR0Z5WjJWMFFXNXBiV0YwYVc5dUtDazdYSEpjYmlBZ0lIMDdYSEpjYmx4eVhHNGdJQ0JmWlhabGJuUW9LU0I3WEhKY2JpQWdJQ0FnSUhSb2FYTXVjM1ZpYzJOeWFXSmxSbTl5YlM1aFpHUkZkbVZ1ZEV4cGMzUmxibVZ5S0NkemRXSnRhWFFuTENCbElEMCtJSHRjY2x4dUlDQWdJQ0FnSUNBZ1pYWmxiblF1Y0hKbGRtVnVkRVJsWm1GMWJIUW9LVHRjY2x4dUlDQWdJQ0FnSUNBZ1hISmNiaUFnSUNBZ0lDQWdJR3hsZENCbGJXRnBiQ0E5SUdWMlpXNTBMblJoY21kbGRDNWxiV0ZwYkM1MllXeDFaVHRjY2x4dUlDQWdJQ0FnSUNBZ1hISmNiaUFnSUNBZ0lDQWdJR1Z0WVdsc0lEMGdTbE5QVGk1emRISnBibWRwWm5rb1pXMWhhV3dwTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQ0FnYkdWMElIaG9jaUE5SUc1bGR5QllUVXhJZEhSd1VtVnhkV1Z6ZENncE8xeHlYRzRnSUNBZ0lDQWdJQ0I0YUhJdWIzQmxiaWduVUU5VFZDY3NJQ2RvZEhSd2N6b3ZMMjFoZUhNdE5HVmlaVFF1Wm1seVpXSmhjMlZwYnk1amIyMHZZMnhwWlc1MGN5NXFjMjl1SnlrN1hISmNiaUFnSUNBZ0lDQWdJSGhvY2k1elpXNWtLR1Z0WVdsc0tUdGNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lITmxkRlJwYldWdmRYUW9LQ2tnUFQ0Z2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9lR2h5TG5KbFlXUjVVM1JoZEdVZ1BUMGdOQ2tnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNCamIyNXpiMnhsTG14dlp5Z24wSjdSZ3RDLzBZRFFzTkN5MEx2UXRkQzkwTDNRdmlFbktUdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHlYRzRnSUNBZ0lDQWdJQ0I5TENBeE1EQXdLVHRjY2x4dUlDQWdJQ0FnSUNBZ1hISmNiaUFnSUNBZ0lDQWdJR1YyWlc1MExuUmhjbWRsZEM1bGJXRnBiQzUyWVd4MVpTQTlJQ2NuTzF4eVhHNGdJQ0FnSUNCOUtUdGNjbHh1SUNBZ2ZUdGNjbHh1WEhKY2JpQWdJRjlpZEc1VVlYSm5aWFJCYm1sdFlYUnBiMjRvS1NCN1hISmNiaUFnSUNBZ0lIUm9hWE11YzNWaWMyTnlhV0psUW5SdUxtRmtaRVYyWlc1MFRHbHpkR1Z1WlhJb0oyTnNhV05ySnl3Z1pTQTlQaUI3WEhKY2JpQWdJQ0FnSUNBZ0lHeGxkQ0J3YjNOWUlEMGdaUzV2Wm1aelpYUllJQ3NnSjNCNEp5eGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lIQnZjMWtnUFNCbExtOW1abk5sZEZrZ0t5QW5jSGduTzF4eVhHNWNjbHh1SUNBZ0lDQWdJQ0FnYkdWMElIUmhjbWRsZEVGdWFXMWhkR2x2YmlBOUlHUnZZM1Z0Wlc1MExtTnlaV0YwWlVWc1pXMWxiblFvSjJScGRpY3BPMXh5WEc0Z0lDQWdJQ0FnSUNCMFlYSm5aWFJCYm1sdFlYUnBiMjR1WTJ4aGMzTk1hWE4wTG1Ga1pDZ25ZblYwZEc5dUxXSjFZbUpzWlY5ZlptOXliUzFpZEc0dGRHVnlaMlYwTFdGdWFXMWhkR2x2YmljcE8xeHlYRzRnSUNBZ0lDQWdJQ0IwWVhKblpYUkJibWx0WVhScGIyNHVjM1I1YkdVdWJHVm1kQ0E5SUhCdmMxZzdYSEpjYmlBZ0lDQWdJQ0FnSUhSaGNtZGxkRUZ1YVcxaGRHbHZiaTV6ZEhsc1pTNTBiM0FnUFNCd2IzTlpPMXh5WEc0Z0lDQWdJQ0FnSUNCMGFHbHpMbk4xWW5OamNtbGlaVUowYmk1aGNIQmxibVJEYUdsc1pDaDBZWEpuWlhSQmJtbHRZWFJwYjI0cE8xeHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ2MyVjBWR2x0Wlc5MWRDZ29LU0E5UGlCN1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUd4bGRDQmtaV3hGYkNBOUlIUm9hWE11YzNWaWMyTnlhV0psUW5SdUxtTm9hV3hrY21WdVd6QmRPMXh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5OMVluTmpjbWxpWlVKMGJpNXlaVzF2ZG1WRGFHbHNaQ2hrWld4RmJDazdYSEpjYmlBZ0lDQWdJQ0FnSUgwc0lEUXdNQ2s3WEhKY2JpQWdJQ0FnSUgwcE8xeHlYRzRnSUNCOU8xeHlYRzU5T3lKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfYWRkUHJvZHVjdEl0ZW1zID0gcmVxdWlyZSgnLi9fYWRkLXByb2R1Y3QtaXRlbXMnKTtcblxudmFyIF9hZGRQcm9kdWN0SXRlbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkUHJvZHVjdEl0ZW1zKTtcblxudmFyIF9idXJnZXJNZW51ID0gcmVxdWlyZSgnLi9fYnVyZ2VyLW1lbnUnKTtcblxudmFyIF9idXJnZXJNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1cmdlck1lbnUpO1xuXG52YXIgX2ZpeGVkSGVhZGVyID0gcmVxdWlyZSgnLi9fZml4ZWQtaGVhZGVyJyk7XG5cbnZhciBfZml4ZWRIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZml4ZWRIZWFkZXIpO1xuXG52YXIgX3NlYXJjaCA9IHJlcXVpcmUoJy4vX3NlYXJjaCcpO1xuXG52YXIgX3NlYXJjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWFyY2gpO1xuXG52YXIgX3Byb2R1Y3RJdGVtc0V2ZW50cyA9IHJlcXVpcmUoJy4vX3Byb2R1Y3QtaXRlbXMtZXZlbnRzJyk7XG5cbnZhciBfcHJvZHVjdEl0ZW1zRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb2R1Y3RJdGVtc0V2ZW50cyk7XG5cbnZhciBfc3Vic2NyaWJlID0gcmVxdWlyZSgnLi9fc3Vic2NyaWJlJyk7XG5cbnZhciBfc3Vic2NyaWJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N1YnNjcmliZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCk7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICAvLyBDbG9uZSBuYXZpZ2F0aW9uXG4gICAgZnVuY3Rpb24gY2xvbmVOYXYoKSB7XG4gICAgICAgIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW5hdl9fbGlzdCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgdmFyIGNsb25lTmF2UGFycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC1uYXYnKTtcblxuICAgICAgICBjbG9uZU5hdlBhcnJlbnQuaW5zZXJ0QmVmb3JlKG5hdiwgY2xvbmVOYXZQYXJyZW50WzBdKTtcbiAgICB9O1xuICAgIGNsb25lTmF2KCk7XG5cbiAgICAvLyBTZXQgbWFyZ2luIHRvcCBmb3IgdG9wIHNlY3Rpb25cbiAgICBmdW5jdGlvbiBzZXRNYXJnaW4oKSB7XG4gICAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyJyksXG4gICAgICAgICAgICB0b3BTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC1zZWN0aW9uJyk7XG5cbiAgICAgICAgdG9wU2VjdGlvbi5zdHlsZS5tYXJnaW5Ub3AgPSBoZWFkZXIub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICB9O1xuICAgIHNldE1hcmdpbigpO1xuXG4gICAgdmFyIGFkZFByb2R1Y3RJdGVtcyA9IG5ldyBfYWRkUHJvZHVjdEl0ZW1zMi5kZWZhdWx0KCk7XG4gICAgdmFyIGJ1cmdlck1lbnUgPSBuZXcgX2J1cmdlck1lbnUyLmRlZmF1bHQoKTtcbiAgICB2YXIgZml4ZWRIZWFkZXIgPSBuZXcgX2ZpeGVkSGVhZGVyMi5kZWZhdWx0KCk7XG4gICAgdmFyIHNlYXJjaCA9IG5ldyBfc2VhcmNoMi5kZWZhdWx0KCk7XG4gICAgdmFyIHByb2R1Y3RJdGVtc0V2ZW50cyA9IG5ldyBfcHJvZHVjdEl0ZW1zRXZlbnRzMi5kZWZhdWx0KCk7XG4gICAgdmFyIHN1YnNjcmliZSA9IG5ldyBfc3Vic2NyaWJlMi5kZWZhdWx0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW1aaGEyVmZPRFl3TUdNNFlqUXVhbk1pWFN3aWJtRnRaWE1pT2xzaWQybHVaRzkzSWl3aVlXUmtSWFpsYm5STWFYTjBaVzVsY2lJc0ltbHVhWFFpTENKamJHOXVaVTVoZGlJc0ltNWhkaUlzSW1SdlkzVnRaVzUwSWl3aWNYVmxjbmxUWld4bFkzUnZjaUlzSW1Oc2IyNWxUbTlrWlNJc0ltTnNiMjVsVG1GMlVHRnljbVZ1ZENJc0ltbHVjMlZ5ZEVKbFptOXlaU0lzSW5ObGRFMWhjbWRwYmlJc0ltaGxZV1JsY2lJc0luUnZjRk5sWTNScGIyNGlMQ0p6ZEhsc1pTSXNJbTFoY21kcGJsUnZjQ0lzSW05bVpuTmxkRWhsYVdkb2RDSXNJbUZrWkZCeWIyUjFZM1JKZEdWdGN5SXNJbUoxY21kbGNrMWxiblVpTENKbWFYaGxaRWhsWVdSbGNpSXNJbk5sWVhKamFDSXNJbkJ5YjJSMVkzUkpkR1Z0YzBWMlpXNTBjeUlzSW5OMVluTmpjbWxpWlNKZExDSnRZWEJ3YVc1bmN5STZJanM3UVVGRlFUczdPenRCUVVOQk96czdPMEZCUTBFN096czdRVUZEUVRzN096dEJRVU5CT3pzN08wRkJRMEU3T3pzN096dEJRVkJCUVN4UFFVRlBReXhuUWtGQlVDeERRVUYzUWl4clFrRkJlRUlzUlVGQk5FTkRMRWxCUVRWRE96dEJRVk5CTEZOQlFWTkJMRWxCUVZRc1IwRkJaMEk3TzBGQlJWbzdRVUZEUVN4aFFVRlRReXhSUVVGVUxFZEJRVzlDTzBGQlEyaENMRmxCUVVsRExFMUJRVTFETEZOQlFWTkRMR0ZCUVZRc1EwRkJkVUlzYlVKQlFYWkNMRVZCUVRSRFF5eFRRVUUxUXl4RFFVRnpSQ3hKUVVGMFJDeERRVUZXTzBGQlEwRXNXVUZCU1VNc2EwSkJRV3RDU0N4VFFVRlRReXhoUVVGVUxFTkJRWFZDTEZsQlFYWkNMRU5CUVhSQ096dEJRVVZCUlN4M1FrRkJaMEpETEZsQlFXaENMRU5CUVRaQ1RDeEhRVUUzUWl4RlFVRnJRMGtzWjBKQlFXZENMRU5CUVdoQ0xFTkJRV3hETzBGQlEwZzdRVUZEUkV3N08wRkJSVUU3UVVGRFFTeGhRVUZUVHl4VFFVRlVMRWRCUVhGQ08wRkJRMnBDTEZsQlFVbERMRk5CUVZOT0xGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc1UwRkJka0lzUTBGQllqdEJRVUZCTEZsQlEwbE5MR0ZCUVdGUUxGTkJRVk5ETEdGQlFWUXNRMEZCZFVJc1kwRkJka0lzUTBGRWFrSTdPMEZCUjBGTkxHMUNRVUZYUXl4TFFVRllMRU5CUVdsQ1F5eFRRVUZxUWl4SFFVRTJRa2dzVDBGQlQwa3NXVUZCVUN4SFFVRnpRaXhKUVVGdVJEdEJRVU5JTzBGQlEwUk1PenRCUVVWQkxGRkJRVTFOTEd0Q1FVRnJRaXdyUWtGQmVFSTdRVUZEUVN4UlFVRk5ReXhoUVVGaExEQkNRVUZ1UWp0QlFVTkJMRkZCUVUxRExHTkJRV01zTWtKQlFYQkNPMEZCUTBFc1VVRkJUVU1zVTBGQlV5eHpRa0ZCWmp0QlFVTkJMRkZCUVUxRExIRkNRVUZ4UWl4clEwRkJNMEk3UVVGRFFTeFJRVUZOUXl4WlFVRlpMSGxDUVVGc1FqdEJRVU5JSWl3aVptbHNaU0k2SW1aaGEyVmZPRFl3TUdNNFlqUXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKM2FXNWtiM2N1WVdSa1JYWmxiblJNYVhOMFpXNWxjaWduUkU5TlEyOXVkR1Z1ZEV4dllXUmxaQ2NzSUdsdWFYUXBPMXh5WEc1Y2NseHVhVzF3YjNKMElFRmtaRkJ5YjJSMVkzUkpkR1Z0Y3lCbWNtOXRJQ2N1TDE5aFpHUXRjSEp2WkhWamRDMXBkR1Z0Y3ljN1hISmNibWx0Y0c5eWRDQkNkWEpuWlhKTlpXNTFJR1p5YjIwZ0p5NHZYMkoxY21kbGNpMXRaVzUxSnp0Y2NseHVhVzF3YjNKMElFWnBlR1ZrU0dWaFpHVnlJR1p5YjIwZ0p5NHZYMlpwZUdWa0xXaGxZV1JsY2ljN1hISmNibWx0Y0c5eWRDQlRaV0Z5WTJnZ1puSnZiU0FuTGk5ZmMyVmhjbU5vSnp0Y2NseHVhVzF3YjNKMElGQnliMlIxWTNSSmRHVnRjMFYyWlc1MGN5Qm1jbTl0SUNjdUwxOXdjbTlrZFdOMExXbDBaVzF6TFdWMlpXNTBjeWM3WEhKY2JtbHRjRzl5ZENCVGRXSnpZM0pwWW1VZ1puSnZiU0FuTGk5ZmMzVmljMk55YVdKbEp6dGNjbHh1WEhKY2JtWjFibU4wYVc5dUlHbHVhWFFvS1NCN1hISmNiaUFnSUZ4eVhHNGdJQ0FnTHk4Z1EyeHZibVVnYm1GMmFXZGhkR2x2Ymx4eVhHNGdJQ0FnWm5WdVkzUnBiMjRnWTJ4dmJtVk9ZWFlvS1NCN1hISmNiaUFnSUNBZ0lDQWdiR1YwSUc1aGRpQTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNJb0p5NW9aV0ZrWlhJdGJtRjJYMTlzYVhOMEp5a3VZMnh2Ym1WT2IyUmxLSFJ5ZFdVcE8xeHlYRzRnSUNBZ0lDQWdJR3hsZENCamJHOXVaVTVoZGxCaGNuSmxiblFnUFNCa2IyTjFiV1Z1ZEM1eGRXVnllVk5sYkdWamRHOXlLQ2N1Wm1sNFpXUXRibUYySnlrN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUdOc2IyNWxUbUYyVUdGeWNtVnVkQzVwYm5ObGNuUkNaV1p2Y21Vb2JtRjJMQ0JqYkc5dVpVNWhkbEJoY25KbGJuUmJNRjBwTzF4eVhHNGdJQ0FnZlR0Y2NseHVJQ0FnSUdOc2IyNWxUbUYyS0NrN1hISmNibHh5WEc0Z0lDQWdMeThnVTJWMElHMWhjbWRwYmlCMGIzQWdabTl5SUhSdmNDQnpaV04wYVc5dVhISmNiaUFnSUNCbWRXNWpkR2x2YmlCelpYUk5ZWEpuYVc0b0tTQjdYSEpjYmlBZ0lDQWdJQ0FnYkdWMElHaGxZV1JsY2lBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1b1pXRmtaWEluS1N4Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZEc5d1UyVmpkR2x2YmlBOUlHUnZZM1Z0Wlc1MExuRjFaWEo1VTJWc1pXTjBiM0lvSnk1MGIzQXRjMlZqZEdsdmJpY3BPMXh5WEc1Y2NseHVJQ0FnSUNBZ0lDQjBiM0JUWldOMGFXOXVMbk4wZVd4bExtMWhjbWRwYmxSdmNDQTlJR2hsWVdSbGNpNXZabVp6WlhSSVpXbG5hSFFnS3lBbmNIZ25PMXh5WEc0Z0lDQWdmVHRjY2x4dUlDQWdJSE5sZEUxaGNtZHBiaWdwWEhKY2JseHlYRzRnSUNBZ1kyOXVjM1FnWVdSa1VISnZaSFZqZEVsMFpXMXpJRDBnYm1WM0lFRmtaRkJ5YjJSMVkzUkpkR1Z0Y3p0Y2NseHVJQ0FnSUdOdmJuTjBJR0oxY21kbGNrMWxiblVnUFNCdVpYY2dRblZ5WjJWeVRXVnVkVHRjY2x4dUlDQWdJR052Ym5OMElHWnBlR1ZrU0dWaFpHVnlJRDBnYm1WM0lFWnBlR1ZrU0dWaFpHVnlPMXh5WEc0Z0lDQWdZMjl1YzNRZ2MyVmhjbU5vSUQwZ2JtVjNJRk5sWVhKamFEdGNjbHh1SUNBZ0lHTnZibk4wSUhCeWIyUjFZM1JKZEdWdGMwVjJaVzUwY3lBOUlHNWxkeUJRY205a2RXTjBTWFJsYlhORmRtVnVkSE03WEhKY2JpQWdJQ0JqYjI1emRDQnpkV0p6WTNKcFltVWdQU0J1WlhjZ1UzVmljMk55YVdKbE8xeHlYRzU5T3lKZGZRPT0iXX0=
